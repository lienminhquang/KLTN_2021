{"version":3,"sources":["kendo.grid.js"],"names":["f","define","$","normalizeText","text","String","replace","REPLACE_REGEX","SPACE","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","LRUCache","DEFAULT_OPTIONS","defaultMeasureBox","window","kendo","util","Class","extend","init","size","this","_size","_length","_map","put","value","map","entry","_head","_tail","newer","older","get","baselineMarkerSize","document","createElement","cssText","options","_cache","styleKey","cacheKey","cachedResult","baselineMarker","textStr","box","_baselineMarker","cloneNode","textContent","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","marker","deepExtend","jQuery","amd","a1","a2","a3","undefined","attrEquals","attrName","attrValue","attr","groupCells","count","Array","stringifyAttributes","attributes","result","STRING","cursor","context","add","css","reorder","selector","source","dest","before","idx","sourceIndex","eq","appendTo","elements","lockedContent","content","filter","find","attachCustomCommandEvent","container","commands","command","commandName","isArray","isPlainObject","click","name","on","CLICK","NS","proxy","normalizeColumns","columns","encoded","hide","locked","parentIds","column","hidden","uid","field","isVisible","addHiddenStyle","footerAttributes","headerAttributes","guid","headers","id","columnParent","parents","columnParents","inserted","splice","setColumnVisibility","visible","setVisibility","show","method","removeHiddenStyle","setColumnMediaVisibility","setColumnMatchesMedia","hideByMedia","_hideByMedia","matchesMedia","columnMatchesMedia","isUndefined","media","isCellVisible","display","isElementVisible","element","visibleColumns","grep","columnsWithMedia","minScreenWidth","Error","concat","toJQuery","toArray","updateCellRowSpan","cell","sourceLockedColumnsCount","lockedColumnDepth","depth","lockedColumns","nonLockedColumnDepth","nonLockedColumns","rowSpan","findColumnByUID","findColumnByField","moveCellsBetweenContainers","sources","target","leafs","destination","groups","action","rows","sourcesDepth","targetDepth","children","insertAfter","last","addRowSpanValue","moveCells","updateCellIndex","thead","offset","position","allColumns","cells","leafColumns","el","hasClass","columnPosition","row","temp","max","sourcePosition","columnVisiblePosition","ths","t","cellCounts","findParentColumnWithChildren","index","rtl","targetLocked","findReorderTarget","masterColumns","parent","parentColumns","targetIndex","inArray","flatColumnsInDomOrder","flatColumns","targetParentContainerIndex","hiddenLeafColumnsCount","counter","sumWidths","cols","parseInt","columnsWidth","colWidth","indexOf","removeRowSpanValue","removeEmptyRows","emptyRowsCount","remove","mapColumnToCellRows","rowIndex","setLeftAndRightStyles","left","right","createColumnAttribute","attribute","property","addColumnAttribute","removeColumnAttribute","stickyColumns","sticky","visibleStickyColumns","visibleNonLockedColumns","visibleLockedColumns","visibleLeafColumns","childColumns","visibleChildColumns","e","getColumnsFields","leafDataCells","indexAttr","a","b","indexA","indexB","parentColumnsCells","parentCellsWithChildren","prevCells","parentCell","closest","headerRows","level","prevAll","colSpan","Math","getAttribute","childColumnsCells","child","colSpanAttr","next","appendContent","tbody","table","html","empty","placeholder","tmp","tbodySupportsInnerHtml","innerHTML","firstChild","replaceChild","match","hasHiddenStyle","normalizeCols","hasDetails","colgroup","format","is","append","prepend","normalizeHeaderCells","len","lastIndex","th","insertBefore","convertToObject","array","item","formatGroupValue","columnValues","isForeignKey","groupValue","htmlEncode","setCellVisibility","state","pad","nonDataCellsRegExp","test","className","hideColumnCells","columnIndex","groupRows","data","hasSubgroups","items","groupFooters","aggregates","showColumnCells","updateColspan","toAdd","toRemove","num","tableWidth","syncTableHeight","table1","table2","lockedHeigth","tableHeigth","diff","filterRowRegExp","adjustRowHeight","row1","row2","offsetHeight1","offsetHeight2","getCommand","focusTable","direct","scrollLeft","focusElement","one","preventDefault","focus","isColumnGroupable","grid","groupable","isGroupedBy","isColumnEditable","model","selectable","editable","isInputElement","tableClick","currentTarget","isHeader","lockedTable","headerTable","lockedHeader","isInput","preventScroll","currentTable","roleSelector","_setCurrent","navigatable","setTimeout","_activeElement","CHECKBOXINPUT","contains","support","touch","leftMostPosition","browser","webkit","parseVirtualSettings","asLowerString","toLowerCase","isElementVisibleInWrapper","wrapper","halfHeight","top","outerHeight","math","abs","floor","isInEdit","groupCellBuilder","headerTemplateIndex","ARIALABEL","COLLAPSE","groupCellLockedContentBuilder","groupRowBuilder","colspan","expanded","includeAdditionalData","EXPAND","groupRowLockedContentBuilder","toggleRow","backslashEscapeQuotes","ampRegExp","ltRegExp","quoteRegExp","aposRegExp","gtRegExp","getTitle","col","title","exportDataSort","dataSource","getByUid","isExcelExportableColumn","exportable","excel","GroupsPager","VirtualScrollable","defaultCommands","Grid","ui","DataSource","ObservableObject","tbodyInnerHtml","activeElement","Widget","outerWidth","_outerWidth","_outerHeight","keys","prototype","isFunction","isEmptyObject","DOT","PROGRESS","ERROR","HIERARCHY_CELL_CLASS","DATA_CELL","SELECTION_CELL_SELECTOR","NAVROW","NAVCELL","ITEMROW","FIRSTITEMROW","LASTITEMROW","FIRSTNAVITEM","HEADERCELLS","CONTENTRLOCKEDCONTAINER","GROUPCELLCLASS","EDIT","BEFOREEDIT","SAVE","REMOVE","DETAILINIT","FILTERMENUINIT","COLUMNMENUINIT","FILTERMENUOPEN","COLUMNMENUOPEN","CELLCLOSE","CHANGE","COLUMNHIDE","COLUMNSHOW","SAVECHANGES","DATABOUND","DETAILEXPAND","DETAILCOLLAPSE","ITEM_CHANGE","PAGE","PAGING","SCROLL","SYNC","LOAD_START","LOAD_END","FOCUSED","FOCUSABLE","SELECTED","CHECKBOX","NORECORDSCLASS","LINK_CLASS","ICON_CLASS","ORDER_CLASS","HEADER_COLUMN_MENU_CLASS","FILTER_MENU_CLASS","STICKY_CELL_CLASS","STICKY_HEADER_CLASS","STICKY_FOOTER_CLASS","STICKY_HEADER_NO_BORDER_CLASS","RESIZE","COLUMNRESIZE","COLUMNREORDER","COLUMNLOCK","COLUMNUNLOCK","COLUMNSTICK","COLUMNUNSTICK","NAVIGATE","MOUSEDOWN","HEIGHT","TABINDEX","FUNCTION","BOTTOM","CONTAINER_FOR","FIELD","INPUT","INCELL","INLINE","UNIQUE_ID","MINCOLSPANVALUE","COLSPAN","OVERFLOW","HIDDEN","SORT","GROUP_SORT","DELETECONFIRM","NORECORDS","CONFIRMDELETE","CANCELDELETE","formatRegExp","templateHashRegExp","whitespaceRegExp","leftRegExp","RegExp","rightRegExp","COMMANDBUTTONTMPL","SELECTCOLUMNTMPL","SELECTCOLUMNHEADERTMPL","isRtl","isIE11","msie","version","isMac","navigator","userAgent","classNames","widget","scrollContainer","Pager","fn","call","useRanges","_omitPrefetch","totalPages","that","ceil","_collapsedTotal","pageSize","groupsTotal","_refreshHandler","refresh","setDataSource","wrap","unbind","bind","itemHeight","noop","prefetch","maxScrollHeight","events","destroy","verticalScrollbar","off","clearTimeout","_timeout","_scrollingTimeout","drag","scrollbar","overflow","first","_wheelScroll","_wrapper","kineticScrollNeeded","UserEvents","global","allowSelection","start","sender","capture","move","scrollTop","y","delta","x","_scroll","overflow-y","ctrlKey","wheelDeltaY","clientHeight","scrollHeight","delayLoading","rowHeight","skip","_rangeStart","innerHeight","isScrollingUp","_scrollbarTop","firstItemIndex","lastItemOffset","lastItemIndex","_preventScroll","_prevScrollTop","_scrollTop","_scrolling","_fetch","trigger","_page","take","scrollToTop","_scrollTo","scrollToBottom","_scrollWrapperToTop","_scrollWrapperToBottom","_scrollWrapperOnColumnResize","initialScrollTop","scrollWidth","clientWidth","_wrapperScrolled","_isScrolledToBottom","_isWrapperScrolledToBottom","_isScrolledToTop","itemIndex","rangeStart","scrollIntoView","containerHeight","containerScroll","elementOffset","elementHeight","scrollingUp","currentSkip","fetching","prefetchAt","webkitCorrection","total","_isGroupPaged","min","_fetching","callback","isGroupPaged","_groupRangeExists","inRange","range","repaintScrollbar","shouldScrollWrapper","maxHeight","wrapperElement","wasScrolledToBottom","addScrollBarHeight","totalHeight","cancel","page","create","iconClass","save","edit","update","canceledit","pdf","search","DataBoundWidget","_events","_element","_aria","_columns","_foreignKeyPromises","when","apply","then","_continueInit","_dataSource","_stickyColumns","_tbody","_thead","_groupable","_toolbar","_pageable","_setContentHeight","_templates","_navigatable","_selectable","_clipboard","_details","_editable","_attachCustomCommandsEvent","_adaptiveColumns","_minScreenSupport","autoBind","fetch","_group","_groups","_footer","addClass","_resizeHandler","resize","notify","scrollableContent","scrollable","virtual","virtualScrollable","toolbar","filterable","sortable","allowCopy","pageable","persistSelection","encodeTitles","rowTemplate","altRowTemplate","noRecords","resizable","reorderable","columnMenu","detailTemplate","columnResizeHandleWidth","mobile","loaderType","messages","cancelDelete","confirmation","confirmDelete","expandCollapseColumnHeader","groupHeader","ungroupHeader","_angularItems","_destroyColumnAttachments","_navigatableTables","_headertables","pager","timer","_progressTimeOut","_collapseGroupsTimeOut","_endlessFetchTimeOut","_destroyGroupable","clearArea","_selectedIds","copyHandler","updateClipBoardState","clearAreaHandler","_resizeUserEvents","_resizeHandleDocumentClickHandler","_destroyVirtualScrollable","editableUserEvents","_lockedContentUserEvents","_destroyEditable","_progressHandler","_errorHandler","_clearSortClasses","_removeLockedContainers","pane","_isMobile","minScreenResizeHandler","_detachColumnMediaResizeHandler","_draggableInstance","lockedRowTemplate","lockedAltRowTemplate","footerTemplate","groupFooterTemplate","lockedGroupFooterTemplate","noRecordsTemplate","scrollables","footer","lockedFooter","_groupableClickHandler","_groupRows","_setContentWidthHandler","getOptions","initialData","_data","group","aggregate","transport","$angular","setOptions","mobileWrapper","currentOptions","after","removeClass","_setEvents","_items","includeGroupRows","tr","dataItems","n","resizeHandle","angular","each","filterMenu","_cellId","_hasDetails","_createResizeHandle","headerWrap","ieCorrection","firefoxCorrection","leftMargin","invisibleSpace","leftBorderWidth","indicatorWidth","halfResizeHandle","rtlCorrection","mozilla","parseFloat","_autoFitLeafColumn","_positionColumnResizeHandle","lockedHead","button","buttons","which","hasAttribute","_resizeHandleDocumentClick","_resetResizeHandleHeader","_hideResizeHandle","_positionColumnResizeHandleTouch","threshold","minHold","hold","resizeColumn","columnWidth","constrain","totalWidth","isLocked","isHidden","mobileOS","contentTable","header","columnMinWidth","minResizableWidth","gridWidth","_footerWidth","_scrollVirtualWrapperOnColumnResize","_applyLockedContainersWidth","_syncLockedContentHeight","_syncLockedHeaderHeight","_updateStickyColumns","_resizable","columnStart","isMobile","Resizable","handle","hint","location","rtlMultiplier","currentWidth","resizeend","newWidth","oldWidth","_draggable","kendoDraggable","autoScroll","dragstart","not","dragend","_reorderable","kendoReorderable","draggable","dragOverContainers","lockable","inSameContainer","change","oldIndex","newIndex","reorderColumn","_reorderHeader","sourceLockedColumns","targetLockedColumns","destPosition","_reorderContent","footerCol","beforeVisibleColumn","columnsArray","lockedRows","visibleSources","destIndex","colSourceIndex","colDest","lockedCount","headerCol","_findClosestVisibleColumnIndex","slice","prev","_hasFilterRow","_hasVirtualColumns","reverse","closestVisibleColumn","leafIndex","autoFitColumn","minWidth","contentDiv","menu","thWidth","footerTable","j","tables","oldColumnWidth","newColumnWidth","visibleLocked","notGroupOrHierarchyCol","notGroupOrHierarchyVisibleCell","safari","lockChanged","sourceColumns","destColumn","virtualScroll","groupHeaderColumnTemplateColumns","groupHeaderColumnTemplate","_updateLockedCols","_updateCols","_updateColumnCellIndex","_updateColumnSorters","_renderGroupRows","_updateTablesWidth","_updateFirstColumnClass","lockColumn","unstickColumn","unlockColumn","stickColumn","_removeStickyAttributes","_removeStickyStyles","_anyStickyColumns","_updateStickyFilterCells","cellIndex","td","lockedColumnOffset","_modelForContainer","_editMode","_calculateColumnIndex","virtualOffset","mode","handler","_editContainer","end","closeCell","_scrollVirtualWrapper","editContainer","_mousedownOnEditCell","tap","isLockedCell","has","blur","editCell","shouldCloseCell","_virtualColScroll","editRow","_isVirtualInlineEditable","stopPropagation","removeRow","_confirmation","_attachModelChange","_shouldClearEditableState","_clearEditableState","kendoEditable","fields","editor","values","skipFocus","_isVirtualIncellEditable","_editableState","_relatedRow","_syncLockedScroll","_adjustLockedHorizontalScrollBar","touchScroller","_adjustRowsHeight","_syncLockedFooterHeight","editView","_editCancelClickHandler","_editUpdateClickHandler","_detachModelChange","_destroyEditView","_editableIsClosing","close","_confirmDialog","purge","navigate","_modelChangeHandler","_modelChange","isCancel","type","_displayCell","ns","dataItem","storage","settings","Template","templateSettings","tmpl","template","_cellTmpl","_removeRow","modelId","schema","cancelRow","_removeGroupIfEmpty","idField","sync","_createPopupEditor","_createInlineEditor","_editCancelClick","_editUpdateClick","saveRow","currentIndex","updateText","cancelText","updateIconClass","cancelIconClass","tempCommand","editMenuGuid","unescape","_createButton","kendoWindow","modal","userTriggered","clearContainer","_openPopUpEditor","windowEditor","windowOptions","_editAnimation","center","open","Editable","cancelChanges","_displayRow","valid","deferred","Deferred","reject","promise","resolve","related","newRow","nextRow","angularElements","angularData","isSelected","isAlt","replaceWith","_checkBoxSelection","select","_showMessage","confirmDialog","Confirm","closable","okText","done","fail","confirm","_isVirtualEditable","_virtualPageToTop","saveChanges","addRow","createAt","view","createAtBottom","virtualEditable","serverPaging","_removeCurrent","_virtualAddRow","insert","_editModel","_firstEditableColumnIndex","_virtualAddRowAtBottom","_virtualAddRowAtTop","at","_virtualPageToBottom","_virtualPage","_toolbarTmpl","prependTo","saveAsExcel","saveAsPDF","input","_searchTimeOut","searchFields","expression","filters","logic","endless","_endlessPageSize","operator","searchText","attributeClassMatch","split","_hasFooters","groupRow","collapseGroup","expandGroup","_isLocked","_attachGroupable","draggables","enabled","chrome","Groupable","groupContainer","draggableElements","allowDrag","_skip","_pageSize","_take","_addGroupableOptionsToHeader","headerCell","columnOptions","columnFieldMap","headerCells","_headerCells","cellFieldAttr","kendoGroupable","_removeGroupableOptionsFromHeader","removeData","_continuousItems","lockedItems","nonLockedItems","multi","notString","Selectable","parseOptions","multiple","aria","selectedValues","_persistSelectedRows","_uncheckCheckBoxes","_checkRows","_toggleHeaderCheckState","useAllItems","relatedTarget","continuousItems","ignoreOverlapped","addIdToRanges","keyCode","SPACEBAR","shiftKey","_deselectCheckRows","clear","_lastActive","LEFT","RIGHT","UP","DOWN","selectRange","_firstSelectee","stopImmediatePropagation","copySelection","areaClipBoard","val","getTSV","copySelectionToClipboard","includeHeaders","_createAreaClipBoard","execCommand","Event","metaKey","getSelection","selection","createRange","opacity","cellsOffset","lockedCols","inLockedArea","rowsOffset","selected","delimeter","onlyVisible","hasLockedCols","cellText","_getCellField","_anyColumnHasMediaQuery","_setColumnsMediaVisibility","_attachColumnMediaResizeHandler","_columnsWithMediaQuery","_columnMediaResizeHandler","_onColumnMediaResize","_setContentMediaWidth","_setColumnMediaVisibility","_showColumnByMedia","_hideColumnByMedia","showColumn","initiallyHidden","hideColumn","headerColumns","headerColgroup","headerColumnsCount","visibleHeaderColumnsCount","hiddenHeaderColumnsCount","totalHeaderWidth","currentHeaderWidth","colgroupChild","columnStyleWidth","any","hideMinScreenCols","screenWidth","innerWidth","screen","_iterateMinScreenCols","_setStickyColumns","filterCells","filterCell","getKendoFilterCell","stickyStyle","updateStyles","stickyWidths","_calculateStickyWidths","_setStickyClassAttributes","_setStickyStyleAttributes","_setStickyStyles","initialLeftWidth","initialRightWidth","nextColumnLeft","nextColumnRight","fill","_sumColumnWidth","masterIndex","stickyLeft","stickyRight","childCols","childStickyWidths","cellClassRegExp","headerClassRegExp","footerClassRegExp","headerClassNoBorderRegExp","leafsCols","_getColumnHeader","groupHeaderColumnTemplateClass","_sumCurrentWidths","getSelectedData","selectedRanges","selectedRangeNames","Object","selectedSingleItems","_mapSelectionToData","exportSelectedToExcel","exporter","columnHandler","book","exportData","sortHandler","workbook","ooxml","ExcelExporter","autoWidth","sheets","freezePane","_addRangeSelectionRows","_addSingleSelectionRows","Workbook","skipCustomHeight","toDataURLAsync","dataURI","saveAs","fileName","proxyURL","forceProxy","_setExporterColumns","_createExportRows","_rows","_dataRows","_prepareColumn","columnsFilter","curr","elementType","nodeName","isRowSelection","columnMapHandler","fieldAttr","_relatedCell","clearSelection","selectableoptions","checked","prop","allRows","dataSourceOptions","selectedViewIds","selectedKeyNames","ids","_updateCurrentAttr","nextId","descId","headerId","removeAttr","_current","_scrollCurrent","tableContainer","isInLockedContainer","isInContent","scrollableContainer","addBack","_rowVirtualIndex","preventTrigger","siblings","_virtualCellIndex","_lastCellIndex","elementToLowercase","tagName","isHorizontal","elementOffsetDir","containerOffsetDir","offsetLeft","bottomDistance","edge","dataTables","headerTables","_openHeaderMenu","_tableFocus","_tableBlur","_tableKeyDown","altKey","_setTabIndex","_findCellIndex","startIndex","reversed","_scrollToColumn","HOME","END","handled","requestInProgress","canHandle","isDefaultPrevented","_moveUp","_moveDown","_moveRight","_moveLeft","PAGEDOWN","_handlePageDown","PAGEUP","_handlePageUp","_handleHome","_handleEnd","_handleSpaceKey","ENTER","F2","_handleEnterKey","ESC","_handleEscKey","TAB","_handleTabKey","collapseRow","_moveColumn","_prevHorizontalCell","_tabNext","_horizontalContainer","expandRow","_nextHorizontalCell","nextAll","_prevVerticalCell","_verticalContainer","_nextVerticalCell","isLeft","ctrl","rowContainer","isInLockedTable","isInBody","isInCell","_handleEditing","active","_toggleCurrent","descriptors","label","_canDrag","dir","link","focusable","originalIndex","_currentDataIndex","lockedColumnsCount","tmpIndex","currentRowCells","hiddenColumns","up","step","back","switchRow","isEdited","isIE","_initMobile","_createPane","Pane","viewEngine","viewOptions","renderOnInit","wrapInSections","detachOnHide","detachOnDestroy","_scrollable","originalPageSize","hasVirtualScroll","_createVirtualScrollable","_scrollLeft","isScrollingLeft","_endlessFetchInProgress","_skipRerenderItemsCount","_cacheEditableState","_restoreEditableState","movable","_averageRowHeight","scroll","_focusEditable","loadStart","_progress","loadEnd","_onVirtualPaging","_isVirtualPopupEditable","editableState","editedModel","inlineMode","incellMode","virtualColumns","_getByUid","editedField","_canFocusEditable","widgetInstance","_renderNoRecordsContent","noRecordsElement","_setContentWidth","expander","hiddenDivClass","hiddenDiv","isNaN","footerWrap","contentWidth","nonLockedCols","nonLockedColsWidth","isGridHeightSet","scrollableHeight","initialHeight","newHeight","currentRowHeight","itemsCount","_rowHeight","_sum","_measures","_sortHandler","_requestStart","_error","relatedRow","selectableRow","childCells","originalCells","pagerWrap","_groupPaging","_togglePagerVisibility","_wrapFooter","_appendLockedColumnFooter","footerRow","_appendCols","_columnMenu","menuOptions","hasMultiColumnHeaders","hasLockableColumns","hasStickableColumns","stickable","initCallback","openCallback","closeCallback","stickCallback","unstickCallback","filterHandler","compare","forceUnique","checkSource","owner","stick","unstick","filtering","componentType","kendoColumnMenu","_filterable","columnFilterable","filterInit","filterOpen","kendoFilterMultiCheck","kendoFilterMenu","_filterRow","rowheader","suggestDataSource","operators","customDataSource","cellOptions","_updateHeader","delay","inputWidth","suggestionOperator","minLength","dataTextField","showOperators","kendoFilterCell","_sortable","sorterInstance","kendoColumnSorter","initialColumns","_updateColumnIDs","_checkboxClick","_headerCheckboxClick","_foreignKeyBindings","_fetchForeignKeyValues","_hasBoundForeignKey","dataValueField","checkBox","parentGrid","getKendoGrid","isSelecting","_tmpl","alt","skipGroupCells","paramName","dirtyCellTemplate","expr","_dirtyCellTemplate","dirtyField","charAt","_headerCellText","headerTemplate","_dirtyIndicatorTemplate","stringify","useWithBlock","_virtualCols","considerNext","widths","c","sumOfWidths","colsToRender","firstColspan","lastColspan","widthOfHiddenColumns","virtualCols","columnLeafs","columnsLocked","groupHeaderColumnTemplateLockedColumns","groupHeaderColumnTemplateNonLockedColumns","_detailTmpl","_footerTmpl","g","_groupHeaderTmpl","lockedGroupHeaderColumnTemplate","_noRecordsTmpl","defaultTemplate","scrollableNoGridHeightStyles","templateName","rowClass","scope","fieldsMap","_emptyAggregates","templateFunctionStorage","templateFunctionCount","hasFiltering","columnsWithoutFiltering","_toggleDetails","omitAnimation","detailRow","expanding","masterRow","ariaLabelText","ariaExpandText","toggleClass","detailCell","toggle","correctIdx","classesRegEx","sectionRowIndex","_createHeaderCells","_appendLockedColumnContent","spanIdx","skipHiddenCount","colOffset","detach","lockedCells","_appendLockedColumnHeader","trFilter","hasFilterRow","filterCellOffset","leafColumnsCount","filtercellCells","filterRow","existingFilterRow","syncHeight","hasLockedColumns","hasTHead","headerContent","_updateHeadersAttr","_prepareColumns","_retrieveFirstColumn","parentRow","childRow","totalColSpan","_updateHeaderCols","_autoColumns","toJSON","_rowsHtml","templates","_groupData","skipFooter","firstColumn","footerDefaults","_groupAggregatesDefaultObject","groupItems","headerData","footerData","subgroupsCount","_groupRowHtml","groupHeaderBuilder","skipColspan","skipLastGroup","groupData","firstVisibleColumnGroupHeaderTemplate","groupHeaderTemplate","currentItems","_groupsState","isNew","excludeHeader","_skippedGroups","shift","groupUid","groupObject","currentGroupCount","groupCountAfterCollapse","toHide","groupToCollapse","showFooter","footerCount","relatedGroup","_getGroupByUid","_calculateGroupsTotal","_serverGroupsTotal","_currentRangeStart","_groupToCollapse","footersVisibility","groupsCount","groupCount","groupCountAfterExpand","toggleVisibility","pop","_firstDataItem","grouped","headerCellIndex","_columnVisibilitySetter","_setParentsVisibility","_updateContentWidth","predicate","p","originalColumn","columnLeafIndex","_buildSkeleton","loaderHTML","skeleton","isVirtualization","progress","_resize","force","_isActiveInTable","contentScrollLeft","cachedItemsToSkip","isCurrentInHeader","_renderContent","_renderLockedContent","_restoreCurrent","contentResized","resetTouchEvents","_muteAngularRebind","_restoreSelection","selectedRows","dataItemKey","cmd","_cleanupDetailItems","_angularGroupItems","_angularGroupFooterItems","flatViewLength","endlessAppend","flatView","groupRowBuilderFunc","groupHeaderData","prevElement","newGroupRowElement","currentRow","firstColumnGroupData","alwaysVisible","rows2","containers","containersLength","heights","ExcelMixin","PDFMixin","_drawPDF_autoPageBreak","allPages","startingPage","draw","cont","_destructive","pageNumber","pageNum","drawing","drawDOM","clone","always","toggleUnexportableColumns","err","renderPage","origBody","paddingRight","_initPDFProgress","restore","visibleInExport","visibleInExportOnly","_toggledDuringExport","_drawPDF","exportPage","doc","_drawPDFShadow","avoidLinks","args","paperSize","Group","pb","loading","kendoProgressBar","chunkCount","plugin"],"mappings":"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","file":"kendo.grid.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/text-metrics', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        window.kendo.util = window.kendo.util || {};\n        var LRUCache = kendo.Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var map = this._map;\n                var entry = {\n                    key: key,\n                    value: value\n                };\n                map[key] = entry;\n                if (!this._head) {\n                    this._head = this._tail = entry;\n                } else {\n                    this._tail.newer = entry;\n                    entry.older = this._tail;\n                    this._tail = entry;\n                }\n                if (this._length >= this._size) {\n                    map[this._head.key] = null;\n                    this._head = this._head.newer;\n                    this._head.older = null;\n                } else {\n                    this._length++;\n                }\n            },\n            get: function (key) {\n                var entry = this._map[key];\n                if (entry) {\n                    if (entry === this._head && entry !== this._tail) {\n                        this._head = entry.newer;\n                        this._head.older = null;\n                    }\n                    if (entry !== this._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = this._tail;\n                        entry.newer = null;\n                        this._tail.newer = entry;\n                        this._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var REPLACE_REGEX = /\\r?\\n|\\r|\\t/g;\n        var SPACE = ' ';\n        function normalizeText(text) {\n            return String(text).replace(REPLACE_REGEX, SPACE);\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var DEFAULT_OPTIONS = { baselineMarkerSize: 1 };\n        var defaultMeasureBox;\n        if (typeof document !== 'undefined') {\n            defaultMeasureBox = document.createElement('div');\n            defaultMeasureBox.style.cssText = 'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: pre!important;';\n        }\n        var TextMetrics = kendo.Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this.options = $.extend({}, DEFAULT_OPTIONS, options);\n            },\n            measure: function (text, style, options) {\n                if (options === void 0) {\n                    options = {};\n                }\n                if (typeof text === 'undefined' || text === null) {\n                    return zeroSize();\n                }\n                var styleKey = objectKey(style);\n                var cacheKey = hashKey(text + styleKey);\n                var cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = options.box || defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (typeof value !== 'undefined') {\n                        measureBox.style[key] = value;\n                    }\n                }\n                var textStr = options.normalizeText !== false ? normalizeText(text) : String(text);\n                measureBox.textContent = textStr;\n                measureBox.appendChild(baselineMarker);\n                document.body.appendChild(measureBox);\n                if (textStr.length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                var marker = document.createElement('div');\n                marker.style.cssText = 'display: inline-block; vertical-align: baseline;width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;overflow: hidden;';\n                return marker;\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.deepExtend(kendo.util, {\n            LRUCache: LRUCache,\n            TextMetrics: TextMetrics,\n            measureText: measureText,\n            objectKey: objectKey,\n            hashKey: hashKey,\n            normalizeText: normalizeText\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.grid', [\n        'kendo.data',\n        'kendo.columnsorter',\n        'kendo.editable',\n        'kendo.window',\n        'kendo.filtermenu',\n        'kendo.columnmenu',\n        'kendo.groupable',\n        'kendo.pager',\n        'kendo.selectable',\n        'kendo.sortable',\n        'kendo.reorderable',\n        'kendo.resizable',\n        'kendo.ooxml',\n        'kendo.excel',\n        'kendo.pane',\n        'kendo.progressbar',\n        'kendo.pdf',\n        'kendo.dialog',\n        'kendo.pane',\n        'kendo.switch'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'grid',\n        name: 'Grid',\n        category: 'web',\n        description: 'The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.',\n        depends: [\n            'data',\n            'columnsorter',\n            'sortable'\n        ],\n        features: [\n            {\n                id: 'grid-editing',\n                name: 'Editing',\n                description: 'Support for record editing',\n                depends: [\n                    'editable',\n                    'window'\n                ]\n            },\n            {\n                id: 'grid-filtering',\n                name: 'Filtering',\n                description: 'Support for record filtering',\n                depends: ['filtermenu']\n            },\n            {\n                id: 'grid-columnmenu',\n                name: 'Column menu',\n                description: 'Support for header column menu',\n                depends: ['columnmenu']\n            },\n            {\n                id: 'grid-grouping',\n                name: 'Grouping',\n                description: 'Support for grid grouping',\n                depends: ['groupable']\n            },\n            {\n                id: 'grid-filtercell',\n                name: 'Row filter',\n                description: 'Support for grid header filtering',\n                depends: ['filtercell']\n            },\n            {\n                id: 'grid-paging',\n                name: 'Paging',\n                description: 'Support for grid paging',\n                depends: ['pager']\n            },\n            {\n                id: 'grid-selection',\n                name: 'Selection',\n                description: 'Support for row selection',\n                depends: ['selectable']\n            },\n            {\n                id: 'grid-column-reorder',\n                name: 'Column reordering',\n                description: 'Support for column reordering',\n                depends: ['reorderable']\n            },\n            {\n                id: 'grid-column-resize',\n                name: 'Column resizing',\n                description: 'Support for column resizing',\n                depends: ['resizable']\n            },\n            {\n                id: 'grid-mobile',\n                name: 'Grid adaptive rendering',\n                description: 'Support for adaptive rendering',\n                depends: [\n                    'dialog',\n                    'pane',\n                    'switch'\n                ]\n            },\n            {\n                id: 'grid-excel-export',\n                name: 'Excel export',\n                description: 'Export grid data as Excel spreadsheet',\n                depends: ['excel']\n            },\n            {\n                id: 'grid-pdf-export',\n                name: 'PDF export',\n                description: 'Export grid data as PDF',\n                depends: [\n                    'pdf',\n                    'drawing',\n                    'progressbar'\n                ]\n            }\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, DataSource = kendo.data.DataSource, ObservableObject = kendo.data.ObservableObject, tbodySupportsInnerHtml = kendo.support.tbodyInnerHtml, activeElement = kendo._activeElement, Widget = ui.Widget, outerWidth = kendo._outerWidth, outerHeight = kendo._outerHeight, keys = kendo.keys, isPlainObject = $.isPlainObject, extend = $.extend, map = $.map, grep = $.grep, isArray = $.isArray, inArray = $.inArray, push = Array.prototype.push, proxy = $.proxy, isFunction = kendo.isFunction, isEmptyObject = $.isEmptyObject, contains = $.contains, math = Math, DOT = '.', PROGRESS = 'progress', ERROR = 'error', HIERARCHY_CELL_CLASS = 'k-hierarchy-cell', DATA_CELL = ':not(.k-group-cell):not([' + kendo.attr('virtual') + ']):not(.k-hierarchy-cell:not(:has(.k-icon.k-i-collapse,.k-icon.k-i-expand))):visible', SELECTION_CELL_SELECTOR = 'tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)', NAVROW = 'tr:not(.k-footer-template):visible', NAVCELL = ':not(.k-group-cell):not(.k-detail-cell):not(.k-hierarchy-cell):visible', ITEMROW = 'tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible', FIRSTITEMROW = ITEMROW + ':first', LASTITEMROW = ITEMROW + ':last', FIRSTNAVITEM = NAVROW + ':first>' + NAVCELL + ':first', HEADERCELLS = 'th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)', NS = '.kendoGrid', CONTENTRLOCKEDCONTAINER = 'k-grid-content-locked', GROUPCELLCLASS = 'k-group-cell', EDIT = 'edit', BEFOREEDIT = 'beforeEdit', SAVE = 'save', REMOVE = 'remove', DETAILINIT = 'detailInit', FILTERMENUINIT = 'filterMenuInit', COLUMNMENUINIT = 'columnMenuInit', FILTERMENUOPEN = 'filterMenuOpen', COLUMNMENUOPEN = 'columnMenuOpen', CELLCLOSE = 'cellClose', CHANGE = 'change', COLUMNHIDE = 'columnHide', COLUMNSHOW = 'columnShow', SAVECHANGES = 'saveChanges', DATABOUND = 'dataBound', DETAILEXPAND = 'detailExpand', DETAILCOLLAPSE = 'detailCollapse', ITEM_CHANGE = 'itemchange', PAGE = 'page', PAGING = 'paging', SCROLL = 'scroll', SYNC = 'sync', LOAD_START = 'loadStart', LOAD_END = 'loadEnd', FOCUSED = 'k-state-focused', FOCUSABLE = ':kendoFocusable', SELECTED = 'k-state-selected', CHECKBOX = 'k-checkbox', CHECKBOXINPUT = 'input[data-role=\\'checkbox\\'].' + CHECKBOX, NORECORDSCLASS = 'k-grid-norecords', LINK_CLASS = 'k-link', ICON_CLASS = 'k-icon', ORDER_CLASS = 'k-sort-order', HEADER_COLUMN_MENU_CLASS = 'k-header-column-menu', FILTER_MENU_CLASS = 'k-grid-filter', STICKY_CELL_CLASS = 'k-grid-content-sticky', STICKY_HEADER_CLASS = 'k-grid-header-sticky', STICKY_FOOTER_CLASS = 'k-grid-footer-sticky', STICKY_HEADER_NO_BORDER_CLASS = 'k-grid-no-left-border', RESIZE = 'resize', COLUMNRESIZE = 'columnResize', COLUMNREORDER = 'columnReorder', COLUMNLOCK = 'columnLock', COLUMNUNLOCK = 'columnUnlock', COLUMNSTICK = 'columnStick', COLUMNUNSTICK = 'columnUnstick', NAVIGATE = 'navigate', CLICK = 'click', MOUSEDOWN = 'mousedown', HEIGHT = 'height', TABINDEX = 'tabIndex', FUNCTION = 'function', STRING = 'string', BOTTOM = 'bottom', CONTAINER_FOR = 'container-for', FIELD = 'field', INPUT = 'input', INCELL = 'incell', INLINE = 'inline', UNIQUE_ID = 'uid', MINCOLSPANVALUE = 1, COLSPAN = 'colSpan', OVERFLOW = 'overflow', HIDDEN = 'hidden', SORT = 'sort', GROUP_SORT = 'group-sort', DELETECONFIRM = 'Are you sure you want to delete this record?', NORECORDS = 'No records available.', CONFIRMDELETE = 'Delete', CANCELDELETE = 'Cancel', COLLAPSE = 'Collapse', EXPAND = 'Expand', ARIALABEL = 'aria-label', formatRegExp = /(\\}|\\#)/gi, templateHashRegExp = /#/gi, whitespaceRegExp = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', leftRegExp = new RegExp('(\\\\s*left\\\\s*:\\\\s*\\\\d*px;?)*', 'ig'), rightRegExp = new RegExp('(\\\\s*right\\\\s*:\\\\s*\\\\d*px;?)*', 'ig'), nonDataCellsRegExp = new RegExp('(^|' + whitespaceRegExp + ')' + '(k-group-cell|k-hierarchy-cell)' + '(' + whitespaceRegExp + '|$)'), filterRowRegExp = new RegExp('(^|' + whitespaceRegExp + ')' + '(k-filter-row)' + '(' + whitespaceRegExp + '|$)'), COMMANDBUTTONTMPL = '# if (iconClass) {#' + '<a role=\"button\" class=\"k-button k-button-icontext #=className#\" #=attr# href=\"\\\\#\"><span class=\"#=iconClass#\"></span>#=text#</a>' + '# } else { #' + '<a role=\"button\" class=\"k-button k-button-icontext #=className#\" #=attr# href=\"\\\\#\">#=text#</a>' + '# } #', SELECTCOLUMNTMPL = '<input class=\"' + CHECKBOX + '\" data-role=\"checkbox\" aria-label=\"Select row\" aria-checked=\"false\" type=\"checkbox\">', SELECTCOLUMNHEADERTMPL = '<input class=\"' + CHECKBOX + '\" data-role=\"checkbox\" aria-label=\"Select all rows\" aria-checked=\"false\" type=\"checkbox\">', isRtl = false, browser = kendo.support.browser;\n        var isIE11 = browser.msie && browser.version === 11;\n        var isMac = /Mac OS/.test(navigator.userAgent);\n        var classNames = {\n            content: 'k-content',\n            widget: 'k-widget',\n            scrollContainer: 'k-scroll-container'\n        };\n        var GroupsPager;\n        if (ui.Pager) {\n            GroupsPager = ui.Pager.extend({\n                init: function (element, options) {\n                    ui.Pager.fn.init.call(this, element, extend(true, {}, options));\n                    this.dataSource.options.useRanges = true;\n                    this.dataSource._omitPrefetch = true;\n                },\n                options: { name: 'GroupsPager' },\n                totalPages: function () {\n                    var that = this;\n                    return Math.ceil((that._collapsedTotal() || 0) / (that.pageSize() || 1));\n                },\n                _collapsedTotal: function () {\n                    var dataSource = this.dataSource;\n                    return dataSource ? dataSource.groupsTotal(true) || 0 : 0;\n                }\n            });\n        }\n        var VirtualScrollable = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that._refreshHandler = proxy(that.refresh, that);\n                that.setDataSource(options.dataSource);\n                that.wrap();\n            },\n            setDataSource: function (dataSource) {\n                var that = this;\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                }\n                that.dataSource = dataSource;\n                that.dataSource.bind(CHANGE, that._refreshHandler);\n                that.dataSource.options.useRanges = true;\n            },\n            options: {\n                name: 'VirtualScrollable',\n                itemHeight: $.noop,\n                prefetch: true,\n                maxScrollHeight: 250000\n            },\n            events: [\n                PAGING,\n                PAGE,\n                SCROLL,\n                LOAD_START,\n                LOAD_END\n            ],\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n                that.wrapper.add(that.verticalScrollbar).off(NS);\n                clearTimeout(that._timeout);\n                if (that._scrollingTimeout) {\n                    clearTimeout(that._scrollingTimeout);\n                }\n                if (that.drag) {\n                    that.drag.destroy();\n                    that.drag = null;\n                }\n                that.wrapper = that.element = that.verticalScrollbar = null;\n                that._refreshHandler = null;\n            },\n            wrap: function () {\n                var that = this, scrollbar = kendo.support.scrollbar() + 1, element = that.element, wrapper;\n                element.css({\n                    width: 'auto',\n                    overflow: 'hidden'\n                }).css(isRtl ? 'padding-left' : 'padding-right', scrollbar);\n                that.content = element.children().first();\n                wrapper = that.wrapper = that.content.wrap('<div class=\"k-virtual-scrollable-wrap\"/>').parent().bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(that._wheelScroll, that));\n                that._wrapper();\n                if (kendo.support.kineticScrollNeeded || kendo.support.touch) {\n                    that.wrapper.css('touch-action', 'none');\n                    that.drag = new kendo.UserEvents(that.wrapper, {\n                        global: true,\n                        allowSelection: true,\n                        start: function (e) {\n                            e.sender.capture();\n                        },\n                        move: function (e) {\n                            that.verticalScrollbar.scrollTop(that.verticalScrollbar.scrollTop() - e.y.delta);\n                            kendo.scrollLeft(wrapper, kendo.scrollLeft(wrapper) - e.x.delta);\n                            e.preventDefault();\n                        }\n                    });\n                }\n                that.verticalScrollbar = $('<div class=\"k-scrollbar k-scrollbar-vertical\" />').css({ width: scrollbar }).appendTo(element).bind('scroll' + NS, proxy(that._scroll, that));\n            },\n            _wrapper: function () {\n                var that = this;\n                if (isIE11) {\n                    that.wrapper.css({ 'overflow-y': SCROLL });\n                    that.element.css(isRtl ? 'padding-left' : 'padding-right', 0);\n                }\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var scrollbar = this.verticalScrollbar, scrollTop = scrollbar.scrollTop(), delta = kendo.wheelDeltaY(e);\n                if (delta && !(delta > 0 && scrollTop === 0) && !(delta < 0 && scrollTop + scrollbar[0].clientHeight == scrollbar[0].scrollHeight)) {\n                    e.preventDefault();\n                    this.verticalScrollbar.scrollTop(scrollTop + -delta);\n                }\n            },\n            _scroll: function (e) {\n                var that = this, delayLoading = !that.options.prefetch, scrollTop = e.currentTarget.scrollTop, dataSource = that.dataSource, rowHeight = that.itemHeight, skip = dataSource.skip() || 0, start = that._rangeStart || skip, height = that.element.innerHeight(), isScrollingUp = !!(that._scrollbarTop && that._scrollbarTop > scrollTop), firstItemIndex = math.max(math.floor(scrollTop / rowHeight), 0), lastItemOffset = isScrollingUp ? math.ceil(height / rowHeight) : math.floor(height / rowHeight), lastItemIndex = math.max(firstItemIndex + lastItemOffset, 0);\n                if (that._preventScroll) {\n                    that._preventScroll = false;\n                    return;\n                }\n                that._prevScrollTop = that._scrollTop;\n                that._scrollTop = scrollTop - start * rowHeight;\n                that._scrollbarTop = scrollTop;\n                that._scrolling = delayLoading;\n                if (!that._fetch(firstItemIndex, lastItemIndex, isScrollingUp)) {\n                    that.wrapper[0].scrollTop = that._scrollTop;\n                }\n                that.trigger(SCROLL);\n                if (delayLoading) {\n                    if (that._scrollingTimeout) {\n                        clearTimeout(that._scrollingTimeout);\n                    }\n                    that._scrollingTimeout = setTimeout(function () {\n                        that._scrolling = false;\n                        that._page(that._rangeStart, that.dataSource.take());\n                    }, 100);\n                }\n            },\n            scrollToTop: function () {\n                this._scrollTo(0);\n            },\n            scrollToBottom: function () {\n                var scrollbar = this.verticalScrollbar;\n                this._scrollTo(scrollbar[0].scrollHeight - scrollbar.height());\n            },\n            _scrollWrapperToTop: function () {\n                this.wrapper.scrollTop(0);\n            },\n            _scrollWrapperToBottom: function () {\n                this.wrapper.scrollTop(this.wrapper[0].scrollHeight);\n            },\n            _scrollWrapperOnColumnResize: function () {\n                var that = this;\n                var wrapper = this.wrapper;\n                var initialScrollTop = wrapper.scrollTop();\n                if (wrapper[0].scrollWidth > wrapper[0].clientWidth) {\n                    if (!that._wrapperScrolled && initialScrollTop || that._isScrolledToBottom()) {\n                        wrapper.scrollTop(initialScrollTop + kendo.support.scrollbar());\n                        that._scrollTop = wrapper.scrollTop();\n                        that._wrapperScrolled = true;\n                    }\n                } else if (that._wrapperScrolled) {\n                    if (!that._isWrapperScrolledToBottom()) {\n                        wrapper.scrollTop(initialScrollTop - kendo.support.scrollbar());\n                        that._scrollTop = wrapper.scrollTop();\n                    }\n                    that._wrapperScrolled = false;\n                }\n            },\n            _scrollTo: function (scrollTop) {\n                var that = this;\n                var scrollbar = that.verticalScrollbar;\n                if (scrollbar.scrollTop() !== scrollTop) {\n                    that._preventScroll = true;\n                }\n                that.wrapper.scrollTop(scrollTop);\n                that._scrollTop = that.wrapper.scrollTop();\n                scrollbar.scrollTop(scrollTop);\n                that._scrollbarTop = scrollbar.scrollTop();\n            },\n            _isScrolledToTop: function () {\n                return this.verticalScrollbar.scrollTop() === 0;\n            },\n            _isScrolledToBottom: function () {\n                var scrollbar = this.verticalScrollbar;\n                var scrollTop = scrollbar.scrollTop();\n                return scrollTop > 0 && scrollTop >= parseInt(scrollbar[0].scrollHeight - scrollbar.height(), 10);\n            },\n            _isWrapperScrolledToBottom: function () {\n                var wrapper = this.wrapper;\n                return wrapper.scrollTop() >= parseInt(wrapper[0].scrollHeight - wrapper.height(), 10);\n            },\n            itemIndex: function (rowIndex) {\n                var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n                return rangeStart + rowIndex;\n            },\n            position: function (index) {\n                var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n                var pageSize = this.dataSource.pageSize();\n                var result;\n                if (index > rangeStart) {\n                    result = index - rangeStart;\n                } else {\n                    result = rangeStart - index - 1;\n                }\n                return result > pageSize ? pageSize : result;\n            },\n            scrollIntoView: function (row) {\n                var container = this.wrapper[0];\n                var containerHeight = container.clientHeight;\n                var containerScroll = !this._isScrolledToBottom() ? this._scrollTop || container.scrollTop : container.scrollTop;\n                var elementOffset = row[0].offsetTop;\n                var elementHeight = row[0].offsetHeight;\n                if (containerScroll > elementOffset) {\n                    this.verticalScrollbar[0].scrollTop -= containerHeight / 2;\n                } else if (elementOffset + elementHeight >= containerScroll + containerHeight) {\n                    this.verticalScrollbar[0].scrollTop += containerHeight / 2;\n                }\n            },\n            _fetch: function (firstItemIndex, lastItemIndex, scrollingUp) {\n                var that = this, dataSource = that.dataSource, itemHeight = that.itemHeight, take = dataSource.take(), rangeStart = that._rangeStart || dataSource.skip() || 0, currentSkip = math.floor(firstItemIndex / take) * take, fetching = false, prefetchAt = 0.33;\n                var scrollbar = that.verticalScrollbar;\n                var webkitCorrection = browser.webkit ? 1 : 0;\n                var total = dataSource._isGroupPaged() ? dataSource.groupsTotal(true) : dataSource.total();\n                if (firstItemIndex < rangeStart) {\n                    fetching = true;\n                    rangeStart = math.max(0, lastItemIndex - take);\n                    that._scrollTop = scrollbar.scrollTop() - rangeStart * itemHeight;\n                    that._page(rangeStart, take);\n                } else if (lastItemIndex >= rangeStart + take && !scrollingUp) {\n                    fetching = true;\n                    rangeStart = math.min(firstItemIndex, total - take);\n                    if (scrollbar.scrollTop() >= scrollbar[0].scrollHeight - scrollbar[0].offsetHeight - webkitCorrection) {\n                        that._scrollTop = that.wrapper[0].scrollHeight - that.wrapper[0].offsetHeight;\n                    } else if (that.dataSource._isGroupPaged() && firstItemIndex >= total - take) {\n                        that._scrollTop = that.wrapper[0].scrollHeight - that.wrapper[0].offsetHeight - (that._scrollTop - that._prevScrollTop);\n                    } else {\n                        that._scrollTop = itemHeight;\n                    }\n                    that._page(rangeStart, take);\n                } else if (!that._fetching && that.options.prefetch) {\n                    if (firstItemIndex < currentSkip + take - take * prefetchAt && firstItemIndex > take) {\n                        dataSource.prefetch(currentSkip - take, take, $.noop);\n                    }\n                    if (lastItemIndex > currentSkip + take * prefetchAt) {\n                        dataSource.prefetch(currentSkip + take, take, $.noop);\n                    }\n                }\n                return fetching;\n            },\n            fetching: function () {\n                return this._fetching;\n            },\n            _page: function (skip, take, callback) {\n                var that = this, delayLoading = !that.options.prefetch, dataSource = that.dataSource, isGroupPaged = dataSource._isGroupPaged();\n                callback = isFunction(callback) ? callback : $.noop;\n                if (that.trigger(PAGING, {\n                        skip: skip,\n                        take: take\n                    })) {\n                    return;\n                }\n                clearTimeout(that._timeout);\n                that._fetching = true;\n                that._rangeStart = skip;\n                if (isGroupPaged && dataSource._groupRangeExists(skip, skip + take) || !isGroupPaged && dataSource.inRange(skip, take)) {\n                    that.trigger(LOAD_START);\n                    dataSource.range(skip, take, function () {\n                        that.trigger(LOAD_END);\n                        callback();\n                        that.trigger(PAGE);\n                    }, 'page');\n                } else {\n                    if (!delayLoading) {\n                        that.trigger(LOAD_START);\n                    }\n                    that._timeout = setTimeout(function () {\n                        if (!that._scrolling) {\n                            if (delayLoading) {\n                                that.trigger(LOAD_START);\n                            }\n                            dataSource.range(skip, take, function () {\n                                that.trigger(LOAD_END);\n                                callback();\n                                that.trigger(PAGE);\n                            });\n                        }\n                    }, 100);\n                }\n            },\n            repaintScrollbar: function (shouldScrollWrapper) {\n                var that = this, html = '', maxHeight = that.options.maxScrollHeight, dataSource = that.dataSource, scrollbar = !kendo.support.kineticScrollNeeded ? kendo.support.scrollbar() : 0, wrapperElement = that.wrapper[0], totalHeight, idx, itemHeight;\n                var wasScrolledToBottom = that._isScrolledToBottom();\n                itemHeight = that.itemHeight = that.options.itemHeight() || 0;\n                var addScrollBarHeight = wrapperElement.scrollWidth > wrapperElement.offsetWidth ? scrollbar : 0;\n                totalHeight = (dataSource._isGroupPaged() ? dataSource.groupsTotal(true) : dataSource.total()) * itemHeight + addScrollBarHeight;\n                for (idx = 0; idx < math.floor(totalHeight / maxHeight); idx++) {\n                    html += '<div style=\"width:1px;height:' + maxHeight + 'px\"></div>';\n                }\n                if (totalHeight % maxHeight) {\n                    html += '<div style=\"width:1px;height:' + totalHeight % maxHeight + 'px\"></div>';\n                }\n                that.verticalScrollbar.html(html);\n                if (wasScrolledToBottom && !that._isScrolledToBottom() && !that.dataSource._isGroupPaged()) {\n                    that.scrollToBottom();\n                }\n                if (typeof that._scrollTop !== 'undefined' && !!shouldScrollWrapper) {\n                    wrapperElement.scrollTop = that._scrollTop;\n                    that._scrollWrapperOnColumnResize();\n                }\n            },\n            refresh: function (e) {\n                var that = this, dataSource = that.dataSource, rangeStart = that._rangeStart;\n                var action = (e || {}).action;\n                var shouldScrollWrapper = that._isScrolledToBottom() || !action || action !== ITEM_CHANGE && action !== REMOVE && action !== SYNC;\n                that.trigger(LOAD_END);\n                clearTimeout(that._timeout);\n                that.repaintScrollbar(shouldScrollWrapper);\n                if (that.drag) {\n                    that.drag.cancel();\n                }\n                if (typeof rangeStart !== 'undefined' && !that._fetching) {\n                    if (!action || action !== SYNC && action !== ITEM_CHANGE && action !== 'expandGroup') {\n                        that._rangeStart = dataSource.skip();\n                    }\n                    if (dataSource.page() === 1 && (!action || action !== SYNC && action !== ITEM_CHANGE && action !== 'expandGroup' && action !== 'collapseGroup')) {\n                        that.verticalScrollbar[0].scrollTop = 0;\n                    }\n                }\n                that._fetching = false;\n            }\n        });\n        function attrEquals(attrName, attrValue) {\n            return '[' + kendo.attr(attrName) + '=' + attrValue + ']';\n        }\n        function groupCells(count) {\n            return new Array(count + 1).join('<td class=\"k-group-cell\">&nbsp;</td>');\n        }\n        function stringifyAttributes(attributes) {\n            var attr, result = ' ';\n            if (attributes) {\n                if (typeof attributes === STRING) {\n                    return attributes;\n                }\n                for (attr in attributes) {\n                    if (attributes[attr] !== '') {\n                        result += attr + '=\"' + attributes[attr] + '\"';\n                    }\n                }\n            }\n            return result;\n        }\n        var defaultCommands = {\n            create: {\n                text: 'Add new record',\n                className: 'k-grid-add',\n                iconClass: 'k-icon k-i-plus'\n            },\n            cancel: {\n                text: 'Cancel changes',\n                className: 'k-grid-cancel-changes',\n                iconClass: 'k-icon k-i-cancel'\n            },\n            save: {\n                text: 'Save changes',\n                className: 'k-grid-save-changes',\n                iconClass: 'k-icon k-i-check'\n            },\n            destroy: {\n                text: 'Delete',\n                className: 'k-grid-delete',\n                iconClass: 'k-icon k-i-close'\n            },\n            edit: {\n                text: 'Edit',\n                className: 'k-grid-edit',\n                iconClass: 'k-icon k-i-edit'\n            },\n            update: {\n                text: 'Update',\n                className: 'k-primary k-grid-update',\n                iconClass: 'k-icon k-i-check'\n            },\n            canceledit: {\n                text: 'Cancel',\n                className: 'k-grid-cancel',\n                iconClass: 'k-icon k-i-cancel'\n            },\n            excel: {\n                text: 'Export to Excel',\n                className: 'k-grid-excel',\n                iconClass: 'k-icon k-i-file-excel'\n            },\n            pdf: {\n                text: 'Export to PDF',\n                className: 'k-grid-pdf',\n                iconClass: 'k-icon k-i-file-pdf'\n            },\n            search: {\n                text: 'Search...',\n                className: 'k-grid-search'\n            }\n        };\n        function cursor(context, value) {\n            $('th, th .k-grid-filter, th .k-link', context).add(document.body).css('cursor', value);\n        }\n        function reorder(selector, source, dest, before, count) {\n            var sourceIndex = source;\n            source = $();\n            count = count || 1;\n            for (var idx = 0; idx < count; idx++) {\n                source = source.add(selector.eq(sourceIndex + idx));\n            }\n            if (typeof dest == 'number') {\n                source[before ? 'insertBefore' : 'insertAfter'](selector.eq(dest));\n            } else {\n                source.appendTo(dest);\n            }\n        }\n        function elements(lockedContent, content, filter) {\n            return $(lockedContent).add(content).find(filter);\n        }\n        function attachCustomCommandEvent(context, container, commands) {\n            var idx, length, command, commandName;\n            commands = !isArray(commands) ? [commands] : commands;\n            for (idx = 0, length = commands.length; idx < length; idx++) {\n                command = commands[idx];\n                if (isPlainObject(command) && command.click) {\n                    commandName = command.name || command.text;\n                    container.on(CLICK + NS, 'a.k-grid-' + (commandName || '').replace(/\\s/g, ''), { commandName: commandName }, proxy(command.click, context));\n                }\n            }\n        }\n        function normalizeColumns(columns, encoded, hide, locked, parentIds) {\n            return map(columns, function (column) {\n                column = typeof column === STRING ? { field: column } : column;\n                var hidden;\n                column.parentIds = parentIds;\n                if (!isVisible(column) || hide) {\n                    column.attributes = addHiddenStyle(column.attributes);\n                    column.footerAttributes = addHiddenStyle(column.footerAttributes);\n                    column.headerAttributes = addHiddenStyle(column.headerAttributes);\n                    hidden = true;\n                }\n                var uid = kendo.guid();\n                if (locked && !column.locked) {\n                    column.locked = locked;\n                }\n                column.headerAttributes = extend({ headers: parentIds }, column.headerAttributes);\n                if (!column.headerAttributes.id) {\n                    column.headerAttributes = extend({ id: uid }, column.headerAttributes);\n                    column.uid = uid;\n                } else {\n                    uid = column.headerAttributes.id;\n                }\n                if (column.columns) {\n                    column.columns = normalizeColumns(column.columns, encoded, hidden, column.locked, parentIds ? parentIds + ' ' + uid : uid);\n                }\n                return extend({\n                    encoded: encoded,\n                    hidden: hidden,\n                    locked: locked\n                }, column);\n            });\n        }\n        function columnParent(column, columns) {\n            var parents = [];\n            columnParents(column, columns, parents);\n            return parents[parents.length - 1];\n        }\n        function columnParents(column, columns, parents) {\n            parents = parents || [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (column === columns[idx]) {\n                    return true;\n                } else if (columns[idx].columns) {\n                    var inserted = parents.length;\n                    parents.push(columns[idx]);\n                    if (!columnParents(column, columns[idx].columns, parents)) {\n                        parents.splice(inserted, parents.length - inserted);\n                    } else {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n        function setColumnVisibility(column, visible) {\n            setVisibility(column, visible, visible);\n        }\n        function setVisibility(column, visible, show) {\n            var method = show ? removeHiddenStyle : addHiddenStyle;\n            column.hidden = !visible;\n            column.attributes = method(column.attributes);\n            column.footerAttributes = method(column.footerAttributes);\n            column.headerAttributes = method(column.headerAttributes);\n        }\n        function setColumnMediaVisibility(column, visible) {\n            setColumnMatchesMedia(column);\n            var hideByMedia = column._hideByMedia;\n            setVisibility(column, visible, hideByMedia ? column.matchesMedia : visible);\n        }\n        function setColumnMatchesMedia(column) {\n            column.matchesMedia = columnMatchesMedia(column);\n        }\n        function columnMatchesMedia(column) {\n            return column && (isUndefined(column.media) || !isUndefined(column.media) && kendo.matchesMedia(column.media));\n        }\n        function isCellVisible() {\n            return this.style.display !== 'none';\n        }\n        function isElementVisible(element) {\n            return $(element)[0].style.display !== 'none';\n        }\n        function isVisible(column) {\n            return visibleColumns([column]).length > 0;\n        }\n        function visibleColumns(columns) {\n            return grep(columns, function (column) {\n                var result = !column.hidden && column.matchesMedia !== false;\n                if (result && column.columns) {\n                    result = visibleColumns(column.columns).length > 0;\n                }\n                return result;\n            });\n        }\n        function columnsWithMedia(columns) {\n            var result = [];\n            var column;\n            for (var i = 0; i < columns.length; i++) {\n                column = columns[i];\n                if (!isUndefined(column.media)) {\n                    if (!isUndefined(column.minScreenWidth)) {\n                        throw new Error('Using \\'media\\' and \\'minScreenWidth\\' options at the same time is not supported.');\n                    }\n                    result.push(column);\n                }\n                if (column.columns) {\n                    result = result.concat(columnsWithMedia(column.columns));\n                }\n            }\n            return result;\n        }\n        function isUndefined(value) {\n            return typeof value === 'undefined';\n        }\n        function toJQuery(elements) {\n            return $(elements).map(function () {\n                return this.toArray();\n            });\n        }\n        function updateCellRowSpan(cell, columns, sourceLockedColumnsCount) {\n            var lockedColumnDepth = depth(lockedColumns(columns));\n            var nonLockedColumnDepth = depth(nonLockedColumns(columns));\n            var rowSpan = cell.rowSpan;\n            if (sourceLockedColumnsCount) {\n                if (lockedColumnDepth > nonLockedColumnDepth) {\n                    cell.rowSpan = rowSpan - (lockedColumnDepth - nonLockedColumnDepth) || 1;\n                } else {\n                    cell.rowSpan = rowSpan + (nonLockedColumnDepth - lockedColumnDepth);\n                }\n            } else {\n                if (lockedColumnDepth > nonLockedColumnDepth) {\n                    cell.rowSpan = rowSpan + (lockedColumnDepth - nonLockedColumnDepth);\n                } else {\n                    cell.rowSpan = rowSpan - (nonLockedColumnDepth - lockedColumnDepth) || 1;\n                }\n            }\n        }\n        function findColumnByUID(columns, uid) {\n            for (var i = 0; i < columns.length; i++) {\n                if (columns[i].uid == uid) {\n                    return columns[i];\n                }\n            }\n        }\n        function findColumnByField(columns, field) {\n            for (var i = 0; i < columns.length; i++) {\n                if (columns[i].field == field) {\n                    return columns[i];\n                }\n            }\n        }\n        function moveCellsBetweenContainers(sources, target, leafs, columns, container, destination, groups, action) {\n            var sourcesDepth = depth(sources);\n            var targetDepth = depth([target]);\n            if (sourcesDepth > targetDepth) {\n                var groupCells = new Array(groups + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>');\n                var rows = destination.children(':not(.k-filter-row)');\n                $(new Array(sourcesDepth - targetDepth + 1).join('<tr>' + groupCells + '</tr>')).insertAfter(rows.last());\n            }\n            addRowSpanValue(destination, sourcesDepth - targetDepth);\n            moveCells(leafs, columns, container, destination, action);\n        }\n        function updateCellIndex(thead, columns, offset) {\n            offset = offset || 0;\n            var position;\n            var cell;\n            var allColumns = columns;\n            columns = leafColumns(columns);\n            var cells = {};\n            var rows = thead.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            for (var idx = 0, length = columns.length; idx < length; idx++) {\n                position = columnPosition(columns[idx], allColumns);\n                if (!cells[position.row]) {\n                    cells[position.row] = rows.eq(position.row).find('.k-header').filter(filter);\n                }\n                cell = cells[position.row].eq(position.cell);\n                cell.attr(kendo.attr('index'), offset + idx);\n            }\n            return columns.length;\n        }\n        function depth(columns) {\n            var result = 1;\n            var max = 0;\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].columns) {\n                    var temp = depth(columns[idx].columns);\n                    if (temp > max) {\n                        max = temp;\n                    }\n                }\n            }\n            return result + max;\n        }\n        function moveCells(leafs, columns, container, destination, action) {\n            var sourcePosition = columnVisiblePosition(leafs[0], columns);\n            var ths = container.find('>tr:not(.k-filter-row):eq(' + sourcePosition.row + ')>th.k-header');\n            var t = $();\n            var sourceIndex = sourcePosition.cell;\n            var idx;\n            for (idx = 0; idx < leafs.length; idx++) {\n                t = t.add(ths.eq(sourceIndex + idx));\n            }\n            destination.find('>tr:not(.k-filter-row)').eq(sourcePosition.row)[action](t);\n            var children = [];\n            for (idx = 0; idx < leafs.length; idx++) {\n                if (leafs[idx].columns) {\n                    children = children.concat(leafs[idx].columns);\n                }\n            }\n            if (children.length) {\n                moveCells(children, columns, container, destination, action);\n            }\n        }\n        function columnPosition(column, columns, row, cellCounts) {\n            var result;\n            var idx;\n            row = row || 0;\n            cellCounts = cellCounts || {};\n            cellCounts[row] = cellCounts[row] || 0;\n            for (idx = 0; idx < columns.length; idx++) {\n                if (columns[idx] == column) {\n                    result = {\n                        cell: cellCounts[row],\n                        row: row\n                    };\n                    break;\n                } else if (columns[idx].columns) {\n                    result = columnPosition(column, columns[idx].columns, row + 1, cellCounts);\n                    if (result) {\n                        break;\n                    }\n                }\n                cellCounts[row]++;\n            }\n            return result;\n        }\n        function findParentColumnWithChildren(columns, index, source, rtl) {\n            var target;\n            var locked = !!source.locked;\n            var targetLocked;\n            do {\n                target = columns[index];\n                index += rtl ? 1 : -1;\n                targetLocked = !!target.locked;\n            } while (target && index > -1 && index < columns.length && target != source && !target.columns && targetLocked === locked);\n            return target;\n        }\n        function findReorderTarget(columns, target, source, before, masterColumns) {\n            if (target.columns) {\n                target = target.columns;\n                return target[before ? 0 : target.length - 1];\n            } else {\n                var parent = columnParent(target, columns);\n                var parentColumns;\n                if (parent) {\n                    parentColumns = parent.columns;\n                } else {\n                    parentColumns = columns;\n                }\n                var index = inArray(target, parentColumns);\n                if (index === 0 && before) {\n                    index++;\n                } else if (index == parentColumns.length - 1 && !before || !source.locked && !target.columns && !before) {\n                    index--;\n                } else if (index > 0 || index === 0 && !before) {\n                    index++;\n                }\n                var sourceIndex = inArray(source, parentColumns);\n                target = findParentColumnWithChildren(parentColumns, index, source, sourceIndex > index);\n                var targetIndex = inArray(target, masterColumns);\n                if (target.columns && (!targetIndex || targetIndex === parentColumns.length - 1)) {\n                    return null;\n                }\n                if (target && target != source && target.columns) {\n                    return findReorderTarget(columns, target, source, before, masterColumns);\n                }\n            }\n            return null;\n        }\n        function columnVisiblePosition(column, columns, row, cellCounts) {\n            var result;\n            var idx;\n            row = row || 0;\n            cellCounts = cellCounts || {};\n            cellCounts[row] = cellCounts[row] || 0;\n            for (idx = 0; idx < columns.length; idx++) {\n                if (columns[idx] == column) {\n                    result = {\n                        cell: cellCounts[row],\n                        row: row\n                    };\n                    break;\n                } else if (columns[idx].columns) {\n                    result = columnVisiblePosition(column, columns[idx].columns, row + 1, cellCounts);\n                    if (result) {\n                        break;\n                    }\n                }\n                if (!columns[idx].hidden) {\n                    cellCounts[row]++;\n                }\n            }\n            return result;\n        }\n        function flatColumnsInDomOrder(columns) {\n            var result = flatColumns(lockedColumns(columns));\n            return result.concat(flatColumns(nonLockedColumns(columns)));\n        }\n        function targetParentContainerIndex(flatColumns, columns, sourceIndex, targetIndex) {\n            var column = flatColumns[sourceIndex];\n            var target = flatColumns[targetIndex];\n            var parent = columnParent(column, columns);\n            columns = parent ? parent.columns : columns;\n            return inArray(target, columns);\n        }\n        function flatColumns(columns) {\n            var result = [];\n            var children = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                result.push(columns[idx]);\n                if (columns[idx].columns) {\n                    children = children.concat(columns[idx].columns);\n                }\n            }\n            if (children.length) {\n                result = result.concat(flatColumns(children));\n            }\n            return result;\n        }\n        function hiddenLeafColumnsCount(columns) {\n            var counter = 0;\n            var column;\n            for (var idx = 0; idx < columns.length; idx++) {\n                column = columns[idx];\n                if (column.columns) {\n                    counter += hiddenLeafColumnsCount(column.columns);\n                } else if (column.hidden) {\n                    counter++;\n                }\n            }\n            return counter;\n        }\n        function sumWidths(cols) {\n            var width = 0;\n            for (var idx = 0, length = cols.length; idx < length; idx++) {\n                if (!cols[idx].hidden) {\n                    width += parseInt(cols[idx].width, 10);\n                }\n            }\n            return width;\n        }\n        function columnsWidth(cols) {\n            var colWidth, width = 0;\n            for (var idx = 0, length = cols.length; idx < length; idx++) {\n                colWidth = cols[idx].style.width;\n                if (colWidth && colWidth.indexOf('%') == -1) {\n                    width += parseInt(colWidth, 10);\n                }\n            }\n            return width;\n        }\n        function removeRowSpanValue(container, count) {\n            var cells = container.find('tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)');\n            var rowSpan;\n            for (var idx = 0; idx < cells.length; idx++) {\n                rowSpan = cells[idx].rowSpan;\n                if (rowSpan > 1) {\n                    cells[idx].rowSpan = rowSpan - count || 1;\n                }\n            }\n        }\n        function addRowSpanValue(container, count) {\n            var cells = container.find('tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)');\n            for (var idx = 0; idx < cells.length; idx++) {\n                cells[idx].rowSpan += count;\n            }\n        }\n        function removeEmptyRows(container) {\n            var rows = container.find('tr:not(.k-filter-row)');\n            var emptyRowsCount = rows.filter(function () {\n                return !$(this).children().length;\n            }).remove().length;\n            var cells = rows.find('th:not(.k-group-cell,.k-hierarchy-cell)');\n            for (var idx = 0; idx < cells.length; idx++) {\n                if (cells[idx].rowSpan > 1) {\n                    cells[idx].rowSpan -= emptyRowsCount;\n                }\n            }\n            return rows.length - emptyRowsCount;\n        }\n        function mapColumnToCellRows(columns, cells, rows, rowIndex, offset) {\n            var idx, row, length, children = [];\n            for (idx = 0, length = columns.length; idx < length; idx++) {\n                row = rows[rowIndex] || [];\n                row.push(cells.eq(offset + idx));\n                rows[rowIndex] = row;\n                if (columns[idx].columns) {\n                    children = children.concat(columns[idx].columns);\n                }\n            }\n            if (children.length) {\n                mapColumnToCellRows(children, cells, rows, rowIndex + 1, offset + columns.length);\n            }\n        }\n        function setLeftAndRightStyles(element, left, right) {\n            element.css({\n                'left': left,\n                'right': right\n            });\n        }\n        function createColumnAttribute(column, attribute, property) {\n            column[attribute] = column[attribute] || {};\n            column[attribute][property] = column[attribute][property] || '';\n        }\n        function addColumnAttribute(column, attribute, property, value) {\n            createColumnAttribute(column, attribute, property);\n            if (column[attribute][property] !== '') {\n                column[attribute][property] += ' ' + value;\n            } else {\n                column[attribute][property] = value;\n            }\n        }\n        function removeColumnAttribute(column, attribute, property, value) {\n            createColumnAttribute(column, attribute, property);\n            column[attribute][property] = column[attribute][property].replace(value, '');\n        }\n        function lockedColumns(columns) {\n            return grep(columns, function (column) {\n                return column.locked;\n            });\n        }\n        function nonLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return !column.locked;\n            });\n        }\n        function stickyColumns(columns) {\n            return grep(columns, function (column) {\n                return column.sticky && !column.locked;\n            });\n        }\n        function visibleStickyColumns(columns) {\n            return grep(columns, function (column) {\n                return column.sticky && !column.locked && isVisible(column);\n            });\n        }\n        function visibleNonLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return !column.locked && isVisible(column);\n            });\n        }\n        function visibleLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return column.locked && isVisible(column);\n            });\n        }\n        function visibleLeafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].hidden) {\n                    continue;\n                }\n                if (columns[idx].columns) {\n                    result = result.concat(visibleLeafColumns(columns[idx].columns));\n                } else {\n                    result.push(columns[idx]);\n                }\n            }\n            return result;\n        }\n        function childColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].columns) {\n                    result = result.concat(columns[idx].columns);\n                }\n            }\n            return result;\n        }\n        function visibleChildColumns(columns) {\n            var result = childColumns(columns);\n            result = result.filter(function (e) {\n                return !e.hidden;\n            });\n            return result;\n        }\n        function leafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (!columns[idx].columns) {\n                    result.push(columns[idx]);\n                    continue;\n                }\n                result = result.concat(leafColumns(columns[idx].columns));\n            }\n            return result;\n        }\n        function getColumnsFields(columns) {\n            var result = [];\n            columns = leafColumns(columns);\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (typeof columns[idx] === 'string') {\n                    result.push(columns[idx]);\n                } else if (columns[idx].field) {\n                    result.push(columns[idx].field);\n                }\n            }\n            return result;\n        }\n        function leafDataCells(container) {\n            var rows = container.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            var cells = $();\n            if (rows.length > 1) {\n                cells = rows.find('th').filter(filter).filter(function () {\n                    return this.rowSpan > 1;\n                });\n            }\n            cells = cells.add(rows.last().find('th').filter(filter));\n            var indexAttr = kendo.attr('index');\n            cells.sort(function (a, b) {\n                a = $(a);\n                b = $(b);\n                var indexA = a.attr(indexAttr);\n                var indexB = b.attr(indexAttr);\n                if (indexA === undefined) {\n                    indexA = $(a).index();\n                }\n                if (indexB === undefined) {\n                    indexB = $(b).index();\n                }\n                indexA = parseInt(indexA, 10);\n                indexB = parseInt(indexB, 10);\n                return indexA > indexB ? 1 : indexA < indexB ? -1 : 0;\n            });\n            return cells;\n        }\n        function parentColumnsCells(cell) {\n            var container = cell.closest('table');\n            var result = $().add(cell);\n            var row = cell.closest('tr');\n            var headerRows = container.find('tr:not(.k-filter-row)');\n            var level = headerRows.index(row);\n            if (level > 0) {\n                var parent = headerRows.eq(level - 1);\n                var parentCellsWithChildren = parent.find('th:not(.k-group-cell,.k-hierarchy-cell)').filter(function () {\n                    return !$(this).attr('rowspan');\n                });\n                var offset = 0;\n                var index = row.find('th:not(.k-group-cell,.k-hierarchy-cell)').index(cell);\n                var prevCells = cell.prevAll(':not(.k-group-cell,.k-hierarchy-cell)').filter(function () {\n                    return this.colSpan > 1;\n                });\n                for (var idx = 0; idx < prevCells.length; idx++) {\n                    offset += prevCells[idx].colSpan || 1;\n                }\n                index += Math.max(offset - 1, 0);\n                offset = 0;\n                for (idx = 0; idx < parentCellsWithChildren.length; idx++) {\n                    var parentCell = parentCellsWithChildren.eq(idx);\n                    if (parentCell.attr('data-colspan')) {\n                        offset += parentCell[0].getAttribute('data-colspan');\n                    } else {\n                        offset += 1;\n                    }\n                    if (index >= idx && index < offset) {\n                        result = parentColumnsCells(parentCell).add(result);\n                        break;\n                    }\n                }\n            }\n            return result;\n        }\n        function childColumnsCells(cell) {\n            var container = cell.closest('thead');\n            var result = $().add(cell);\n            var row = cell.closest('tr');\n            var headerRows = container.find('tr:not(.k-filter-row)');\n            var level = headerRows.index(row) + cell[0].rowSpan;\n            var colSpanAttr = kendo.attr('colspan');\n            if (level <= headerRows.length - 1) {\n                var child = row.next();\n                var prevCells = cell.prevAll(':not(.k-group-cell,.k-hierarchy-cell)');\n                var idx;\n                prevCells = prevCells.filter(function () {\n                    return !this.rowSpan || this.rowSpan === 1;\n                });\n                var offset = 0;\n                for (idx = 0; idx < prevCells.length; idx++) {\n                    offset += parseInt(prevCells.eq(idx).attr(colSpanAttr), 10) || 1;\n                }\n                var cells = child.find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var colSpan = parseInt(cell.attr(colSpanAttr), 10) || 1;\n                idx = 0;\n                while (idx < colSpan) {\n                    child = cells.eq(idx + offset);\n                    result = result.add(childColumnsCells(child));\n                    var value = parseInt(child.attr(colSpanAttr), 10);\n                    if (value > 1) {\n                        colSpan -= value - 1;\n                    }\n                    idx++;\n                }\n            }\n            return result;\n        }\n        function appendContent(tbody, table, html, empty) {\n            var placeholder, tmp = tbody;\n            if (empty) {\n                tbody.empty();\n            }\n            if (tbodySupportsInnerHtml) {\n                tbody[0].innerHTML = html;\n            } else {\n                placeholder = document.createElement('div');\n                placeholder.innerHTML = '<table><tbody>' + html + '</tbody></table>';\n                tbody = placeholder.firstChild.firstChild;\n                table[0].replaceChild(tbody, tmp[0]);\n                tbody = $(tbody);\n            }\n            return tbody;\n        }\n        function addHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style;\n            if (!style) {\n                style = 'display:none';\n            } else {\n                style = style.replace(/display:[^;]*/i, 'display:none');\n                if (!style.match(/display:/i)) {\n                    style = style.replace(/(.*)?/i, 'display:none;$1');\n                }\n            }\n            return extend({}, attr, { style: style });\n        }\n        function hasHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style || '';\n            return style.indexOf('display:none') !== -1;\n        }\n        function removeHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style;\n            if (style) {\n                attr.style = style.replace(/(display\\s*:\\s*none\\s*;?)*/gi, '');\n            }\n            return attr;\n        }\n        function normalizeCols(table, visibleColumns, hasDetails, groups) {\n            var colgroup = table.find('>colgroup'), width, cols = map(visibleColumns, function (column) {\n                    width = column.width;\n                    if (width && parseInt(width, 10) !== 0) {\n                        return kendo.format('<col style=\"width:{0}\"/>', typeof width === STRING ? width : width + 'px');\n                    }\n                    return '<col />';\n                });\n            if (hasDetails || colgroup.find('.k-hierarchy-col').length) {\n                cols.splice(0, 0, '<col class=\"k-hierarchy-col\" />');\n            }\n            if (colgroup.length) {\n                colgroup.remove();\n            }\n            colgroup = $(new Array(groups + 1).join('<col class=\"k-group-col\">') + cols.join(''));\n            if (!colgroup.is('colgroup')) {\n                colgroup = $('<colgroup/>').append(colgroup);\n            }\n            table.prepend(colgroup);\n        }\n        function normalizeHeaderCells(container, columns) {\n            var lastIndex = 0;\n            var idx, len;\n            var th = container.find('th:not(.k-group-cell)');\n            for (idx = 0, len = columns.length; idx < len; idx++) {\n                if (columns[idx].locked) {\n                    th.eq(idx).insertBefore(th.eq(lastIndex));\n                    th = container.find('th:not(.k-group-cell)');\n                    lastIndex++;\n                }\n            }\n        }\n        function convertToObject(array) {\n            var result = {}, item, idx, length;\n            for (idx = 0, length = array.length; idx < length; idx++) {\n                item = array[idx];\n                result[item.value] = item.text;\n            }\n            return result;\n        }\n        function formatGroupValue(value, format, columnValues, encoded) {\n            var isForeignKey = columnValues && columnValues.length && isPlainObject(columnValues[0]) && 'value' in columnValues[0], groupValue = isForeignKey ? convertToObject(columnValues)[value] : value;\n            groupValue = groupValue != null ? groupValue : '';\n            return format ? kendo.format(format, groupValue) : encoded === false ? groupValue : kendo.htmlEncode(groupValue);\n        }\n        function setCellVisibility(cells, index, visible) {\n            var pad = 0, state, cell = cells[pad];\n            while (cell) {\n                state = visible ? true : cell.style.display !== 'none';\n                if (state && !nonDataCellsRegExp.test(cell.className) && --index < 0) {\n                    cell.style.display = visible ? '' : 'none';\n                    break;\n                }\n                cell = cells[++pad];\n            }\n        }\n        function hideColumnCells(rows, columnIndex) {\n            var idx = 0, length = rows.length, cell, row;\n            for (; idx < length; idx += 1) {\n                row = rows.eq(idx);\n                if (row.is('.k-grouping-row,.k-detail-row')) {\n                    cell = row.children(':not(.k-group-cell):first,.k-detail-cell').last();\n                    cell.attr('colspan', parseInt(cell.attr('colspan'), 10) - 1);\n                } else {\n                    if (row.hasClass('k-grid-edit-row') && (cell = row.children('.k-edit-container')[0])) {\n                        cell = $(cell);\n                        cell.attr('colspan', parseInt(cell.attr('colspan'), 10) - 1);\n                        cell.find('col').eq(columnIndex).remove();\n                        row = cell.find('tr:first');\n                    }\n                    setCellVisibility(row[0].cells, columnIndex, false);\n                }\n            }\n        }\n        function groupRows(data) {\n            var result = [];\n            var item;\n            for (var idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                if (!('field' in item && 'value' in item && 'items' in item)) {\n                    break;\n                }\n                result.push(item);\n                if (item.hasSubgroups) {\n                    result = result.concat(groupRows(item.items));\n                }\n            }\n            return result;\n        }\n        function groupFooters(data) {\n            var result = [];\n            var item;\n            for (var idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                if (!('field' in item && 'value' in item && 'items' in item)) {\n                    break;\n                }\n                if (item.hasSubgroups) {\n                    result = result.concat(groupFooters(item.items));\n                }\n                result.push(item.aggregates);\n            }\n            return result;\n        }\n        function showColumnCells(rows, columnIndex) {\n            var idx = 0, length = rows.length, cell, row, columns;\n            for (; idx < length; idx += 1) {\n                row = rows.eq(idx);\n                if (row.is('.k-grouping-row,.k-detail-row')) {\n                    cell = row.children(':not(.k-group-cell):first,.k-detail-cell').last();\n                    cell.attr('colspan', parseInt(cell.attr('colspan'), 10) + 1);\n                } else {\n                    if (row.hasClass('k-grid-edit-row') && (cell = row.children('.k-edit-container')[0])) {\n                        cell = $(cell);\n                        cell.attr('colspan', parseInt(cell.attr('colspan'), 10) + 1);\n                        normalizeCols(cell.find('>form>table'), visibleColumns(columns), false, 0);\n                        row = cell.find('tr:first');\n                    }\n                    setCellVisibility(row[0].cells, columnIndex, true);\n                }\n            }\n        }\n        function updateColspan(toAdd, toRemove, num) {\n            num = num || 1;\n            var item, idx, length;\n            for (idx = 0, length = toAdd.length; idx < length; idx++) {\n                item = toAdd.eq(idx).children().last();\n                item.attr('colspan', parseInt(item.attr('colspan'), 10) + num);\n                item = toRemove.eq(idx).children().last();\n                item.attr('colspan', parseInt(item.attr('colspan'), 10) - num);\n            }\n        }\n        function tableWidth(table) {\n            var idx, length, width = 0;\n            var cols = table.find('>colgroup>col');\n            for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                width += parseInt(cols[idx].style.width, 10);\n            }\n            return width;\n        }\n        var Grid = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options, events) {\n                var that = this;\n                options = isArray(options) ? { dataSource: options } : options;\n                Widget.fn.init.call(that, element, options);\n                if (events) {\n                    that._events = events;\n                }\n                isRtl = kendo.support.isRtl(element);\n                that._element();\n                that._aria();\n                that._columns($.extend(true, [], that.options.columns));\n                if (that._foreignKeyPromises) {\n                    $.when.apply(null, that._foreignKeyPromises).then(function () {\n                        that._foreignKeyPromises = null;\n                        that._continueInit();\n                    });\n                } else {\n                    that._continueInit();\n                }\n            },\n            _continueInit: function () {\n                var that = this;\n                that._dataSource();\n                that._stickyColumns();\n                that._tbody();\n                that._thead();\n                that._groupable();\n                that._toolbar();\n                that._pageable();\n                that._setContentHeight();\n                that._templates();\n                that._navigatable();\n                that._selectable();\n                that._clipboard();\n                that._details();\n                that._editable();\n                that._attachCustomCommandsEvent();\n                that._adaptiveColumns();\n                that._minScreenSupport();\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                } else {\n                    that._group = that._groups() > 0;\n                    that._footer();\n                }\n                if (that.lockedContent) {\n                    that.wrapper.addClass('k-grid-lockedcolumns');\n                    that._resizeHandler = function () {\n                        that.resize();\n                    };\n                    $(window).on('resize' + NS, that._resizeHandler);\n                }\n                kendo.notify(that);\n            },\n            events: [\n                CHANGE,\n                'dataBinding',\n                'cancel',\n                DATABOUND,\n                DETAILEXPAND,\n                DETAILCOLLAPSE,\n                DETAILINIT,\n                FILTERMENUINIT,\n                FILTERMENUOPEN,\n                COLUMNMENUINIT,\n                COLUMNMENUOPEN,\n                EDIT,\n                BEFOREEDIT,\n                SAVE,\n                REMOVE,\n                SAVECHANGES,\n                CELLCLOSE,\n                COLUMNRESIZE,\n                COLUMNREORDER,\n                COLUMNSHOW,\n                COLUMNHIDE,\n                COLUMNLOCK,\n                COLUMNUNLOCK,\n                COLUMNSTICK,\n                COLUMNUNSTICK,\n                NAVIGATE,\n                'page',\n                'sort',\n                'filter',\n                'group',\n                'groupExpand',\n                'groupCollapse',\n                'kendoKeydown'\n            ],\n            setDataSource: function (dataSource) {\n                var that = this;\n                var scrollable = that.options.scrollable;\n                var scrollableContent;\n                that.options.dataSource = dataSource;\n                that._dataSource();\n                that._pageable();\n                that._thead();\n                if (scrollable) {\n                    if (scrollable.virtual) {\n                        scrollableContent = that.content.find('>.k-virtual-scrollable-wrap');\n                        kendo.scrollLeft(scrollableContent, leftMostPosition(scrollableContent, isRtl));\n                    } else {\n                        scrollableContent = that.tbody;\n                        kendo.scrollLeft(that.content, leftMostPosition(scrollableContent, isRtl));\n                    }\n                }\n                if (that.options.groupable) {\n                    that._groupable();\n                }\n                if (that.virtualScrollable) {\n                    that.virtualScrollable.setDataSource(that.options.dataSource);\n                }\n                if (that.options.navigatable) {\n                    that._navigatable();\n                }\n                if (that.options.selectable) {\n                    that._selectable();\n                }\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                } else {\n                    that._footer();\n                }\n            },\n            options: {\n                name: 'Grid',\n                columns: [],\n                toolbar: null,\n                autoBind: true,\n                filterable: false,\n                scrollable: true,\n                sortable: false,\n                selectable: false,\n                allowCopy: false,\n                navigatable: false,\n                pageable: false,\n                persistSelection: false,\n                editable: false,\n                encodeTitles: false,\n                groupable: false,\n                rowTemplate: '',\n                altRowTemplate: '',\n                search: false,\n                noRecords: false,\n                dataSource: {},\n                height: null,\n                resizable: false,\n                reorderable: false,\n                columnMenu: false,\n                detailTemplate: null,\n                columnResizeHandleWidth: 3,\n                mobile: '',\n                loaderType: 'loadingPanel',\n                messages: {\n                    editable: {\n                        cancelDelete: CANCELDELETE,\n                        confirmation: DELETECONFIRM,\n                        confirmDelete: CONFIRMDELETE\n                    },\n                    commands: {\n                        create: defaultCommands.create.text,\n                        cancel: defaultCommands.cancel.text,\n                        save: defaultCommands.save.text,\n                        destroy: defaultCommands.destroy.text,\n                        edit: defaultCommands.edit.text,\n                        update: defaultCommands.update.text,\n                        canceledit: defaultCommands.canceledit.text,\n                        excel: defaultCommands.excel.text,\n                        pdf: defaultCommands.pdf.text,\n                        search: defaultCommands.search.text\n                    },\n                    noRecords: NORECORDS,\n                    expandCollapseColumnHeader: '',\n                    groupHeader: 'Press ctrl + space to group',\n                    ungroupHeader: 'Press ctrl + space to ungroup'\n                },\n                width: null\n            },\n            destroy: function () {\n                var that = this, element;\n                that._angularItems('cleanup');\n                that._destroyColumnAttachments();\n                Widget.fn.destroy.call(that);\n                if (this._navigatableTables) {\n                    this._navigatableTables.off(NS);\n                    this._navigatableTables = null;\n                    this._headertables = null;\n                }\n                if (that._resizeHandler) {\n                    $(window).off('resize' + NS, that._resizeHandler);\n                }\n                if (that.pager && that.pager.element) {\n                    that.pager.destroy();\n                }\n                if (that.timer) {\n                    clearTimeout(that.timer);\n                }\n                if (that._progressTimeOut) {\n                    clearTimeout(that._progressTimeOut);\n                }\n                if (that._collapseGroupsTimeOut) {\n                    clearTimeout(that._collapseGroupsTimeOut);\n                }\n                if (that._endlessFetchTimeOut) {\n                    clearTimeout(that._endlessFetchTimeOut);\n                }\n                that.pager = null;\n                that._destroyGroupable();\n                if (that.options.reorderable) {\n                    that.wrapper.data('kendoReorderable').destroy();\n                }\n                if (that.selectable && that.selectable.element) {\n                    that.selectable.destroy();\n                    that.clearArea();\n                    that._selectedIds = null;\n                    if (that.copyHandler) {\n                        that.wrapper.off('keydown', that.copyHandler);\n                        that.unbind(that.copyHandler);\n                    }\n                    if (that.updateClipBoardState) {\n                        that.unbind(that.updateClipBoardState);\n                        that.updateClipBoardState = null;\n                    }\n                    if (that.clearAreaHandler) {\n                        that.wrapper.off('keyup', that.clearAreaHandler);\n                    }\n                }\n                that.selectable = null;\n                if (that.resizable) {\n                    that.resizable.destroy();\n                    if (that._resizeUserEvents) {\n                        if (that._resizeHandleDocumentClickHandler) {\n                            $(document).off('click', that._resizeHandleDocumentClickHandler);\n                        }\n                        that._resizeUserEvents.destroy();\n                        that._resizeUserEvents = null;\n                    }\n                    that.resizable = null;\n                }\n                that._destroyVirtualScrollable();\n                if (that.editableUserEvents) {\n                    that.editableUserEvents.destroy();\n                    that.editableUserEvents = null;\n                }\n                if (that._lockedContentUserEvents) {\n                    that._lockedContentUserEvents.destroy();\n                    that._lockedContentUserEvents = null;\n                }\n                that._destroyEditable();\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(PROGRESS, that._progressHandler).unbind(ERROR, that._errorHandler).unbind(SORT, that._clearSortClasses);\n                    that._refreshHandler = that._progressHandler = that._errorHandler = that._clearSortClasses = null;\n                }\n                element = that.element.add(that.wrapper).add(that.table).add(that.thead).add(that.wrapper.find('>.k-grid-toolbar'));\n                if (that.content) {\n                    element = element.add(that.content).add(that.content.find('>.k-virtual-scrollable-wrap'));\n                }\n                if (that.lockedHeader) {\n                    that._removeLockedContainers();\n                }\n                if (that.pane) {\n                    that.pane.destroy();\n                }\n                if (that._isMobile) {\n                    that.wrapper.off('transitionend' + NS);\n                    that.wrapper.off('contextmenu' + NS);\n                }\n                if (that.minScreenResizeHandler) {\n                    $(window).off('resize', that.minScreenResizeHandler);\n                }\n                that._detachColumnMediaResizeHandler();\n                if (that._draggableInstance && that._draggableInstance.element) {\n                    that._draggableInstance.destroy();\n                }\n                that._draggableInstance = null;\n                element.off(NS);\n                kendo.destroy(that.wrapper);\n                that.rowTemplate = that.altRowTemplate = that.lockedRowTemplate = that.lockedAltRowTemplate = that.detailTemplate = that.footerTemplate = that.groupFooterTemplate = that.lockedGroupFooterTemplate = that.noRecordsTemplate = null;\n                that.scrollables = that.thead = that.tbody = that.element = that.table = that.content = that.footer = that.wrapper = that.lockedTable = that.lockedContent = that.lockedHeader = that.lockedFooter = that._groupableClickHandler = that._groupRows = that._setContentWidthHandler = null;\n            },\n            getOptions: function () {\n                var options = this.options;\n                options.dataSource = null;\n                var result = extend(true, {}, this.options);\n                result.columns = kendo.deepExtend([], this.columns);\n                var dataSource = this.dataSource;\n                var initialData = dataSource.options.data && dataSource._data;\n                dataSource.options.data = null;\n                result.dataSource = $.extend(true, {}, dataSource.options);\n                dataSource.options.data = initialData;\n                result.dataSource.data = initialData;\n                result.dataSource.page = dataSource.page();\n                result.dataSource.filter = $.extend(true, {}, dataSource.filter());\n                result.dataSource.pageSize = dataSource.pageSize();\n                result.dataSource.sort = dataSource.sort();\n                result.dataSource.group = dataSource.group();\n                result.dataSource.aggregate = dataSource.aggregate();\n                if (result.dataSource.transport) {\n                    result.dataSource.transport.dataSource = null;\n                }\n                if (result.pageable && result.pageable.pageSize) {\n                    result.pageable.pageSize = dataSource.pageSize();\n                }\n                result.$angular = undefined;\n                return result;\n            },\n            setOptions: function (options) {\n                var currentOptions = this.getOptions();\n                kendo.deepExtend(currentOptions, options);\n                if (!options.dataSource) {\n                    currentOptions.dataSource = this.dataSource;\n                } else {\n                    if (options.dataSource.filter) {\n                        currentOptions.dataSource.filter = options.dataSource.filter;\n                    }\n                }\n                var wrapper = this.wrapper;\n                var events = this._events;\n                var element = this.element;\n                this.destroy();\n                this.options = null;\n                if (this._isMobile) {\n                    var mobileWrapper = wrapper.closest(kendo.roleSelector('pane')).parent();\n                    mobileWrapper.after(wrapper);\n                    mobileWrapper.remove();\n                    wrapper.removeClass('k-grid-mobile');\n                }\n                if (wrapper[0] !== element[0]) {\n                    wrapper.before(element);\n                    wrapper.remove();\n                }\n                element.empty();\n                this.init(element, currentOptions, events);\n                this._setEvents(currentOptions);\n            },\n            items: function () {\n                if (this.lockedContent) {\n                    return this._items(this.tbody).add(this._items(this.lockedTable.children('tbody')));\n                } else {\n                    return this._items(this.tbody);\n                }\n            },\n            _items: function (container, includeGroupRows) {\n                return container.children().filter(function () {\n                    var tr = $(this);\n                    return (includeGroupRows ? !tr.hasClass('k-detail-row') : !tr.hasClass('k-grouping-row')) && !tr.hasClass('k-detail-row') && !tr.hasClass('k-group-footer');\n                });\n            },\n            dataItems: function () {\n                var dataItems = kendo.ui.DataBoundWidget.fn.dataItems.call(this);\n                if (this.lockedContent) {\n                    var n = dataItems.length, tmp = new Array(2 * n);\n                    for (var i = n; --i >= 0;) {\n                        tmp[i] = tmp[i + n] = dataItems[i];\n                    }\n                    dataItems = tmp;\n                }\n                return dataItems;\n            },\n            _destroyColumnAttachments: function () {\n                var that = this;\n                that.resizeHandle = null;\n                if (!that.thead) {\n                    return;\n                }\n                this.angular('cleanup', function () {\n                    return { elements: that.thead.get() };\n                });\n                that.thead.add(that.lockedHeader).find('th').each(function () {\n                    var th = $(this), filterMenu = th.data('kendoFilterMenu'), sortable = th.data('kendoColumnSorter'), columnMenu = th.data('kendoColumnMenu');\n                    if (filterMenu) {\n                        filterMenu.destroy();\n                    }\n                    if (sortable) {\n                        sortable.destroy();\n                    }\n                    if (columnMenu) {\n                        columnMenu.destroy();\n                    }\n                });\n            },\n            _attachCustomCommandsEvent: function () {\n                var that = this, columns = leafColumns(that.columns || []), command, idx, length;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    command = columns[idx].command;\n                    if (command) {\n                        attachCustomCommandEvent(that, that.wrapper, command);\n                    }\n                }\n            },\n            _aria: function () {\n                var id = this.element.attr('id') || 'aria';\n                if (id) {\n                    this._cellId = id + '_active_cell';\n                }\n            },\n            _element: function () {\n                var that = this, table = that.element;\n                if (!table.is('table')) {\n                    if (that.options.scrollable) {\n                        table = that.element.find('> .k-grid-content > table');\n                    } else {\n                        table = that.element.children('table');\n                    }\n                    if (!table.length) {\n                        table = $('<table />').appendTo(that.element);\n                    }\n                }\n                that.table = table.attr('role', that._hasDetails() ? 'treegrid' : 'grid');\n                that._wrapper();\n            },\n            _createResizeHandle: function (container, th) {\n                var that = this;\n                var indicatorWidth = that.options.columnResizeHandleWidth;\n                var scrollable = that.options.scrollable;\n                var resizeHandle = that.resizeHandle;\n                var halfResizeHandle = indicatorWidth * 3 / 2;\n                var rtlCorrection = 0;\n                var headerWrap;\n                var ieCorrection;\n                var webkitCorrection;\n                var firefoxCorrection;\n                var leftMargin;\n                var invisibleSpace;\n                var leftBorderWidth;\n                var scrollLeft;\n                var left;\n                var top;\n                if (resizeHandle && that.lockedContent && resizeHandle.data('th')[0] !== th[0]) {\n                    resizeHandle.off(NS).remove();\n                    resizeHandle = null;\n                }\n                if (!resizeHandle) {\n                    resizeHandle = that.resizeHandle = $('<div class=\"k-resize-handle\"><div class=\"k-resize-handle-inner\"></div></div>');\n                    container.append(resizeHandle);\n                }\n                scrollLeft = kendo.scrollLeft(container);\n                if (isRtl && (browser.mozilla || browser.webkit && browser.version >= 85)) {\n                    scrollLeft = scrollLeft * -1;\n                }\n                leftBorderWidth = parseFloat(container.css('borderLeftWidth'));\n                left = th.offset().left + scrollLeft - parseFloat(th.css('marginLeft')) - (container.offset().left + leftBorderWidth);\n                if (!isRtl) {\n                    left += th[0].offsetWidth;\n                } else {\n                    if (scrollable) {\n                        rtlCorrection = left <= scrollLeft ? halfResizeHandle : 0;\n                        headerWrap = th.closest('.k-grid-header-wrap, .k-grid-header-locked');\n                        invisibleSpace = headerWrap[0].scrollWidth - headerWrap[0].offsetWidth;\n                        leftMargin = parseFloat(headerWrap.css('marginLeft'));\n                        ieCorrection = browser.msie ? 2 * kendo.scrollLeft(headerWrap) + leftBorderWidth - leftMargin - rtlCorrection : 0;\n                        webkitCorrection = -rtlCorrection;\n                        firefoxCorrection = browser.mozilla ? leftBorderWidth - leftMargin - rtlCorrection : 0;\n                        left -= webkitCorrection + firefoxCorrection + ieCorrection;\n                    }\n                }\n                top = th.offset().top - parseFloat(th.css('marginTop')) - (container.offset().top + parseFloat(container.css('borderTopWidth')));\n                resizeHandle.css({\n                    top: top,\n                    left: left - halfResizeHandle,\n                    height: outerHeight(th),\n                    width: indicatorWidth * 3 - rtlCorrection\n                }).data('th', th).show();\n                resizeHandle.off('dblclick' + NS).on('dblclick' + NS, function () {\n                    that._autoFitLeafColumn(parseInt(th.attr(kendo.attr('index')), 10));\n                });\n            },\n            _positionColumnResizeHandle: function () {\n                var that = this, lockedHead = that.lockedHeader ? that.lockedHeader.find('thead:first') : $();\n                that.thead.add(lockedHead).on('mousemove' + NS, 'tr:not(.k-filter-row) > th', function (e) {\n                    var button = typeof e.buttons !== 'undefined' ? e.buttons : e.which || e.button;\n                    var th = $(this);\n                    if (th.hasClass('k-group-cell') || th.hasClass('k-hierarchy-cell')) {\n                        return;\n                    }\n                    if (typeof button !== 'undefined' && button !== 0) {\n                        return;\n                    }\n                    if (th[0].hasAttribute(kendo.attr(COLSPAN))) {\n                        return;\n                    }\n                    that._createResizeHandle(th.closest('div'), th);\n                });\n            },\n            _resizeHandleDocumentClick: function (e) {\n                if ($(e.target).closest('.k-column-active').length) {\n                    return;\n                }\n                $(document).off(e);\n                this._resetResizeHandleHeader();\n                this._hideResizeHandle();\n            },\n            _resetResizeHandleHeader: function () {\n                var th;\n                if (!this.resizeHandle) {\n                    return;\n                }\n                th = $(this.resizeHandle).data('th');\n                if (th) {\n                    th.find(DOT + LINK_CLASS).find(DOT + ICON_CLASS).show();\n                    th.find(DOT + ORDER_CLASS).show();\n                    th.find(DOT + HEADER_COLUMN_MENU_CLASS).show();\n                    th.find(DOT + FILTER_MENU_CLASS).show();\n                }\n            },\n            _hideResizeHandle: function () {\n                if (this.resizeHandle) {\n                    this.resizeHandle.data('th').removeClass('k-column-active');\n                    if (this.lockedContent && !this._isMobile) {\n                        this.resizeHandle.off(NS).remove();\n                        this.resizeHandle = null;\n                    } else {\n                        this.resizeHandle.hide();\n                    }\n                }\n            },\n            _positionColumnResizeHandleTouch: function () {\n                var that = this, lockedHead = that.lockedHeader ? that.lockedHeader.find('thead:first') : $();\n                that._resizeUserEvents = new kendo.UserEvents(lockedHead.add(that.thead), {\n                    filter: 'th:not(.k-group-cell):not(.k-hierarchy-cell)',\n                    threshold: 10,\n                    minHold: 500,\n                    hold: function (e) {\n                        var th = $(e.target);\n                        e.preventDefault();\n                        if (that.resizeHandle) {\n                            that.resizeHandle.data('th').removeClass('k-column-active');\n                            that._resetResizeHandleHeader();\n                        }\n                        th.addClass('k-column-active');\n                        th.find(DOT + LINK_CLASS).find(DOT + ICON_CLASS).hide();\n                        th.find(DOT + ORDER_CLASS).hide();\n                        th.find(DOT + HEADER_COLUMN_MENU_CLASS).hide();\n                        th.find(DOT + FILTER_MENU_CLASS).hide();\n                        that._createResizeHandle(th.closest('div'), th);\n                        if (!that._resizeHandleDocumentClickHandler) {\n                            that._resizeHandleDocumentClickHandler = proxy(that._resizeHandleDocumentClick, that);\n                        }\n                        $(document).on('click', that._resizeHandleDocumentClickHandler);\n                    }\n                });\n            },\n            resizeColumn: function (column, columnWidth) {\n                var that = this;\n                var isLocked = !!column.locked;\n                var isHidden = !!column.hidden;\n                var options = this.options;\n                var scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n                var index = isLocked ? inArray(column, visibleLockedColumns(visibleLeafColumns(that.columns))) : inArray(column, visibleNonLockedColumns(visibleLeafColumns(that.columns)));\n                var contentTable = isLocked ? that.lockedTable : that.table;\n                var footer = that.footer || $();\n                var header = isLocked ? that.lockedHeader.find('table') : that.thead.closest('table');\n                var columnMinWidth = column.minResizableWidth || 10;\n                var gridWidth = isLocked ? outerWidth(contentTable.find('tbody')) : outerWidth(that.tbody);\n                var col;\n                if (isHidden) {\n                    column.width = columnWidth > columnMinWidth ? columnWidth : columnMinWidth;\n                    return;\n                }\n                if (that.footer && that.lockedContent) {\n                    footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                }\n                if (options.scrollable) {\n                    col = header.find('col:not(.k-group-col,.k-hierarchy-col):eq(' + index + ')').add(contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')')).add(footer.find('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')'));\n                } else {\n                    col = contentTable.find('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')');\n                }\n                if (options.scrollable) {\n                    var constrain = false;\n                    var totalWidth = that.wrapper.width() - scrollbar;\n                    var width = columnWidth = columnWidth > columnMinWidth ? columnWidth : columnMinWidth;\n                    if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                        width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                        if (width < 0) {\n                            width = columnWidth;\n                        }\n                        constrain = true;\n                    }\n                    if (width > 10 && width >= columnMinWidth) {\n                        col.css('width', width);\n                        if (gridWidth) {\n                            if (constrain) {\n                                width = totalWidth - scrollbar * 2;\n                            } else {\n                                width = gridWidth + (columnWidth - column.width);\n                            }\n                            contentTable.add(header).add(footer).css('width', width);\n                            if (!isLocked) {\n                                that._footerWidth = width;\n                            }\n                        }\n                    }\n                    that._scrollVirtualWrapperOnColumnResize();\n                } else if (columnWidth > 10 && columnWidth >= columnMinWidth) {\n                    col.css('width', columnWidth);\n                }\n                column.width = columnWidth;\n                that._applyLockedContainersWidth();\n                that._syncLockedContentHeight();\n                that._syncLockedHeaderHeight();\n                that._updateStickyColumns();\n            },\n            _resizable: function () {\n                var that = this, options = that.options, container, columnStart, columnWidth, columnMinWidth, gridWidth, isMobile = this._isMobile, scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0, isLocked, col, th;\n                if (options.resizable) {\n                    container = options.scrollable ? that.wrapper.find('.k-grid-header-wrap:first') : that.wrapper;\n                    if (isMobile) {\n                        that._positionColumnResizeHandleTouch(container);\n                    } else {\n                        that._positionColumnResizeHandle(container);\n                    }\n                    if (that.resizable) {\n                        that.resizable.destroy();\n                    }\n                    that.resizable = new ui.Resizable(container.add(that.lockedHeader), {\n                        handle: (!!options.scrollable ? '' : '>') + '.k-resize-handle',\n                        hint: function (handle) {\n                            return $('<div class=\"k-grid-resize-indicator\" />').css({ height: outerHeight(handle.data('th')) + that.tbody.attr('clientHeight') });\n                        },\n                        start: function (e) {\n                            th = $(e.currentTarget).data('th');\n                            if (isMobile) {\n                                that._hideResizeHandle();\n                            }\n                            var header = th.closest('table'), index = $.inArray(th[0], leafDataCells(th.closest('thead')).filter(':visible'));\n                            isLocked = header.parent().hasClass('k-grid-header-locked');\n                            var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                            if (that.footer && that.lockedContent) {\n                                footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                            }\n                            cursor(that.wrapper, 'col-resize');\n                            if (options.scrollable) {\n                                col = header.find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')').add(contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')')).add(footer.find('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')'));\n                            } else {\n                                col = contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')');\n                            }\n                            var columns = $.map(that.columns, function (a) {\n                                return !a.hidden && (isLocked && a.locked || !isLocked && !a.locked) ? a : null;\n                            });\n                            columnStart = e.x.location;\n                            columnWidth = outerWidth(th);\n                            columnMinWidth = leafColumns(columns)[index].minResizableWidth || 10;\n                            gridWidth = isLocked ? outerWidth(contentTable.children('tbody')) : outerWidth(that.tbody);\n                            if (browser.webkit) {\n                                that.wrapper.addClass('k-grid-column-resizing');\n                            }\n                        },\n                        resize: function (e) {\n                            var rtlMultiplier = isRtl ? -1 : 1, currentWidth = columnWidth + e.x.location * rtlMultiplier - columnStart * rtlMultiplier;\n                            if (options.scrollable) {\n                                var footer;\n                                if (isLocked && that.lockedFooter) {\n                                    footer = that.lockedFooter.children('table');\n                                } else if (that.footer) {\n                                    footer = that.footer.find('>.k-grid-footer-wrap>table');\n                                }\n                                if (!footer || !footer[0]) {\n                                    footer = $();\n                                }\n                                var header = th.closest('table');\n                                var contentTable = isLocked ? that.lockedTable : that.table;\n                                var constrain = false;\n                                var totalWidth = that.wrapper.width() - scrollbar;\n                                var width = currentWidth;\n                                if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                                    width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                                    if (width < 0) {\n                                        width = currentWidth;\n                                    }\n                                    constrain = true;\n                                }\n                                if (width > 10 && width >= columnMinWidth) {\n                                    col.css('width', width);\n                                    if (gridWidth) {\n                                        if (constrain) {\n                                            width = totalWidth - scrollbar * 2;\n                                        } else {\n                                            width = gridWidth + e.x.location * rtlMultiplier - columnStart * rtlMultiplier;\n                                        }\n                                        contentTable.add(header).add(footer).css('width', width);\n                                        if (!isLocked) {\n                                            that._footerWidth = width;\n                                        }\n                                    }\n                                }\n                                that._scrollVirtualWrapperOnColumnResize();\n                            } else if (currentWidth > 10 && currentWidth >= columnMinWidth) {\n                                col.css('width', currentWidth);\n                            }\n                        },\n                        resizeend: function () {\n                            var newWidth = outerWidth(th), column, header;\n                            cursor(that.wrapper, '');\n                            if (browser.webkit) {\n                                that.wrapper.removeClass('k-grid-column-resizing');\n                            }\n                            if (columnWidth != newWidth) {\n                                header = that.lockedHeader ? that.lockedHeader.find('thead:first tr:first').add(that.thead.find('tr:first')) : th.parent();\n                                var index = th.attr(kendo.attr('index'));\n                                if (!index) {\n                                    index = header.find('th:not(.k-group-cell):not(.k-hierarchy-cell)').index(th);\n                                }\n                                column = leafColumns(that.columns)[index];\n                                column.width = newWidth;\n                                that.trigger(COLUMNRESIZE, {\n                                    column: column,\n                                    oldWidth: columnWidth,\n                                    newWidth: newWidth\n                                });\n                                that._applyLockedContainersWidth();\n                                that._syncLockedContentHeight();\n                                that._syncLockedHeaderHeight();\n                                that._updateStickyColumns();\n                            }\n                            that._resetResizeHandleHeader();\n                            that._hideResizeHandle();\n                            th = null;\n                        }\n                    });\n                }\n            },\n            _draggable: function () {\n                var that = this;\n                if (that.options.reorderable) {\n                    if (that._draggableInstance) {\n                        that._draggableInstance.destroy();\n                    }\n                    var header = that.wrapper.children('.k-grid-header');\n                    that._draggableInstance = that.wrapper.kendoDraggable({\n                        group: kendo.guid(),\n                        autoScroll: true,\n                        filter: that.content ? '.k-grid-header:first ' + HEADERCELLS : 'table:first>.k-grid-header ' + HEADERCELLS,\n                        dragstart: function () {\n                            header.children('.k-grid-header-wrap').unbind('scroll' + NS + 'scrolling').bind('scroll' + NS + 'scrolling', function (e) {\n                                if (that.virtualScrollable) {\n                                    kendo.scrollLeft(that.content.find('>.k-virtual-scrollable-wrap'), this.scrollLeft);\n                                } else {\n                                    kendo.scrollLeft(that.scrollables.not(e.currentTarget), this.scrollLeft);\n                                }\n                            });\n                        },\n                        dragend: function () {\n                            that._resetResizeHandleHeader();\n                            header.children('.k-grid-header-wrap').unbind('scroll' + NS + 'scrolling');\n                        },\n                        drag: function () {\n                            that._hideResizeHandle();\n                        },\n                        hint: function (target) {\n                            var title = target.attr(kendo.attr('title'));\n                            if (title) {\n                                title = kendo.htmlEncode(title);\n                            }\n                            return $('<div class=\"k-header k-reorder-clue k-drag-clue\" />').html(title || target.attr(kendo.attr('field')) || target.text()).prepend('<span class=\"k-icon k-drag-status k-i-cancel\"></span>');\n                        }\n                    }).data('kendoDraggable');\n                }\n            },\n            _reorderable: function () {\n                var that = this;\n                if (that.options.reorderable) {\n                    if (that.wrapper.data('kendoReorderable')) {\n                        that.wrapper.data('kendoReorderable').destroy();\n                    }\n                    that.wrapper.kendoReorderable({\n                        draggable: that._draggableInstance,\n                        dragOverContainers: function (sourceIndex, targetIndex) {\n                            var columns = flatColumnsInDomOrder(that.columns);\n                            return columns[sourceIndex].lockable !== false && targetParentContainerIndex(columns, that.columns, sourceIndex, targetIndex) > -1;\n                        },\n                        inSameContainer: function (e) {\n                            return $(e.source).parent()[0] === $(e.target).parent()[0] && targetParentContainerIndex(flatColumnsInDomOrder(that.columns), that.columns, e.sourceIndex, e.targetIndex) > -1;\n                        },\n                        change: function (e) {\n                            var columns = flatColumnsInDomOrder(that.columns);\n                            var column = columns[e.oldIndex];\n                            var newIndex = targetParentContainerIndex(columns, that.columns, e.oldIndex, e.newIndex);\n                            that.trigger(COLUMNREORDER, {\n                                newIndex: newIndex,\n                                oldIndex: inArray(column, columns),\n                                column: column\n                            });\n                            that.reorderColumn(newIndex, column, e.position === 'before');\n                        }\n                    });\n                }\n            },\n            _reorderHeader: function (sources, target, before, container) {\n                var that = this;\n                var sourcePosition = columnPosition(sources[0], that.columns);\n                var destPosition = columnPosition(target, that.columns);\n                var action;\n                var ths;\n                var leafs = [];\n                for (var idx = 0; idx < sources.length; idx++) {\n                    if (sources[idx].columns) {\n                        leafs = leafs.concat(sources[idx].columns);\n                    }\n                }\n                if (container) {\n                    ths = elements(container, container, 'tr:eq(' + sourcePosition.row + ')>th.k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                } else {\n                    ths = elements(that.lockedHeader, that.thead, 'tr:eq(' + sourcePosition.row + ')>th.k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                }\n                var sourceLockedColumns = lockedColumns(sources).length;\n                var targetLockedColumns = lockedColumns([target]).length;\n                if (leafs.length) {\n                    if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                        action = 'prepend';\n                        moveCellsBetweenContainers(sources, target, leafs, that.columns, that.lockedHeader.find('thead'), that.thead, this._groups(), action);\n                    } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                        action = destPosition.cell === 0 && sources[0].columns && !target.columns && !that._group ? 'prepend' : 'append';\n                        moveCellsBetweenContainers(sources, target, leafs, nonLockedColumns(that.columns), that.thead, that.lockedHeader.find('thead'), this._groups(), action);\n                    }\n                    if (target.columns || sourcePosition.cell - destPosition.cell > 1 || destPosition.cell - sourcePosition.cell > 1) {\n                        target = findReorderTarget(that.columns, target, sources[0], before, that.columns);\n                        if (target) {\n                            if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                                that._reorderHeader(leafs, target, before, that.thead);\n                            } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                                that._reorderHeader(leafs, target, before, that.lockedHead);\n                            } else {\n                                that._reorderHeader(leafs, target, before);\n                            }\n                        }\n                    }\n                } else if (sourceLockedColumns !== targetLockedColumns) {\n                    updateCellRowSpan(ths[sourcePosition.cell], that.columns, sourceLockedColumns);\n                }\n                reorder(ths, sourcePosition.cell, destPosition.cell, before, sources.length);\n            },\n            _reorderContent: function (sources, destination, before) {\n                var that = this;\n                var lockedRows = $();\n                var source = sources[0];\n                var visibleSources = visibleColumns(sources);\n                var sourceIndex = inArray(source, leafColumns(that.columns));\n                var destIndex = inArray(destination, leafColumns(that.columns));\n                var colSourceIndex = inArray(visibleSources[0], visibleLeafColumns(that.columns));\n                var colDest = inArray(destination, visibleLeafColumns(that.columns));\n                var lockedCount = lockedColumns(that.columns).length;\n                var isLocked = !!destination.locked;\n                var footer = that.footer || that.wrapper.find('.k-grid-footer');\n                var headerCol, footerCol, beforeVisibleColumn;\n                headerCol = footerCol = colDest;\n                if (destination.hidden) {\n                    var columnsArray = isLocked ? lockedColumns(that.columns) : nonLockedColumns(that.columns);\n                    if (visibleColumns(columnsArray).length > 0) {\n                        headerCol = footerCol = colDest = this._findClosestVisibleColumnIndex(columnsArray, destIndex);\n                        beforeVisibleColumn = visibleColumns(columnsArray.slice(destIndex)).length > 0;\n                    } else {\n                        if (isLocked) {\n                            colDest = that.lockedTable.find('colgroup');\n                            headerCol = that.lockedHeader.find('colgroup');\n                            footerCol = $(that.lockedFooter).find('>table>colgroup');\n                        } else {\n                            colDest = that.tbody.prev();\n                            headerCol = that.thead.prev();\n                            footerCol = footer.find('.k-grid-footer-wrap').find('>table>colgroup');\n                        }\n                    }\n                }\n                if (that._hasFilterRow()) {\n                    reorder(that.wrapper.find('.k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n                if (colSourceIndex >= 0) {\n                    reorder(elements(that.lockedHeader, that.thead.prev(), 'col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, headerCol, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                }\n                if (that.options.scrollable) {\n                    if (colSourceIndex >= 0 && !that._hasVirtualColumns()) {\n                        reorder(elements(that.lockedTable, that.tbody.prev(), 'col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, colDest, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                    }\n                }\n                if (footer && footer.length) {\n                    if (colSourceIndex >= 0) {\n                        reorder(elements(that.lockedFooter, footer.find('.k-grid-footer-wrap'), '>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, footerCol, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                    }\n                    reorder(footer.find('.k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n                var rows = that.tbody.children(':not(.k-grouping-row,.k-detail-row)');\n                if (that.lockedTable) {\n                    if (lockedCount > destIndex) {\n                        if (lockedCount <= sourceIndex) {\n                            updateColspan(that.lockedTable.find('>tbody>tr.k-grouping-row'), that.table.find('>tbody>tr.k-grouping-row'), sources.length);\n                        }\n                    } else if (lockedCount > sourceIndex) {\n                        updateColspan(that.table.find('>tbody>tr.k-grouping-row'), that.lockedTable.find('>tbody>tr.k-grouping-row'), sources.length);\n                    }\n                    lockedRows = that.lockedTable.find('>tbody>tr:not(.k-grouping-row,.k-detail-row)');\n                }\n                for (var idx = 0, length = rows.length; idx < length; idx += 1) {\n                    reorder(elements(lockedRows[idx], rows[idx], '>td:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n            },\n            _findClosestVisibleColumnIndex: function (columns, columnIndex) {\n                var columnsArray = visibleColumns(columns.slice(columnIndex)).length > 0 ? columns.slice(columnIndex) : columns.slice(0, columnIndex + 1).reverse(), closestVisibleColumn = visibleColumns(columnsArray)[0];\n                return inArray(closestVisibleColumn, visibleColumns(this.columns));\n            },\n            _autoFitLeafColumn: function (leafIndex) {\n                this.autoFitColumn(leafColumns(this.columns)[leafIndex]);\n            },\n            autoFitColumn: function (column) {\n                var that = this, options = that.options, columns = that.columns, index, th, headerTable, isLocked, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, col, minWidth, contentDiv, scrollLeft, notGroupOrHierarchyCol = 'col:not(.k-group-col):not(.k-hierarchy-col)', notGroupOrHierarchyVisibleCell = 'td:visible:not(.k-group-cell):not(.k-hierarchy-cell)', menu, thWidth;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n                minWidth = column.minResizableWidth;\n                index = inArray(column, leafColumns(columns));\n                isLocked = column.locked;\n                if (isLocked) {\n                    headerTable = that.lockedHeader.children('table');\n                } else {\n                    headerTable = that.thead.parent();\n                }\n                th = headerTable.find('[data-index=\\'' + index + '\\']');\n                menu = th.find('a.k-header-column-menu, a.k-grid-filter');\n                var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                if (that.footer && that.lockedContent) {\n                    footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                }\n                var footerTable = footer.find('table').first();\n                if (that.lockedHeader && !isLocked) {\n                    index -= visibleLocked;\n                }\n                for (var j = 0; j < columns.length; j++) {\n                    if (columns[j] === column) {\n                        break;\n                    } else {\n                        if (columns[j].hidden) {\n                            index--;\n                        }\n                    }\n                }\n                if (options.scrollable) {\n                    col = headerTable.find(notGroupOrHierarchyCol).eq(index).add(contentTable.children('colgroup').find(notGroupOrHierarchyCol).eq(index)).add(footerTable.find('colgroup').find(notGroupOrHierarchyCol).eq(index));\n                    if (!isLocked) {\n                        contentDiv = contentTable.parent();\n                        scrollLeft = kendo.scrollLeft(contentDiv);\n                    }\n                } else {\n                    col = contentTable.children('colgroup').find(notGroupOrHierarchyCol).eq(index);\n                }\n                var tables = headerTable.add(contentTable).add(footerTable);\n                if (browser.safari) {\n                    th.css('white-space', 'initial');\n                }\n                var oldColumnWidth = outerWidth(th);\n                col.width('');\n                tables.css('table-layout', 'fixed');\n                col.width('auto');\n                tables.addClass('k-autofitting');\n                tables.css('table-layout', '');\n                thWidth = menu.length ? outerWidth(menu) + outerWidth(th) : outerWidth(th);\n                var newColumnWidth = Math.ceil(Math.max(thWidth, outerWidth(contentTable.find('tr:not(.k-grouping-row)').eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)), outerWidth(footerTable.find('tr').eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)))) + 1;\n                if (minWidth && minWidth > newColumnWidth) {\n                    newColumnWidth = minWidth;\n                }\n                col.width(newColumnWidth);\n                column.width = newColumnWidth;\n                if (browser.safari) {\n                    th.css('white-space', '');\n                }\n                if (options.scrollable) {\n                    var cols = headerTable.find('col'), colWidth, totalWidth = 0;\n                    for (var idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            totalWidth += parseInt(colWidth, 10);\n                        } else if (cols.eq(idx).hasClass('k-group-col')) {\n                            totalWidth += parseInt(cols.eq(idx).width(), 10);\n                        } else {\n                            totalWidth = 0;\n                            break;\n                        }\n                    }\n                    if (totalWidth) {\n                        tables.each(function () {\n                            this.style.width = totalWidth + 'px';\n                        });\n                    }\n                }\n                tables.removeClass('k-autofitting');\n                if (scrollLeft) {\n                    kendo.scrollLeft(contentDiv, scrollLeft);\n                }\n                that.trigger(COLUMNRESIZE, {\n                    column: column,\n                    oldWidth: oldColumnWidth,\n                    newWidth: newColumnWidth\n                });\n                that._applyLockedContainersWidth();\n                that._syncLockedContentHeight();\n                that._syncLockedHeaderHeight();\n                that._updateStickyColumns();\n            },\n            reorderColumn: function (destIndex, column, before) {\n                var that = this, parent = columnParent(column, that.columns), columns = parent ? parent.columns : that.columns, sourceIndex = inArray(column, columns), destColumn = columns[destIndex], virtualScroll = that.virtualScroll || {}, lockChanged, isLocked = !!destColumn.locked, lockedCount = lockedColumns(that.columns).length, groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function (column) {\n                        return column.groupHeaderColumnTemplate;\n                    });\n                if (sourceIndex === destIndex) {\n                    return;\n                }\n                if (!column.locked && isLocked && nonLockedColumns(that.columns).length == 1) {\n                    return;\n                }\n                if (column.locked && !isLocked && lockedCount == 1) {\n                    return;\n                }\n                that._hideResizeHandle();\n                if (before === undefined) {\n                    before = destIndex < sourceIndex;\n                }\n                var sourceColumns = [column];\n                that._reorderHeader(sourceColumns, destColumn, before);\n                if (that.lockedHeader) {\n                    removeEmptyRows(that.thead);\n                    removeEmptyRows(that.lockedHeader);\n                }\n                if (destColumn.columns) {\n                    destColumn = leafColumns(destColumn.columns);\n                    destColumn = destColumn[before ? 0 : destColumn.length - 1];\n                }\n                if (column.columns) {\n                    sourceColumns = leafColumns(column.columns);\n                }\n                that._reorderContent(sourceColumns, destColumn, before);\n                lockChanged = !!column.locked;\n                lockChanged = lockChanged != isLocked;\n                column.locked = isLocked;\n                columns.splice(before ? destIndex : destIndex + 1, 0, column);\n                columns.splice(sourceIndex < destIndex ? sourceIndex : sourceIndex + 1, 1);\n                that._updateLockedCols();\n                that._updateCols();\n                that._templates();\n                that._updateColumnCellIndex();\n                that._updateColumnSorters();\n                if (groupHeaderColumnTemplateColumns.length > 0) {\n                    that._renderGroupRows();\n                }\n                that._updateTablesWidth();\n                that._applyLockedContainersWidth();\n                that._syncLockedHeaderHeight();\n                that._syncLockedContentHeight();\n                that._updateFirstColumnClass();\n                that._updateStickyColumns();\n                if (virtualScroll.columns) {\n                    that.refresh();\n                }\n                if (!lockChanged) {\n                    return;\n                }\n                if (isLocked) {\n                    that.trigger(COLUMNLOCK, { column: column });\n                } else {\n                    that.trigger(COLUMNUNLOCK, { column: column });\n                }\n            },\n            _updateColumnCellIndex: function () {\n                var header;\n                var offset = 0;\n                if (this.lockedHeader) {\n                    header = this.lockedHeader.find('thead');\n                    offset = updateCellIndex(header, lockedColumns(this.columns));\n                }\n                updateCellIndex(this.thead, nonLockedColumns(this.columns), offset);\n            },\n            lockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || column.locked || column.hidden) {\n                    return;\n                }\n                if (column.sticky) {\n                    this.unstickColumn(columns.indexOf(column));\n                }\n                var index = lockedColumns(columns).length - 1;\n                this.reorderColumn(index, column, false);\n            },\n            unlockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !column.locked || column.hidden) {\n                    return;\n                }\n                var index = lockedColumns(columns).length;\n                this.reorderColumn(index, column, true);\n            },\n            stickColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || column.sticky || column.hidden) {\n                    return;\n                }\n                if (column.locked) {\n                    this.unlockColumn(columns.indexOf(column));\n                    if (column.locked) {\n                        return;\n                    }\n                }\n                column.sticky = true;\n                this._updateStickyColumns();\n            },\n            unstickColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !column.sticky || column.locked || column.hidden) {\n                    return;\n                }\n                this._removeStickyAttributes([column]);\n                this._removeStickyStyles(stickyColumns(columns));\n                column.sticky = false;\n                this._updateStickyColumns();\n                if (this._anyStickyColumns() === 0) {\n                    this._templates();\n                    if (this._hasFilterRow()) {\n                        this._updateStickyFilterCells();\n                    }\n                }\n            },\n            cellIndex: function (td) {\n                var lockedColumnOffset = 0;\n                if (this.lockedTable && !$.contains(this.lockedTable[0], td[0])) {\n                    lockedColumnOffset = leafColumns(lockedColumns(this.columns)).length;\n                }\n                return $(td).parent().children('td:not(.k-group-cell,.k-hierarchy-cell)').index(td) + lockedColumnOffset;\n            },\n            _modelForContainer: function (container) {\n                container = $(container);\n                if (!container.is('tr') && this._editMode() !== 'popup') {\n                    container = container.closest('tr');\n                }\n                var id = container.attr(kendo.attr('uid'));\n                return this.dataSource.getByUid(id);\n            },\n            _calculateColumnIndex: function (cell) {\n                var cellIndex = this.cellIndex(cell);\n                var virtualOffset = 0;\n                if (this._hasVirtualColumns()) {\n                    virtualOffset = parseInt($(cell).closest('tr').find('td:first').attr('colspan'), 10);\n                    virtualOffset = virtualOffset > 1 ? virtualOffset - 1 : 0;\n                }\n                return cellIndex + virtualOffset;\n            },\n            _editable: function () {\n                var that = this, editable = that.options.editable, handler = function () {\n                        var target = activeElement(), cell = that._editContainer;\n                        if (cell && cell[0] && !$.contains(cell[0], target) && cell[0] !== target && !$(target).closest('.k-animation-container').length) {\n                            if (that.editable.end()) {\n                                that.closeCell();\n                            } else {\n                                that._scrollVirtualWrapper();\n                            }\n                        }\n                    };\n                if (editable) {\n                    this.wrapper.addClass('k-editable');\n                    var mode = that._editMode();\n                    if (mode === 'incell') {\n                        that.table.add(that.lockedTable).on('mousedown' + NS, NAVROW + '>' + NAVCELL, function (e) {\n                            var target = $(e.target);\n                            if (that._editMode() === 'incell' && target.hasClass('k-checkbox') && target.prev().attr(kendo.attr('bind'))) {\n                                e.preventDefault();\n                            }\n                        });\n                        if (editable.update !== false) {\n                            if (isMac) {\n                                that.wrapper.on(CLICK + NS, '.k-edit-cell > input[type=\\'checkbox\\']', function (e) {\n                                    $(e.target).focus();\n                                }).on(CLICK + NS, '.k-edit-cell', function (e) {\n                                    if (!$(e.target).is('input')) {\n                                        $(e.currentTarget).find('input[type=\\'checkbox\\']').focus();\n                                    }\n                                }).on(MOUSEDOWN + NS, 'tr:not(.k-grouping-row) > td', function (e) {\n                                    var editContainer = that._editContainer;\n                                    if (editContainer && editContainer[0] && ($.contains(editContainer[0], e.target) || editContainer[0] === e.target)) {\n                                        that._mousedownOnEditCell = true;\n                                    } else {\n                                        that._mousedownOnEditCell = false;\n                                    }\n                                });\n                            }\n                            that.editableUserEvents = new kendo.UserEvents(that.wrapper, {\n                                filter: 'tr:not(.k-grouping-row) > td',\n                                allowSelection: true,\n                                tap: function (e) {\n                                    var td = $(e.target), isLockedCell = that.lockedTable && td.closest('table')[0] === that.lockedTable[0];\n                                    that._mousedownOnEditCell = false;\n                                    if (td.hasClass('k-hierarchy-cell') || td.hasClass('k-detail-cell') || td.hasClass('k-group-cell') || td.hasClass('k-edit-cell') || td.has('a.k-grid-delete').length || td.has('button.k-grid-delete').length || td.closest('tbody')[0] !== that.tbody[0] && !isLockedCell || $(e.target).is(':input')) {\n                                        return;\n                                    }\n                                    if (that.editable) {\n                                        if (that.editable.end()) {\n                                            $(activeElement()).blur();\n                                            that.closeCell();\n                                            that.editCell(td);\n                                        } else {\n                                            that._scrollVirtualWrapper();\n                                        }\n                                    } else {\n                                        that.editCell(td);\n                                    }\n                                }\n                            });\n                            that.wrapper.on('focusin' + NS, function () {\n                                if (!$.contains(this, activeElement())) {\n                                    clearTimeout(that.timer);\n                                    that.timer = null;\n                                }\n                            }).on('focusout' + NS, function (e) {\n                                var shouldCloseCell = true;\n                                if (isMac && that._mousedownOnEditCell || that._virtualColScroll) {\n                                    shouldCloseCell = false;\n                                }\n                                that._mousedownOnEditCell = false;\n                                if (shouldCloseCell) {\n                                    that.timer = setTimeout(function () {\n                                        handler(e);\n                                    }, 1);\n                                }\n                            });\n                        }\n                    } else {\n                        if (editable.update !== false) {\n                            that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit', function (e) {\n                                e.preventDefault();\n                                that.editRow($(this).closest('tr'));\n                            });\n                            if (that._isVirtualInlineEditable()) {\n                                that.wrapper.on('focusout' + NS, 'tr:not(.k-grouping-row) > td', function () {\n                                    if (that.editable && !that.editable.end()) {\n                                        that._scrollVirtualWrapper();\n                                    }\n                                });\n                            }\n                        }\n                    }\n                    if (editable.destroy !== false) {\n                        that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete', function (e) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            that.removeRow($(this).closest('tr'));\n                        });\n                    } else {\n                        that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete', function (e) {\n                            e.stopPropagation();\n                            if (!that._confirmation()) {\n                                e.preventDefault();\n                            }\n                        });\n                    }\n                }\n            },\n            editCell: function (cell) {\n                cell = $(cell);\n                var that = this, column = leafColumns(that.columns)[that._calculateColumnIndex(cell)], model = that._modelForContainer(cell);\n                that.closeCell();\n                if (model && isColumnEditable(column, model) && !column.command) {\n                    if (that.trigger(BEFOREEDIT, { model: model })) {\n                        return;\n                    }\n                    that._attachModelChange(model);\n                    that._editContainer = cell;\n                    if (that._shouldClearEditableState) {\n                        that._clearEditableState();\n                    }\n                    that.editable = cell.addClass('k-edit-cell').kendoEditable({\n                        fields: {\n                            field: column.field,\n                            format: column.format,\n                            editor: column.editor,\n                            values: column.values\n                        },\n                        model: model,\n                        target: that,\n                        change: function (e) {\n                            if (that.trigger(SAVE, {\n                                    values: e.values,\n                                    container: cell,\n                                    model: model\n                                })) {\n                                e.preventDefault();\n                            }\n                        },\n                        skipFocus: (that._isVirtualIncellEditable() || that._hasVirtualColumns()) && that._editableState ? true : false\n                    }).data('kendoEditable');\n                    var tr = cell.parent().addClass('k-grid-edit-row');\n                    if (that.lockedContent) {\n                        adjustRowHeight(tr[0], that._relatedRow(tr).addClass('k-grid-edit-row')[0]);\n                        that._syncLockedScroll();\n                    }\n                    that.trigger(EDIT, {\n                        container: cell,\n                        model: model\n                    });\n                }\n            },\n            _adjustLockedHorizontalScrollBar: function () {\n                var table = this.table, content = table.parent();\n                var scrollbar = table[0].offsetWidth > content[0].clientWidth ? kendo.support.scrollbar() : 0;\n                this.lockedContent.height(content[0].offsetHeight - scrollbar);\n            },\n            _syncLockedScroll: function () {\n                this.lockedContent[0].scrollTop = this.content[0].scrollTop;\n                if (this.virtualScrollable) {\n                    this.lockedContent[0].scrollTop = this.wrapper.find('.k-virtual-scrollable-wrap')[0].scrollTop;\n                }\n            },\n            _syncLockedContentHeight: function () {\n                if (this.lockedTable) {\n                    if (!this.touchScroller) {\n                        this._adjustLockedHorizontalScrollBar();\n                    }\n                    this._adjustRowsHeight(this.table, this.lockedTable);\n                }\n            },\n            _syncLockedHeaderHeight: function () {\n                if (this.lockedHeader) {\n                    var lockedTable = this.lockedHeader.children('table');\n                    var table = this.thead.parent();\n                    this._adjustRowsHeight(lockedTable, table);\n                    syncTableHeight(lockedTable, table);\n                }\n            },\n            _syncLockedFooterHeight: function () {\n                if (this.lockedFooter && this.footer && this.footer.length) {\n                    this._adjustRowsHeight(this.lockedFooter.children('table'), this.footer.find('.k-grid-footer-wrap > table'));\n                }\n            },\n            _destroyEditable: function () {\n                var that = this;\n                var destroy = function () {\n                    if (that.editable) {\n                        var container = that.editView ? that.editView.element : that._editContainer;\n                        if (container) {\n                            container.off(CLICK + NS, 'a.k-grid-cancel', that._editCancelClickHandler);\n                            container.off(CLICK + NS, 'a.k-grid-update', that._editUpdateClickHandler);\n                        }\n                        that._detachModelChange();\n                        that.editable.destroy();\n                        that.editable = null;\n                        that._editContainer = null;\n                        that._destroyEditView();\n                        that._editableIsClosing = null;\n                    }\n                };\n                if (that.editable) {\n                    if (that._editMode() === 'popup' && !that._isMobile) {\n                        if (that._editableIsClosing) {\n                            that._editContainer.data('kendoWindow').bind('deactivate', destroy);\n                        } else {\n                            that._editableIsClosing = true;\n                            that._editContainer.data('kendoWindow').bind('deactivate', destroy).close();\n                        }\n                    } else {\n                        destroy();\n                    }\n                }\n                if (that._confirmDialog) {\n                    that._confirmDialog.close();\n                    that._confirmDialog.destroy();\n                    that._confirmDialog = null;\n                }\n            },\n            _destroyEditView: function () {\n                if (this.editView) {\n                    this.editView.purge();\n                    this.editView = null;\n                    this.pane.navigate('');\n                }\n            },\n            _attachModelChange: function (model) {\n                var that = this;\n                that._modelChangeHandler = function (e) {\n                    that._modelChange({\n                        field: e.field,\n                        model: this\n                    });\n                };\n                model.bind('change', that._modelChangeHandler);\n            },\n            _detachModelChange: function () {\n                var that = this, container = that._editContainer, model = that._modelForContainer(container);\n                if (model) {\n                    model.unbind(CHANGE, that._modelChangeHandler);\n                }\n            },\n            closeCell: function (isCancel) {\n                var that = this, cell = that._editContainer, column, tr, model;\n                if (!cell) {\n                    return;\n                }\n                model = that._modelForContainer(cell);\n                if (isCancel && that.trigger('cancel', {\n                        container: cell,\n                        model: model\n                    })) {\n                    return;\n                }\n                that.trigger(CELLCLOSE, {\n                    type: isCancel ? 'cancel' : 'save',\n                    model: model,\n                    container: cell\n                });\n                cell.removeClass('k-edit-cell');\n                column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n                tr = cell.parent().removeClass('k-grid-edit-row');\n                if (that.lockedContent) {\n                    that._relatedRow(tr).removeClass('k-grid-edit-row');\n                }\n                that._destroyEditable();\n                that._displayCell(cell, column, model);\n                if (that._shouldClearEditableState) {\n                    that._clearEditableState();\n                }\n                that.trigger('itemChange', {\n                    item: tr,\n                    data: model,\n                    ns: ui\n                });\n                if (that.lockedContent) {\n                    adjustRowHeight(tr.css('height', '')[0], that._relatedRow(tr).css('height', '')[0]);\n                }\n            },\n            _displayCell: function (cell, column, dataItem) {\n                var that = this, state = {\n                        storage: {},\n                        count: 0\n                    }, settings = extend({}, kendo.Template, that.options.templateSettings), tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                if (state.count > 0) {\n                    tmpl = proxy(tmpl, state.storage);\n                }\n                cell.empty().html(tmpl(dataItem));\n                that.angular('compile', function () {\n                    return {\n                        elements: cell,\n                        data: [{ dataItem: dataItem }]\n                    };\n                });\n            },\n            removeRow: function (row) {\n                if (!this._confirmation(row)) {\n                    return;\n                }\n                this._removeRow(row);\n            },\n            _removeRow: function (row) {\n                var that = this, model, modelId, key, schema, mode = that._editMode();\n                if (mode !== 'incell') {\n                    that.cancelRow();\n                }\n                row = $(row);\n                if (that.lockedContent) {\n                    row = row.add(that._relatedRow(row));\n                }\n                row = row.hide();\n                if (that.dataSource._isGroupPaged()) {\n                    that._removeGroupIfEmpty(row);\n                }\n                model = that._modelForContainer(row);\n                if (model && !that.trigger(REMOVE, {\n                        row: row,\n                        model: model\n                    })) {\n                    schema = that.dataSource.options.schema;\n                    if (that._selectedIds && schema && schema.model) {\n                        modelId = isFunction(that.dataSource.options.schema.model) ? that.dataSource.options.schema.model.fn.idField : that.dataSource.options.schema.model.id;\n                        key = model[modelId];\n                        delete that._selectedIds[key];\n                    }\n                    that.dataSource.remove(model);\n                    if (mode === 'inline' || mode === 'popup') {\n                        that.dataSource.sync();\n                    }\n                } else if (mode === 'incell') {\n                    that._destroyEditable();\n                }\n            },\n            _editMode: function () {\n                var mode = 'incell', editable = this.options.editable;\n                if (editable !== true) {\n                    if (typeof editable == 'string') {\n                        mode = editable;\n                    } else {\n                        mode = editable.mode || mode;\n                    }\n                }\n                return mode;\n            },\n            editRow: function (row) {\n                var model;\n                var that = this;\n                if (row instanceof ObservableObject) {\n                    model = row;\n                } else {\n                    row = $(row);\n                    model = that._modelForContainer(row);\n                }\n                var mode = that._editMode();\n                var container;\n                that.cancelRow();\n                if (model) {\n                    row = that.tbody.children('[' + kendo.attr('uid') + '=' + model.uid + ']');\n                    that._attachModelChange(model);\n                    if (mode === 'popup') {\n                        that._createPopupEditor(model);\n                    } else if (mode === 'inline') {\n                        that._createInlineEditor(row, model);\n                    } else if (mode === 'incell') {\n                        $(row).children(DATA_CELL).each(function () {\n                            var cell = $(this);\n                            var column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n                            model = that._modelForContainer(cell);\n                            if (model && (!model.editable || model.editable(column.field)) && column.field && !column.selectable) {\n                                that.editCell(cell);\n                                return false;\n                            }\n                        });\n                    }\n                    container = that.editView ? that.editView.element : that._editContainer;\n                    if (container) {\n                        if (!this._editCancelClickHandler) {\n                            this._editCancelClickHandler = proxy(this._editCancelClick, this);\n                        }\n                        container.on(CLICK + NS, 'a.k-grid-cancel', this._editCancelClickHandler);\n                        if (!this._editUpdateClickHandler) {\n                            this._editUpdateClickHandler = proxy(this._editUpdateClick, this);\n                        }\n                        container.on(CLICK + NS, 'a.k-grid-update', this._editUpdateClickHandler);\n                    }\n                }\n            },\n            _editUpdateClick: function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n                this.saveRow();\n            },\n            _editCancelClick: function (e) {\n                var that = this;\n                var navigatable = that.options.navigatable;\n                var model = that.editable.options.model;\n                var container = that.editView ? that.editView.element : that._editContainer;\n                e.preventDefault();\n                e.stopPropagation();\n                if (that.trigger('cancel', {\n                        container: container,\n                        model: model\n                    })) {\n                    return;\n                }\n                var currentIndex = that.items().index($(that.current()).parent());\n                that.cancelRow();\n                if (navigatable) {\n                    that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                    focusTable(that.table, true);\n                }\n            },\n            _createPopupEditor: function (model) {\n                var that = this;\n                var html = '<div ' + kendo.attr('uid') + '=\"' + model.uid + '\" class=\"k-popup-edit-form\"><' + (that._isMobile ? 'ul class=\"k-edit-form-container k-listgroup k-listgroup-flush\">' : 'div class=\"k-edit-form-container\">');\n                var column;\n                var command;\n                var fields = [];\n                var idx;\n                var length;\n                var tmpl;\n                var updateText;\n                var cancelText;\n                var updateIconClass;\n                var cancelIconClass;\n                var tempCommand;\n                var columns = leafColumns(that.columns);\n                var attr;\n                var editMenuGuid = kendo.guid();\n                var editable = that.options.editable;\n                var template = editable.template;\n                var options = isPlainObject(editable) ? editable.window : {};\n                var settings = extend({}, kendo.Template, that.options.templateSettings);\n                var state;\n                if (that.trigger(BEFOREEDIT, { model: model })) {\n                    return;\n                }\n                options = options || {};\n                if (template) {\n                    if (typeof template === STRING) {\n                        template = kendo.unescape(template);\n                    }\n                    html += kendo.template(template, settings)(model);\n                    for (idx = 0, length = columns.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.command) {\n                            tempCommand = getCommand(column.command, 'edit');\n                            if (tempCommand) {\n                                command = tempCommand;\n                            }\n                        }\n                    }\n                } else {\n                    for (idx = 0, length = columns.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.selectable) {\n                            continue;\n                        }\n                        if (!column.command) {\n                            if (!that._isMobile) {\n                                html += '<div class=\"k-edit-label\"><label for=\"' + column.field + '\">' + (column.title && (that.options.encodeTitles ? htmlEncode(column.title) : column.title) || column.field || '') + '</label></div>';\n                                if (isColumnEditable(column, model)) {\n                                    fields.push({\n                                        field: column.field,\n                                        title: column.title,\n                                        format: column.format,\n                                        editor: column.editor,\n                                        values: column.values\n                                    });\n                                    html += '<div ' + kendo.attr('container-for') + '=\"' + column.field + '\" class=\"k-edit-field\"></div>';\n                                } else {\n                                    state = {\n                                        storage: {},\n                                        count: 0\n                                    };\n                                    tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                                    if (state.count > 0) {\n                                        tmpl = proxy(tmpl, state.storage);\n                                    }\n                                    html += '<div class=\"k-edit-field k-no-editor\">' + tmpl(model) + '</div>';\n                                }\n                            } else {\n                                html += '<li class=\"k-item k-listgroup-item\">';\n                                if (isColumnEditable(column, model)) {\n                                    fields.push({\n                                        field: column.field,\n                                        title: column.title,\n                                        format: column.format,\n                                        editor: column.editor,\n                                        values: column.values\n                                    });\n                                    html += '<label class=\"k-label k-listgroup-form-row\">';\n                                    html += '<span class=\"k-item-title k-listgroup-form-field-label\">' + (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || column.field || '') + '</span>';\n                                    html += '<div class=\"k-listgroup-form-field-wrapper\" id=\"' + column.field + '_' + editMenuGuid + '\" ' + kendo.attr('container-for') + '=\"' + column.field + '\"></div>';\n                                    html += '</label>';\n                                } else {\n                                    state = {\n                                        storage: {},\n                                        count: 0\n                                    };\n                                    tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                                    if (state.count > 0) {\n                                        tmpl = proxy(tmpl, state.storage);\n                                    }\n                                    html += '<label class=\"k-label k-listgroup-form-row k-no-click\">';\n                                    html += '<span class=\"k-item-title k-listgroup-form-field-label\">' + (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || column.field || '') + '</span>';\n                                    html += '<span class=\"k-no-editor k-listgroup-form-field-wrapper\">' + tmpl(model) + '</span>';\n                                    html += '</label>';\n                                }\n                                html += '</li>';\n                            }\n                        } else if (column.command) {\n                            tempCommand = getCommand(column.command, 'edit');\n                            if (tempCommand) {\n                                command = tempCommand;\n                            }\n                        }\n                    }\n                }\n                if (command) {\n                    if (isPlainObject(command)) {\n                        if (isPlainObject(command.text)) {\n                            updateText = command.text.update;\n                            cancelText = command.text.cancel;\n                        }\n                        if (isPlainObject(command.iconClass)) {\n                            updateIconClass = command.iconClass.update;\n                            cancelIconClass = command.iconClass.cancel;\n                        }\n                        if (command.attr) {\n                            attr = command.attr;\n                        }\n                    }\n                }\n                var container;\n                if (!that._isMobile) {\n                    html += '<div class=\"k-edit-buttons k-state-default\">';\n                    html += that._createButton({\n                        name: 'update',\n                        text: updateText,\n                        attr: attr,\n                        iconClass: updateIconClass\n                    }) + that._createButton({\n                        name: 'canceledit',\n                        text: cancelText,\n                        attr: attr,\n                        iconClass: cancelIconClass\n                    });\n                    html += '</div></div></div>';\n                    container = that._editContainer = $(html).appendTo(that.wrapper).eq(0).kendoWindow(extend({\n                        modal: true,\n                        resizable: false,\n                        draggable: true,\n                        title: that.options.messages.commands.edit || 'Edit',\n                        visible: false,\n                        close: function (e) {\n                            if (e.userTriggered) {\n                                e.sender.element.focus();\n                                if (that.trigger('cancel', {\n                                        container: container,\n                                        model: model\n                                    })) {\n                                    e.preventDefault();\n                                    return;\n                                }\n                                var currentIndex = that.items().index($(that.current()).parent());\n                                that._editableIsClosing = true;\n                                that.cancelRow();\n                                if (that.options.navigatable) {\n                                    that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                                    focusTable(that.table, true);\n                                }\n                            }\n                        }\n                    }, options));\n                } else {\n                    html += '</ul></div>';\n                    that.editView = that.pane.append('<div data-' + kendo.ns + 'role=\"view\" class=\"k-grid-edit-form\">' + '<div data-' + kendo.ns + 'role=\"header\" class=\"k-header\">' + '<a href=\"\\\\#\" class=\"k-header-cancel k-link k-grid-cancel\" title=\"#=messages.cancel#\" ' + 'aria-label=\"#=messages.cancel#\"><span class=\"k-icon k-i-arrow-chevron-left\"></span></a>' + (that.options.messages.commands.edit || 'Edit') + '<a href=\"\\\\#\" class=\"k-header-done k-link k-grid-update\" title=\"#=messages.done#\" ' + 'aria-label=\"#=messages.done#\"><span class=\"k-icon k-i-check\"></span></a>' + '</div>' + '<div data-' + kendo.ns + 'role=\"content\" class=\"' + classNames.content + '\">' + html + '</div>' + '</div>');\n                    container = that._editContainer = that.editView.element.find('.k-popup-edit-form');\n                }\n                that.editable = that._editContainer.kendoEditable({\n                    fields: fields,\n                    model: model,\n                    clearContainer: false,\n                    target: that\n                }).data('kendoEditable');\n                that._openPopUpEditor();\n                that.trigger(EDIT, {\n                    container: container,\n                    model: model\n                });\n            },\n            _openPopUpEditor: function () {\n                var that = this;\n                var windowEditor = that._editContainer ? that._editContainer.data('kendoWindow') : null;\n                var windowOptions = (that.options.editable || {}).window || {};\n                if (!this._isMobile) {\n                    if (windowEditor) {\n                        if (!windowOptions.position) {\n                            windowEditor.center();\n                        }\n                        windowEditor.open();\n                    }\n                } else {\n                    this.pane.navigate(this.editView, this._editAnimation);\n                }\n            },\n            _createInlineEditor: function (row, model) {\n                var that = this;\n                var column;\n                var cell;\n                var command;\n                var fields = [];\n                if (that.trigger(BEFOREEDIT, { model: model })) {\n                    return;\n                }\n                if (that.lockedContent) {\n                    row = row.add(that._relatedRow(row));\n                }\n                row.children(':not(.k-group-cell,.k-hierarchy-cell)').each(function () {\n                    cell = $(this);\n                    column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n                    if (!column.command && isColumnEditable(column, model)) {\n                        fields.push({\n                            field: column.field,\n                            title: column.title,\n                            format: column.format,\n                            editor: column.editor,\n                            values: column.values\n                        });\n                        cell.attr(kendo.attr('container-for'), column.field);\n                        cell.empty();\n                    } else if (column.command) {\n                        command = getCommand(column.command, 'edit');\n                        if (command) {\n                            cell.empty();\n                            var updateText, cancelText, updateIconClass, cancelIconClass, attr;\n                            if (isPlainObject(command)) {\n                                if (isPlainObject(command.text)) {\n                                    updateText = command.text.update;\n                                    cancelText = command.text.cancel;\n                                }\n                                if (isPlainObject(command.iconClass)) {\n                                    updateIconClass = command.iconClass.update;\n                                    cancelIconClass = command.iconClass.cancel;\n                                }\n                                if (command.attr) {\n                                    attr = command.attr;\n                                }\n                            }\n                            $(that._createButton({\n                                name: 'update',\n                                text: updateText,\n                                attr: attr,\n                                iconClass: updateIconClass\n                            }) + that._createButton({\n                                name: 'canceledit',\n                                text: cancelText,\n                                attr: attr,\n                                iconClass: cancelIconClass\n                            })).appendTo(cell);\n                        }\n                    }\n                });\n                that._editContainer = row;\n                that._editContainer.addClass('k-grid-edit-row');\n                if (that._shouldClearEditableState) {\n                    that._clearEditableState();\n                }\n                that.editable = new kendo.ui.Editable(that._editContainer, {\n                    target: that,\n                    fields: fields,\n                    model: model,\n                    skipFocus: that._isVirtualInlineEditable() && that._editableState && (that._editableState.field ? true : false) || that._hasVirtualColumns(),\n                    clearContainer: false\n                });\n                if (row.length > 1) {\n                    adjustRowHeight(row[0], row[1]);\n                    that._applyLockedContainersWidth();\n                }\n                that.trigger(EDIT, {\n                    container: row,\n                    model: model\n                });\n            },\n            cancelRow: function (notify) {\n                var that = this, container = that._editContainer, model;\n                if (container) {\n                    model = that._modelForContainer(container);\n                    if (!model || notify && that.trigger('cancel', {\n                            container: container,\n                            model: model\n                        })) {\n                        return;\n                    }\n                    that._destroyEditable();\n                    that.dataSource.cancelChanges(model);\n                    that._clearEditableState();\n                    if (that._editMode() !== 'popup') {\n                        that._displayRow(container);\n                    } else {\n                        that._displayRow(that.tbody.find('[' + kendo.attr('uid') + '=' + model.uid + ']'));\n                    }\n                }\n            },\n            saveRow: function () {\n                var that = this;\n                var container = this._editContainer;\n                var model = this._modelForContainer(container);\n                var deferred = $.Deferred();\n                var valid;\n                if (!container || !this.editable) {\n                    return deferred.resolve().promise();\n                }\n                valid = that.editable && that.editable.end();\n                if (!valid || this.trigger(SAVE, {\n                        container: container,\n                        model: model\n                    })) {\n                    if (!valid) {\n                        that._scrollVirtualWrapper();\n                    }\n                    return deferred.reject().promise();\n                }\n                that._clearEditableState();\n                return this.dataSource.sync();\n            },\n            _displayRow: function (row) {\n                var that = this, model = that._modelForContainer(row), related, newRow, nextRow, isSelected = row.hasClass('k-state-selected'), isAlt = row.hasClass('k-alt');\n                if (model) {\n                    if (that.lockedContent) {\n                        related = $((isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model));\n                        that._relatedRow(row.last()).replaceWith(related);\n                    }\n                    that.angular('cleanup', function () {\n                        return { elements: row.get() };\n                    });\n                    newRow = $((isAlt ? that.altRowTemplate : that.rowTemplate)(model));\n                    if (!row.is(':visible')) {\n                        newRow.hide();\n                    }\n                    row.replaceWith(newRow);\n                    that.trigger('itemChange', {\n                        item: newRow,\n                        data: model,\n                        ns: ui\n                    });\n                    if (related && related.length) {\n                        that.trigger('itemChange', {\n                            item: related,\n                            data: model,\n                            ns: ui\n                        });\n                    }\n                    var angularElements = newRow;\n                    var angularData = [{ dataItem: model }];\n                    if (related && related.length) {\n                        angularElements = newRow.add(related);\n                        angularData.push({ dataItem: model });\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: angularElements.get(),\n                            data: angularData\n                        };\n                    });\n                    if (isSelected && (that.options.selectable || that._checkBoxSelection)) {\n                        that.select(newRow.add(related));\n                    }\n                    if (related) {\n                        adjustRowHeight(newRow[0], related[0]);\n                    }\n                    nextRow = newRow.next();\n                    if (nextRow.hasClass('k-detail-row') && nextRow.is(':visible')) {\n                        newRow.find('.k-hierarchy-cell .k-icon').removeClass('k-i-expand').addClass('k-i-collapse');\n                    }\n                }\n            },\n            _showMessage: function (messages, row) {\n                var that = this;\n                if (!that._isMobile) {\n                    return window.confirm(messages.title);\n                }\n                var confirmDialog = that._confirmDialog = new kendo.ui.Confirm($('<div />').appendTo(document.body), {\n                    modal: { preventScroll: true },\n                    closable: false,\n                    title: false,\n                    content: messages.title,\n                    messages: {\n                        okText: messages.confirmDelete,\n                        cancel: messages.cancelDelete\n                    },\n                    open: function () {\n                        if (that.content) {\n                            that.content.data(OVERFLOW, that.content.css(OVERFLOW));\n                            that.content.css(OVERFLOW, HIDDEN);\n                        }\n                    },\n                    close: function () {\n                        if (that.content) {\n                            that.content.css(OVERFLOW, that.content.data(OVERFLOW));\n                        }\n                    }\n                });\n                confirmDialog.result.done(function () {\n                    that._removeRow(row);\n                }).fail(function () {\n                    var confirmDialog = that._confirmDialog;\n                    if (confirmDialog) {\n                        confirmDialog.close();\n                        confirmDialog.destroy();\n                    }\n                });\n                return false;\n            },\n            _confirmation: function (row) {\n                var that = this, editable = that.options.editable, confirmation = editable === true || typeof editable === STRING ? that.options.messages.editable.confirmation : editable.confirmation;\n                if (isPlainObject(editable) && typeof editable.mode === STRING && typeof confirmation !== FUNCTION && typeof confirmation !== STRING && confirmation !== false) {\n                    confirmation = that.options.messages.editable.confirmation;\n                }\n                if (confirmation !== false && confirmation != null) {\n                    if (typeof confirmation === FUNCTION) {\n                        confirmation = confirmation(that._modelForContainer(row));\n                    }\n                    return that._showMessage({\n                        confirmDelete: editable.confirmDelete || that.options.messages.editable.confirmDelete,\n                        cancelDelete: editable.cancelDelete || that.options.messages.editable.cancelDelete,\n                        title: confirmation === true ? that.options.messages.editable.confirmation : confirmation\n                    }, row);\n                }\n                return true;\n            },\n            cancelChanges: function () {\n                var that = this;\n                that.dataSource.cancelChanges();\n                if (that._isVirtualEditable()) {\n                    that._virtualPageToTop(function () {\n                        that.virtualScrollable.scrollToTop();\n                    });\n                }\n            },\n            saveChanges: function () {\n                var that = this;\n                var valid = that.editable && that.editable.end();\n                if ((valid || !that.editable) && !that.trigger(SAVECHANGES)) {\n                    that.dataSource.sync();\n                } else if (!valid) {\n                    that._scrollVirtualWrapper();\n                }\n            },\n            addRow: function () {\n                var that = this, index, dataSource = that.dataSource, mode = that._editMode(), createAt = that.options.editable.createAt || '', pageSize = dataSource.pageSize(), view = dataSource.view() || [];\n                var createAtBottom = createAt.toLowerCase() === BOTTOM;\n                var model;\n                var virtualEditable = that._isVirtualEditable();\n                if (that.editable && that.editable.end() || !that.editable) {\n                    if (mode != 'incell') {\n                        that.cancelRow();\n                    }\n                    index = dataSource.indexOf(view[0]);\n                    if (createAtBottom) {\n                        index += view.length;\n                        if (pageSize && !dataSource.options.serverPaging && pageSize <= view.length) {\n                            index -= 1;\n                        }\n                    }\n                    if (index < 0) {\n                        if (dataSource.page() > dataSource.totalPages()) {\n                            index = (dataSource.page() - 1) * pageSize;\n                        } else {\n                            index = 0;\n                        }\n                    }\n                    if (that.options.navigatable && mode == 'incell') {\n                        that._removeCurrent();\n                    }\n                    if (virtualEditable) {\n                        that._virtualAddRow();\n                    } else {\n                        model = dataSource.insert(index, {});\n                        that._editModel(model);\n                    }\n                } else {\n                    that._scrollVirtualWrapper();\n                }\n            },\n            _editModel: function (model) {\n                var that = this;\n                var createAt = that.options.editable.createAt || '';\n                var mode = that._editMode();\n                if (model) {\n                    var id = model.uid, table = that.lockedContent ? that.lockedTable : that.table, row = table.find('tr[' + kendo.attr('uid') + '=' + id + ']'), cell = row.children('td:not(.k-group-cell,.k-hierarchy-cell)').eq(that._firstEditableColumnIndex(row));\n                    if (mode === 'inline' && row.length) {\n                        that.editRow(row);\n                    } else if (mode === 'popup') {\n                        that.editRow(model);\n                    } else if (cell.length) {\n                        that.editCell(cell);\n                    }\n                    if (createAt.toLowerCase() == 'bottom' && that.lockedContent) {\n                        that.lockedContent[0].scrollTop = that.content[0].scrollTop = that.table[0].offsetHeight;\n                    }\n                }\n            },\n            _virtualAddRow: function () {\n                var that = this;\n                var createAtBottom = (that.options.editable.createAt || '').toLowerCase() === BOTTOM;\n                that._clearEditableState();\n                if (createAtBottom) {\n                    that._virtualAddRowAtBottom();\n                } else {\n                    that._virtualAddRowAtTop();\n                }\n            },\n            _virtualAddRowAtTop: function () {\n                var that = this;\n                var dataSource = that.dataSource;\n                var virtualScrollable = that.virtualScrollable;\n                var model;\n                if (dataSource.page() === 1) {\n                    model = dataSource.insert(0, {});\n                    that._editModel(model);\n                    virtualScrollable.scrollToTop();\n                } else {\n                    that._virtualPageToTop(function () {\n                        model = dataSource.insert(0, {});\n                        that._editModel(model);\n                        virtualScrollable.scrollToTop();\n                    });\n                }\n            },\n            _virtualAddRowAtBottom: function () {\n                var that = this;\n                var dataSource = that.dataSource;\n                var virtualScrollable = that.virtualScrollable;\n                var index = dataSource.total();\n                var model;\n                if (dataSource.at(index - 1) instanceof ObservableObject) {\n                    model = dataSource.insert(index, {});\n                    that._virtualPageToBottom(function () {\n                        that._editModel(model);\n                        virtualScrollable.scrollToBottom();\n                    });\n                } else {\n                    that._virtualPageToBottom(function () {\n                        model = dataSource.insert(index, {});\n                        that._editModel(model);\n                        virtualScrollable.scrollToBottom();\n                    });\n                }\n            },\n            _virtualPageToTop: function (callback) {\n                var that = this;\n                that._virtualPage(0, that.dataSource.take(), function () {\n                    callback();\n                });\n            },\n            _virtualPageToBottom: function (callback) {\n                var that = this;\n                var dataSource = that.dataSource;\n                var take = dataSource.take();\n                var total = dataSource.total();\n                var skip = total > take ? total - take : 0;\n                that._virtualPage(skip, take, function () {\n                    callback();\n                });\n            },\n            _virtualPage: function (skip, take, callback) {\n                var that = this;\n                if (that._isVirtualEditable()) {\n                    that.virtualScrollable._preventScroll = true;\n                    that.virtualScrollable._page(skip, take, callback);\n                }\n            },\n            _firstEditableColumnIndex: function (container) {\n                var that = this, column, columns = leafColumns(that.columns), idx, length, model = that._modelForContainer(container);\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (model && (!model.editable || model.editable(column.field)) && !column.command && column.field && column.hidden !== true) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            _toolbar: function () {\n                var that = this, wrapper = that.wrapper, toolbar = that.options.toolbar, editable = that.options.editable, container;\n                if (toolbar) {\n                    container = that.wrapper.find('.k-grid-toolbar');\n                    if (!container.length) {\n                        if (!isFunction(toolbar)) {\n                            toolbar = typeof toolbar === STRING ? toolbar : that._toolbarTmpl(toolbar).replace(templateHashRegExp, '\\\\#');\n                            toolbar = proxy(kendo.template(toolbar), that);\n                        }\n                        container = $('<div class=\"k-toolbar k-grid-toolbar\" />').html(toolbar({})).prependTo(wrapper);\n                        that.angular('compile', function () {\n                            return { elements: container.get() };\n                        });\n                    }\n                    if (editable && editable.create !== false) {\n                        container.on(CLICK + NS, '.k-grid-add', function (e) {\n                            e.preventDefault();\n                            that.addRow();\n                        }).on(CLICK + NS, '.k-grid-cancel-changes', function (e) {\n                            e.preventDefault();\n                            that.cancelChanges();\n                        }).on(CLICK + NS, '.k-grid-save-changes', function (e) {\n                            e.preventDefault();\n                            that.saveChanges();\n                        });\n                    }\n                    container.on(CLICK + NS, '.k-grid-excel', function (e) {\n                        e.preventDefault();\n                        that.saveAsExcel();\n                    });\n                    container.on(CLICK + NS, '.k-grid-pdf', function (e) {\n                        e.preventDefault();\n                        that.saveAsPDF();\n                    });\n                    container.on(INPUT + NS, '.k-grid-search input', function (e) {\n                        var input = e.currentTarget;\n                        clearTimeout(that._searchTimeOut);\n                        that._searchTimeOut = setTimeout(function () {\n                            that._searchTimeOut = null;\n                            var options = that.options;\n                            var searchFields = options.search ? options.search.fields : null;\n                            var expression = {\n                                filters: [],\n                                logic: 'or'\n                            };\n                            var value = input.value;\n                            if (!searchFields) {\n                                searchFields = getColumnsFields(options.columns);\n                            }\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                            }\n                            if (value) {\n                                for (var i = 0; i < searchFields.length; i++) {\n                                    expression.filters.push({\n                                        field: searchFields[i],\n                                        operator: 'contains',\n                                        value: value\n                                    });\n                                }\n                            } else {\n                                expression = {};\n                            }\n                            that.dataSource.filter(expression);\n                        }, 300);\n                    });\n                }\n            },\n            _toolbarTmpl: function (commands) {\n                var that = this, idx, length, html = '', command, searchText = '', messages = that.options.messages.commands;\n                if (isArray(commands)) {\n                    for (idx = 0, length = commands.length; idx < length; idx++) {\n                        command = typeof commands[idx] === 'string' ? commands[idx].toLowerCase() : (commands[idx].name || '').toLowerCase();\n                        if (command === 'search') {\n                            if (typeof commands[idx] !== 'string') {\n                                searchText = commands[idx].text;\n                            }\n                            searchText = searchText || messages.search;\n                            html += '<span class=\\'k-textbox k-grid-search k-display-flex\\'>';\n                            html += '<input autocomplete=\\'off\\' placeholder=\\'' + searchText + '\\' title=\\'' + searchText + '\\' class=\\'k-input\\' />';\n                            html += '<span class=\\'k-input-icon\\'><span class=\\'k-icon k-i-search\\'></span></span>';\n                            html += '</span>';\n                        } else {\n                            html += that._createButton(commands[idx]);\n                        }\n                    }\n                }\n                return html;\n            },\n            _createButton: function (command) {\n                var template = command.template || COMMANDBUTTONTMPL, commandName = typeof command === STRING ? command : command.name || command.text, className = defaultCommands[commandName] ? defaultCommands[commandName].className : 'k-grid-' + (commandName || '').replace(/\\s/g, ''), options = {\n                        className: className,\n                        text: commandName,\n                        attr: '',\n                        iconClass: ''\n                    }, messages = this.options.messages.commands, attributeClassMatch;\n                if (!commandName && !(isPlainObject(command) && command.template)) {\n                    throw new Error('Custom commands should have name specified');\n                }\n                if (isPlainObject(command)) {\n                    command = extend(true, {}, command);\n                    if (command.className && inArray(options.className, command.className.split(' ')) < 0) {\n                        command.className += ' ' + options.className;\n                    } else if (command.className === undefined) {\n                        command.className = options.className;\n                    }\n                    if (commandName === 'edit') {\n                        command = extend(true, {}, command);\n                        command.text = isPlainObject(command.text) ? command.text.edit : command.text;\n                        command.iconClass = isPlainObject(command.iconClass) ? command.iconClass.edit : command.iconClass;\n                    }\n                    if (command.attr) {\n                        if (isPlainObject(command.attr)) {\n                            command.attr = stringifyAttributes(command.attr);\n                        }\n                        if (typeof command.attr === STRING) {\n                            attributeClassMatch = command.attr.match(/class=\"(.+?)\"/);\n                            if (attributeClassMatch && inArray(attributeClassMatch[1], command.className.split(' ')) < 0) {\n                                command.className += ' ' + attributeClassMatch[1];\n                            }\n                        }\n                    }\n                    options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] }, command);\n                } else {\n                    options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] });\n                }\n                return kendo.template(template)(options);\n            },\n            _hasFooters: function () {\n                return !!this.footerTemplate || !!this.groupFooterTemplate || this.footer && this.footer.length > 0 || this.wrapper.find('.k-grid-footer').length > 0;\n            },\n            _groupable: function () {\n                var that = this;\n                if (that._groupableClickHandler) {\n                    that.table.add(that.lockedTable).off(CLICK + NS, that._groupableClickHandler);\n                } else {\n                    that._groupableClickHandler = function (e) {\n                        var element = $(this), groupRow = element.closest('tr');\n                        var group = that._groupRows ? that._groupRows[that.wrapper.find('.k-grouping-row').index(groupRow)] : {};\n                        if (element.hasClass('k-i-collapse')) {\n                            if (!that.trigger('groupCollapse', {\n                                    group: group,\n                                    element: groupRow\n                                })) {\n                                that.collapseGroup(groupRow);\n                            }\n                        } else {\n                            if (!that.trigger('groupExpand', {\n                                    group: group,\n                                    element: groupRow\n                                })) {\n                                that.expandGroup(groupRow);\n                            }\n                        }\n                        e.preventDefault();\n                        e.stopPropagation();\n                    };\n                }\n                if (that._isLocked()) {\n                    that.lockedTable.on(CLICK + NS, '.k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse', that._groupableClickHandler);\n                } else {\n                    that.table.on(CLICK + NS, '.k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse', that._groupableClickHandler);\n                }\n                that._attachGroupable();\n            },\n            _attachGroupable: function () {\n                var that = this, wrapper = that.wrapper, groupable = that.options.groupable, draggables = HEADERCELLS + '[' + kendo.attr('field') + ']', filter = that.content ? '.k-grid-header:first ' + draggables : 'table:first>.k-grid-header ' + draggables;\n                if (groupable && groupable.enabled !== false) {\n                    if (!wrapper.has('div.k-grouping-header')[0]) {\n                        $('<div>&nbsp;</div>').addClass('k-grouping-header').prependTo(wrapper);\n                    }\n                    if (that.groupable) {\n                        that._destroyGroupable();\n                    }\n                    if (browser.chrome) {\n                        wrapper.find('div.k-grouping-header').css('touch-action', 'none');\n                        wrapper.find(filter).css('touch-action', 'none');\n                    }\n                    that.groupable = new ui.Groupable(wrapper, extend({}, groupable, {\n                        draggable: that._draggableInstance,\n                        groupContainer: '>div.k-grouping-header',\n                        dataSource: that.dataSource,\n                        draggableElements: filter,\n                        filter: filter,\n                        allowDrag: that.options.reorderable,\n                        change: function (e) {\n                            if (that.trigger('group', { groups: e.groups })) {\n                                e.preventDefault();\n                            } else {\n                                that._clearEditableState();\n                                if (that.dataSource.options.endless) {\n                                    that.dataSource.options.endless = null;\n                                    that._endlessPageSize = that.dataSource.options.pageSize;\n                                    that.dataSource._skip = 0;\n                                    that.dataSource._pageSize = that.dataSource._take = that._endlessPageSize;\n                                    that.dataSource._page = 1;\n                                }\n                            }\n                        }\n                    }));\n                    that._addGroupableOptionsToHeader();\n                }\n            },\n            _addGroupableOptionsToHeader: function () {\n                var that = this;\n                var columns = flatColumns(that.columns);\n                var columnFieldMap = {};\n                var field = '';\n                var headerCells = that._headerCells();\n                var cellFieldAttr = '';\n                var headerCell;\n                var columnOptions;\n                var i;\n                for (i = 0; i < columns.length; i++) {\n                    field = columns[i].field;\n                    columnFieldMap[columns[i].field] = columns[i];\n                }\n                for (i = 0; i < headerCells.length; i++) {\n                    headerCell = headerCells.eq(i);\n                    cellFieldAttr = headerCell.attr(kendo.attr(FIELD));\n                    columnOptions = columnFieldMap[cellFieldAttr];\n                    if (columnOptions && columnOptions.groupable && columnOptions.groupable.sort) {\n                        headerCell.data(GROUP_SORT, columnOptions.groupable.sort);\n                    }\n                }\n            },\n            _destroyGroupable: function () {\n                var that = this;\n                if (that.groupable && that.groupable.element) {\n                    that.groupable.element.kendoGroupable('destroy');\n                }\n                that.groupable = null;\n                that._removeGroupableOptionsFromHeader();\n            },\n            _removeGroupableOptionsFromHeader: function () {\n                var that = this;\n                var headerCells = that._headerCells();\n                for (var i = 0; i < headerCells.length; i++) {\n                    headerCells.eq(i).removeData(GROUP_SORT);\n                }\n            },\n            _continuousItems: function (filter, cell) {\n                if (!this.lockedContent) {\n                    return;\n                }\n                var that = this;\n                var elements = that.table.add(that.lockedTable);\n                var lockedItems = $(filter, elements[0]);\n                var nonLockedItems = $(filter, elements[1]);\n                var columns = cell ? lockedColumns(that.columns).length : 1;\n                var nonLockedColumns = cell ? that.columns.length - columns : 1;\n                var result = [];\n                for (var idx = 0; idx < lockedItems.length; idx += columns) {\n                    push.apply(result, lockedItems.slice(idx, idx + columns));\n                    push.apply(result, nonLockedItems.splice(0, nonLockedColumns));\n                }\n                return result;\n            },\n            _selectable: function () {\n                var that = this, multi, cell, notString = [], isLocked = that._isLocked(), selectable = that.options.selectable;\n                if (selectable) {\n                    if (that.selectable) {\n                        that.selectable.destroy();\n                    }\n                    that._selectedIds = {};\n                    selectable = kendo.ui.Selectable.parseOptions(selectable);\n                    multi = selectable.multiple;\n                    cell = selectable.cell;\n                    if (that._hasDetails()) {\n                        notString[notString.length] = '.k-detail-row';\n                    }\n                    if (that.options.groupable || that._hasFooters() || that._groups()) {\n                        notString[notString.length] = '.k-grouping-row,.k-group-footer';\n                    }\n                    notString = notString.join(',');\n                    if (notString !== '') {\n                        notString = ':not(' + notString + ')';\n                    }\n                    var elements = that.table;\n                    if (isLocked) {\n                        elements = elements.add(that.lockedTable);\n                    }\n                    var filter = '>' + (cell ? SELECTION_CELL_SELECTOR : 'tbody>tr' + notString);\n                    that.selectable = new kendo.ui.Selectable(elements, {\n                        filter: filter,\n                        aria: true,\n                        multiple: multi,\n                        change: function () {\n                            var selectedValues;\n                            if (!cell) {\n                                that._persistSelectedRows();\n                            }\n                            if (that._checkBoxSelection) {\n                                selectedValues = that.selectable.value();\n                                that._uncheckCheckBoxes();\n                                that._checkRows(selectedValues);\n                                if (selectedValues.length && selectedValues.length === that.items().length) {\n                                    that._toggleHeaderCheckState(true);\n                                } else {\n                                    that._toggleHeaderCheckState(false);\n                                }\n                            }\n                            that.trigger(CHANGE);\n                        },\n                        useAllItems: isLocked && multi && cell,\n                        relatedTarget: function (items) {\n                            if (cell || !isLocked) {\n                                return;\n                            }\n                            var related;\n                            var result = $();\n                            for (var idx = 0, length = items.length; idx < length; idx++) {\n                                related = that._relatedRow(items[idx]);\n                                if (inArray(related[0], items) < 0) {\n                                    result = result.add(related);\n                                }\n                            }\n                            return result;\n                        },\n                        continuousItems: function () {\n                            return that._continuousItems(filter, cell);\n                        },\n                        ignoreOverlapped: that.options.selectable && that.options.selectable.ignoreOverlapped,\n                        addIdToRanges: true\n                    });\n                    if (that.options.navigatable) {\n                        elements.on('keydown' + NS, function (e) {\n                            var current = that.current();\n                            var target = e.target;\n                            if (!current) {\n                                return;\n                            }\n                            if (e.keyCode === keys.SPACEBAR && !e.shiftKey && $.inArray(target, elements) > -1 && !current.is('.k-edit-cell,.k-header') && current.parent().is(':not(.k-grouping-row,.k-detail-row,.k-group-footer)')) {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                current = cell ? current : current.parent();\n                                if (isLocked && !cell) {\n                                    current = current.add(that._relatedRow(current));\n                                }\n                                if (multi) {\n                                    if (!e.ctrlKey) {\n                                        that.selectable.clear();\n                                    } else {\n                                        if (current.hasClass(SELECTED)) {\n                                            that._deselectCheckRows(current);\n                                            return;\n                                        }\n                                    }\n                                } else {\n                                    that.selectable.clear();\n                                }\n                                if (!cell) {\n                                    that.selectable._lastActive = current;\n                                }\n                                that.selectable.value(current);\n                            } else if (!cell && ($(target).is('td') || $(target).is('table') && inArray(target, this._navigatableTables)) && (e.shiftKey && e.keyCode == keys.LEFT || e.shiftKey && e.keyCode == keys.RIGHT || e.shiftKey && e.keyCode == keys.UP || e.shiftKey && e.keyCode == keys.DOWN || e.keyCode === keys.SPACEBAR && e.shiftKey)) {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                current = current.parent();\n                                if (isLocked) {\n                                    current = current.add(that._relatedRow(current));\n                                }\n                                if (multi) {\n                                    if (!that.selectable._lastActive) {\n                                        that.selectable._lastActive = current;\n                                    }\n                                    that.selectable.selectRange(that.selectable._firstSelectee(), current);\n                                } else {\n                                    that.selectable.clear();\n                                    that.selectable.value(current);\n                                }\n                            }\n                        });\n                    }\n                }\n            },\n            _clipboard: function () {\n                var options = this.options;\n                var selectable = options.selectable;\n                if (selectable && options.allowCopy) {\n                    var grid = this;\n                    if (!options.navigatable) {\n                        grid.table.add(grid.lockedTable).attr('tabindex', 0).on('mousedown' + NS + ' keydown' + NS, '.k-detail-cell', function (e) {\n                            if (e.target !== e.currentTarget) {\n                                e.stopImmediatePropagation();\n                            }\n                        }).on('mousedown' + NS, NAVROW + '>' + NAVCELL, proxy(tableClick, grid));\n                    }\n                    grid.copyHandler = proxy(grid.copySelection, grid);\n                    grid.updateClipBoardState = function () {\n                        if (grid.areaClipBoard) {\n                            grid.areaClipBoard.val(grid.getTSV()).focus().select();\n                        }\n                    };\n                    grid.bind('change', grid.updateClipBoardState);\n                    grid.wrapper.on('keydown', grid.copyHandler);\n                    grid.clearAreaHandler = proxy(grid.clearArea, grid);\n                    grid.wrapper.on('keyup', grid.clearAreaHandler);\n                }\n            },\n            copySelectionToClipboard: function (includeHeaders) {\n                this._createAreaClipBoard();\n                this.areaClipBoard.val(this.getTSV(includeHeaders)).focus().select();\n                document.execCommand('copy');\n            },\n            copySelection: function (e) {\n                if (e instanceof jQuery.Event && !(e.ctrlKey || e.metaKey) || $(e.target).is('input:visible,textarea:visible') || window.getSelection && window.getSelection().toString() || document.selection && document.selection.createRange().text) {\n                    return;\n                }\n                this._createAreaClipBoard();\n                this.areaClipBoard.val(this.getTSV()).focus().select();\n            },\n            _createAreaClipBoard: function () {\n                if (!this.areaClipBoard) {\n                    this.areaClipBoard = $('<textarea />').css({\n                        position: 'fixed',\n                        top: '50%',\n                        left: '50%',\n                        opacity: 0,\n                        width: 0,\n                        height: 0\n                    }).appendTo(this.wrapper);\n                }\n            },\n            getTSV: function (includeHeaders) {\n                var grid = this;\n                var selected = grid.select();\n                var delimeter = '\\t';\n                var allowCopy = grid.options.allowCopy;\n                var onlyVisible = true;\n                var hasLockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n                if ($.isPlainObject(allowCopy) && allowCopy.delimeter) {\n                    delimeter = allowCopy.delimeter;\n                }\n                var text = '';\n                if (selected.length) {\n                    if (selected.eq(0).is('tr')) {\n                        selected = selected.find('td:not(.k-group-cell)');\n                    }\n                    if (onlyVisible) {\n                        selected.filter(':visible');\n                    }\n                    var result = [];\n                    var cellsOffset = this.columns.length;\n                    var lockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n                    var inLockedArea = true;\n                    var fields = [];\n                    var field;\n                    var columns = visibleLeafColumns(this.columns);\n                    $.each(selected, function (idx, cell) {\n                        cell = $(cell);\n                        field = grid._getCellField(cell, hasLockedCols);\n                        var tr = cell.closest('tr');\n                        var rowIndex = tr.index();\n                        var cellIndex = cell.index();\n                        if (onlyVisible) {\n                            cellIndex -= cell.prevAll(':hidden').length;\n                        }\n                        if (lockedCols && inLockedArea) {\n                            inLockedArea = $.contains(grid.lockedTable[0], cell[0]);\n                        }\n                        if (grid._groups() && inLockedArea) {\n                            cellIndex -= grid._groups();\n                        }\n                        cellIndex = inLockedArea ? cellIndex : cellIndex + lockedCols;\n                        if (field) {\n                            fields[cellIndex] = field;\n                        }\n                        if (cellsOffset > cellIndex) {\n                            cellsOffset = cellIndex;\n                        }\n                        var cellText = cell.text();\n                        if (!result[rowIndex]) {\n                            result[rowIndex] = [];\n                        }\n                        result[rowIndex][cellIndex] = cellText;\n                    });\n                    var rowsOffset = result.length;\n                    result = $.each(result, function (idx, val) {\n                        if (val) {\n                            result[idx] = val.slice(cellsOffset);\n                            if (rowsOffset > idx) {\n                                rowsOffset = idx;\n                            }\n                        }\n                    });\n                    if (includeHeaders && fields.length) {\n                        result.splice(rowsOffset, 0, fields.map(function (field) {\n                            return getTitle(field, columns);\n                        }));\n                    }\n                    $.each(result.slice(rowsOffset), function (idx, val) {\n                        if (val) {\n                            text += val.join(delimeter) + '\\r\\n';\n                        } else {\n                            text += '\\r\\n';\n                        }\n                    });\n                }\n                return text;\n            },\n            clearArea: function (e) {\n                var table;\n                if (this.areaClipBoard && e && e.target === this.areaClipBoard[0]) {\n                    if (this.options.navigatable) {\n                        table = $(this.current()).closest('table');\n                    } else {\n                        table = this.table;\n                    }\n                    focusTable(table, true);\n                }\n                if (this.areaClipBoard) {\n                    this.areaClipBoard.remove();\n                    this.areaClipBoard = null;\n                }\n            },\n            _adaptiveColumns: function () {\n                var that = this;\n                if (that._anyColumnHasMediaQuery()) {\n                    that._setColumnsMediaVisibility(that.columns);\n                    that._attachColumnMediaResizeHandler();\n                }\n            },\n            _anyColumnHasMediaQuery: function () {\n                return this._columnsWithMediaQuery().length;\n            },\n            _columnsWithMediaQuery: function () {\n                return columnsWithMedia(this.columns);\n            },\n            _attachColumnMediaResizeHandler: function () {\n                var that = this;\n                that._detachColumnMediaResizeHandler();\n                that._columnMediaResizeHandler = proxy(that._onColumnMediaResize, that);\n                $(window).on(RESIZE + NS, that._columnMediaResizeHandler);\n            },\n            _detachColumnMediaResizeHandler: function () {\n                var that = this;\n                if (that._columnMediaResizeHandler) {\n                    $(window).off(RESIZE + NS, that._columnMediaResizeHandler);\n                }\n            },\n            _onColumnMediaResize: function () {\n                var that = this;\n                that._setColumnsMediaVisibility(that.columns);\n                that._setContentMediaWidth();\n            },\n            _setColumnsMediaVisibility: function (columns) {\n                var cols = columns || [];\n                for (var i = 0; i < cols.length; i++) {\n                    this._setColumnMediaVisibility(cols[i]);\n                }\n            },\n            _setColumnMediaVisibility: function (column) {\n                var that = this;\n                if (isUndefined(column.media)) {\n                    that._setColumnsMediaVisibility(column.columns);\n                } else {\n                    if (columnMatchesMedia(column)) {\n                        that._showColumnByMedia(column);\n                        if (!column.hidden) {\n                            that._setColumnsMediaVisibility(column.columns);\n                        }\n                    } else {\n                        that._hideColumnByMedia(column);\n                    }\n                }\n            },\n            _showColumnByMedia: function (column) {\n                if (!column.hidden) {\n                    this.showColumn(column);\n                }\n                setColumnMatchesMedia(column);\n            },\n            _hideColumnByMedia: function (column) {\n                var initiallyHidden = column.hidden;\n                if (!initiallyHidden) {\n                    column._hideByMedia = true;\n                    this.hideColumn(column);\n                    column._hideByMedia = false;\n                    column.hidden = initiallyHidden;\n                }\n                setColumnMatchesMedia(column);\n            },\n            _setContentMediaWidth: function () {\n                var that = this;\n                var options = that.options;\n                var isLocked = that._isLocked();\n                var footer;\n                if (options.scrollable && options.resizable) {\n                    if (isLocked && that.lockedFooter) {\n                        footer = that.lockedFooter.children('table');\n                    } else if (that.footer) {\n                        footer = that.footer.find('>.k-grid-footer-wrap>table');\n                    }\n                    if (!footer || !footer[0]) {\n                        footer = $();\n                    }\n                    var header = isLocked ? that.wrapper.find('.k-grid-header-locked').find('table') : that.wrapper.find('.k-grid-header').find('table');\n                    var contentTable = isLocked ? that.lockedTable : that.table;\n                    var headerColumns = header.find('th');\n                    var headerColgroup = header.find('colgroup');\n                    var headerColumnsCount = headerColumns.length;\n                    var visibleHeaderColumnsCount = headerColumns.filter(isCellVisible).length;\n                    var hiddenHeaderColumnsCount = headerColumns.length - visibleHeaderColumnsCount;\n                    var totalHeaderWidth = 0;\n                    if (header[0].style.width !== '' && parseFloat(header[0].style.width) !== totalHeaderWidth) {\n                        var currentHeaderWidth = header.css('width');\n                        for (var i = 0; i < headerColumnsCount; i++) {\n                            if (isElementVisible(headerColumns[i])) {\n                                var columnWidth;\n                                var cellIndex = Math.max(i, i - hiddenHeaderColumnsCount);\n                                var colgroupChild = headerColgroup.children()[cellIndex];\n                                var columnStyleWidth = colgroupChild ? colgroupChild.style.width : '';\n                                if (columnStyleWidth !== '') {\n                                    columnWidth = parseFloat(columnStyleWidth);\n                                } else {\n                                    header.css('width', 'auto');\n                                    columnWidth = outerWidth(headerColumns.eq(i));\n                                    header.css('width', currentHeaderWidth);\n                                }\n                                totalHeaderWidth += columnWidth;\n                            }\n                        }\n                        contentTable.css('width', totalHeaderWidth - 1);\n                        header.css('width', totalHeaderWidth);\n                        footer.css('width', totalHeaderWidth);\n                        that._updateStickyColumns();\n                    }\n                }\n            },\n            _minScreenSupport: function () {\n                var any = this.hideMinScreenCols();\n                if (any) {\n                    this.minScreenResizeHandler = proxy(this.hideMinScreenCols, this);\n                    $(window).on('resize', this.minScreenResizeHandler);\n                }\n            },\n            hideMinScreenCols: function () {\n                var cols = this.columns, screenWidth = window.innerWidth > 0 ? window.innerWidth : screen.width;\n                return this._iterateMinScreenCols(cols, screenWidth);\n            },\n            _iterateMinScreenCols: function (cols, screenWidth) {\n                var any = false;\n                for (var i = 0; i < cols.length; i++) {\n                    var col = cols[i];\n                    var minWidth = col.minScreenWidth;\n                    if (minWidth !== undefined && minWidth !== null) {\n                        any = true;\n                        if (minWidth > screenWidth) {\n                            this.hideColumn(col);\n                        } else {\n                            this.showColumn(col);\n                        }\n                    }\n                    if (!col.hidden && col.columns) {\n                        any = this._iterateMinScreenCols(col.columns, screenWidth) || any;\n                    }\n                }\n                return any;\n            },\n            _stickyColumns: function () {\n                var that = this;\n                if (that._anyStickyColumns()) {\n                    that._setStickyColumns(false);\n                }\n            },\n            _updateStickyColumns: function () {\n                var that = this;\n                var groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function (column) {\n                    return column.groupHeaderColumnTemplate;\n                });\n                if (that._anyStickyColumns()) {\n                    that._setStickyColumns(true);\n                    that._templates();\n                    if (groupHeaderColumnTemplateColumns.length > 0) {\n                        that._renderGroupRows();\n                    }\n                    if (that._hasFilterRow()) {\n                        that._updateStickyFilterCells();\n                    }\n                }\n            },\n            _updateStickyFilterCells: function () {\n                var that = this;\n                var filterCells = that.thead.find('.k-filter-row').find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var columns = leafColumns(that.columns);\n                if (filterCells.length) {\n                    filterCells.each(function () {\n                        var th = $(this);\n                        var filterCell = th.find('span').first().getKendoFilterCell();\n                        var column;\n                        var style;\n                        if (filterCell) {\n                            column = findColumnByUID(columns, filterCell.options.column.uid);\n                            style = th.attr('style') || '';\n                            if (column.sticky) {\n                                th.attr('style', style + column.stickyStyle);\n                                th.addClass(STICKY_HEADER_CLASS);\n                            } else {\n                                style = style.replace(leftRegExp, '');\n                                style = style.replace(rightRegExp, '');\n                                th.attr('style', style);\n                                th.removeClass(STICKY_HEADER_CLASS);\n                            }\n                        }\n                    });\n                }\n            },\n            _anyStickyColumns: function () {\n                var that = this;\n                return stickyColumns(that.columns).length;\n            },\n            _setStickyColumns: function (updateStyles) {\n                var that = this;\n                var columns = stickyColumns(that.columns);\n                var visibleColumns = visibleStickyColumns(that.columns);\n                var stickyWidths = that._calculateStickyWidths(visibleColumns);\n                that._removeStickyAttributes(columns);\n                that._setStickyClassAttributes(columns);\n                that._setStickyStyleAttributes(visibleColumns, stickyWidths, updateStyles);\n                if (updateStyles) {\n                    that._setStickyStyles(visibleColumns, stickyWidths);\n                }\n            },\n            _calculateStickyWidths: function (columns, initialLeftWidth, initialRightWidth) {\n                var that = this;\n                var i;\n                var column;\n                var columnWidth;\n                var nextColumnLeft;\n                var nextColumnRight;\n                var left = isRtl ? 'right' : 'left';\n                var right = isRtl ? 'left' : 'right';\n                var stickyWidths = {\n                    left: new Array(columns.length).fill(initialLeftWidth ? initialLeftWidth : 0),\n                    right: new Array(columns.length).fill(initialRightWidth ? initialRightWidth : 0)\n                };\n                for (i = 0; i < columns.length - 1; i++) {\n                    column = columns[i];\n                    columnWidth = that._sumColumnWidth(column);\n                    nextColumnLeft = columnWidth + stickyWidths[left][i];\n                    stickyWidths[left][i + 1] = nextColumnLeft;\n                }\n                for (i = columns.length - 1; i > 0; i--) {\n                    column = columns[i];\n                    columnWidth = that._sumColumnWidth(column);\n                    nextColumnRight = columnWidth + stickyWidths[right][i];\n                    stickyWidths[right][i - 1] = nextColumnRight;\n                }\n                return stickyWidths;\n            },\n            _setStickyClassAttributes: function (columns, masterIndex) {\n                var that = this;\n                var i;\n                var column;\n                for (i = 0; i < columns.length; i++) {\n                    column = columns[i];\n                    if (column.columns) {\n                        if (!masterIndex && i) {\n                            masterIndex = i;\n                        }\n                        that._setStickyClassAttributes(childColumns([column]), masterIndex);\n                    }\n                    if (masterIndex) {\n                        addColumnAttribute(column, 'headerAttributes', 'class', STICKY_HEADER_NO_BORDER_CLASS);\n                    }\n                    addColumnAttribute(column, 'attributes', 'class', STICKY_CELL_CLASS);\n                    addColumnAttribute(column, 'headerAttributes', 'class', STICKY_HEADER_CLASS);\n                    addColumnAttribute(column, 'footerAttributes', 'class', STICKY_FOOTER_CLASS);\n                }\n            },\n            _setStickyStyleAttributes: function (columns, stickyWidths, updateStyles) {\n                var that = this;\n                var i;\n                var column;\n                var stickyLeft;\n                var stickyRight;\n                var stickyStyle;\n                var childCols;\n                var childStickyWidths;\n                for (i = 0; i < columns.length; i++) {\n                    column = columns[i];\n                    stickyLeft = stickyWidths.left[i];\n                    stickyRight = stickyWidths.right[i];\n                    stickyStyle = 'left: ' + stickyLeft + 'px; right: ' + stickyRight + 'px;';\n                    if (column.columns) {\n                        childCols = visibleChildColumns([column]);\n                        childStickyWidths = that._calculateStickyWidths(childCols, stickyLeft, stickyRight);\n                        that._setStickyStyleAttributes(childCols, childStickyWidths, updateStyles);\n                        if (updateStyles) {\n                            that._setStickyStyles(childCols, childStickyWidths);\n                        }\n                    }\n                    addColumnAttribute(column, 'attributes', 'style', stickyStyle);\n                    addColumnAttribute(column, 'headerAttributes', 'style', stickyStyle);\n                    addColumnAttribute(column, 'footerAttributes', 'style', stickyStyle);\n                    column.stickyStyle = stickyStyle;\n                }\n            },\n            _removeStickyAttributes: function (columns) {\n                var that = this;\n                var i;\n                var cellClassRegExp = new RegExp('(\\\\s*' + STICKY_CELL_CLASS + ')*', 'ig');\n                var headerClassRegExp = new RegExp('(\\\\s*' + STICKY_HEADER_CLASS + ')*', 'ig');\n                var footerClassRegExp = new RegExp('(\\\\s*' + STICKY_FOOTER_CLASS + ')*', 'ig');\n                var headerClassNoBorderRegExp = new RegExp('(\\\\s*' + STICKY_HEADER_NO_BORDER_CLASS + ')*', 'ig');\n                var column;\n                for (i = 0; i < columns.length; i++) {\n                    column = columns[i];\n                    if (column.columns) {\n                        that._removeStickyAttributes(childColumns([column]));\n                    }\n                    removeColumnAttribute(column, 'attributes', 'class', cellClassRegExp);\n                    removeColumnAttribute(column, 'attributes', 'style', leftRegExp);\n                    removeColumnAttribute(column, 'attributes', 'style', rightRegExp);\n                    removeColumnAttribute(column, 'headerAttributes', 'class', headerClassRegExp);\n                    removeColumnAttribute(column, 'headerAttributes', 'class', headerClassNoBorderRegExp);\n                    removeColumnAttribute(column, 'headerAttributes', 'style', leftRegExp);\n                    removeColumnAttribute(column, 'headerAttributes', 'style', rightRegExp);\n                    removeColumnAttribute(column, 'footerAttributes', 'class', footerClassRegExp);\n                    removeColumnAttribute(column, 'footerAttributes', 'style', leftRegExp);\n                    removeColumnAttribute(column, 'footerAttributes', 'style', rightRegExp);\n                }\n            },\n            _setStickyStyles: function (columns, stickyWidths) {\n                var that = this;\n                var i;\n                var j;\n                var leafsCols = leafColumns(nonLockedColumns(that.columns));\n                var rows = that.tbody.children(':not(.k-detail-row)');\n                var row;\n                var column;\n                var columnIndex;\n                var left;\n                var right;\n                var header;\n                var footer;\n                var groupHeader;\n                var cell;\n                for (i = 0; i < columns.length; i++) {\n                    column = columns[i];\n                    left = stickyWidths.left[i];\n                    right = stickyWidths.right[i];\n                    columnIndex = leafsCols.indexOf(column);\n                    header = that._getColumnHeader(column);\n                    header.addClass(STICKY_HEADER_CLASS);\n                    if (column.headerAttributes['class'] && column.headerAttributes['class'].indexOf(STICKY_HEADER_NO_BORDER_CLASS) !== -1) {\n                        header.addClass(STICKY_HEADER_NO_BORDER_CLASS);\n                    }\n                    setLeftAndRightStyles(header, left, right);\n                    if (column.columns) {\n                        continue;\n                    }\n                    if (that.footer) {\n                        footer = that.footer.find('.k-grid-footer-wrap tr.k-footer-template').children().filter(':not(.k-group-cell,.k-hierarchy-cell)').eq(columnIndex);\n                        footer.addClass(STICKY_FOOTER_CLASS);\n                        setLeftAndRightStyles(footer, left, right);\n                    }\n                    for (j = 0; j < rows.length; j++) {\n                        row = $(rows[j]);\n                        if (row.hasClass('k-grouping-row')) {\n                            groupHeader = row.find('.' + column.groupHeaderColumnTemplateClass);\n                            groupHeader.addClass(STICKY_CELL_CLASS);\n                            setLeftAndRightStyles(groupHeader, left, right);\n                        } else {\n                            cell = row.children().filter(':not(.k-group-cell,.k-hierarchy-cell)').eq(columnIndex);\n                            cell.addClass(STICKY_CELL_CLASS);\n                            setLeftAndRightStyles(cell, left, right);\n                        }\n                    }\n                }\n            },\n            _removeStickyStyles: function (columns) {\n                var that = this;\n                var i;\n                var j;\n                var leafsCols = leafColumns(nonLockedColumns(that.columns));\n                var rows = that.tbody.children(':not(.k-detail-row)');\n                var row;\n                var column;\n                var columnIndex;\n                var header;\n                var footer;\n                var groupHeader;\n                var cell;\n                for (i = 0; i < columns.length; i++) {\n                    column = columns[i];\n                    columnIndex = leafsCols.indexOf(column);\n                    header = that._getColumnHeader(column);\n                    header.removeClass(STICKY_HEADER_CLASS);\n                    header.removeClass(STICKY_HEADER_NO_BORDER_CLASS);\n                    setLeftAndRightStyles(header, '', '');\n                    if (column.columns) {\n                        that._removeStickyStyles(column.columns);\n                        continue;\n                    }\n                    if (column.footerTemplate && that.footer) {\n                        footer = that.footer.find('.k-grid-footer-wrap tr.k-footer-template').children().filter(':not(.k-group-cell,.k-hierarchy-cell)').eq(columnIndex);\n                        footer.removeClass(STICKY_FOOTER_CLASS);\n                        setLeftAndRightStyles(footer, '', '');\n                    }\n                    for (j = 0; j < rows.length; j++) {\n                        row = $(rows[j]);\n                        if (row.hasClass('k-grouping-row')) {\n                            groupHeader = row.find('.' + column.groupHeaderColumnTemplateClass);\n                            groupHeader.removeClass(STICKY_CELL_CLASS);\n                            setLeftAndRightStyles(groupHeader, '', '');\n                        } else {\n                            cell = row.children().filter(':not(.k-group-cell,.k-hierarchy-cell)').eq(columnIndex);\n                            cell.removeClass(STICKY_CELL_CLASS);\n                            setLeftAndRightStyles(cell, '', '');\n                        }\n                    }\n                }\n            },\n            _getColumnHeader: function (column) {\n                var that = this;\n                var header = $('#' + column.headerAttributes.id).length ? $('#' + column.headerAttributes.id) : $('#' + that._cellId);\n                return header;\n            },\n            _sumColumnWidth: function (column) {\n                var that = this;\n                var width = 0;\n                if (column.columns) {\n                    width = that._sumCurrentWidths(leafColumns([column]));\n                } else {\n                    width = that._sumCurrentWidths([column]);\n                }\n                return width;\n            },\n            _sumCurrentWidths: function (cols) {\n                var that = this;\n                var width = 0;\n                var colWidth = 0;\n                var col;\n                var header;\n                var i;\n                var length = cols.length;\n                for (i = 0; i < length; i++) {\n                    col = cols[i];\n                    header = that._getColumnHeader(col);\n                    if (!col.hidden && columnMatchesMedia(col)) {\n                        colWidth = header.is(':visible') ? header.outerWidth() : col.width;\n                        width += colWidth ? parseInt(colWidth, 10) : 0;\n                    }\n                }\n                return width;\n            },\n            getSelectedData: function () {\n                var that = this;\n                var selectedRanges = that.selectable.selectedRanges();\n                var selectedRangeNames = Object.keys(selectedRanges);\n                var selectedSingleItems = that.selectable.selectedSingleItems();\n                var result = [];\n                var visibleColumns = visibleLeafColumns(that.columns);\n                for (var idx = 0; idx < selectedRangeNames.length; idx++) {\n                    result = result.concat(that._mapSelectionToData(selectedRanges[selectedRangeNames[idx]], visibleColumns));\n                }\n                if (selectedSingleItems.length) {\n                    result = result.concat(that._mapSelectionToData(selectedSingleItems, visibleColumns));\n                }\n                return result;\n            },\n            exportSelectedToExcel: function (includeHeaders) {\n                if (!kendo.excel || !kendo.ooxml) {\n                    throw new Error('The excel export functionality depends on both kendo.excel.js and kendo.ooxml.js scripts, please make sure they are included.');\n                }\n                var that = this;\n                var excel = this.options.excel || {};\n                var visibleColumns = visibleLeafColumns(that.columns);\n                var exporter = new kendo.excel.ExcelExporter({});\n                var columnHandler = function () {\n                    return { autoWidth: true };\n                };\n                var book = {\n                    sheets: [{\n                            columns: Array.apply(0, Array(visibleColumns.length)).map(columnHandler),\n                            rows: [],\n                            freezePane: {},\n                            filter: false\n                        }]\n                };\n                var selectedRanges = that.selectable.selectedRanges();\n                var selectedRangeNames = Object.keys(selectedRanges);\n                var selectedSingleItems = that.selectable.selectedSingleItems();\n                var idx;\n                var exportData = [];\n                var hasLockedCols = that._isLocked() && lockedColumns(that.columns).length;\n                var sortHandler = exportDataSort.bind(that);\n                for (idx = 0; idx < selectedRangeNames.length; idx++) {\n                    exportData = exportData.concat(that._mapSelectionToData(selectedRanges[selectedRangeNames[idx]], visibleColumns, isExcelExportableColumn));\n                }\n                if (exportData.length) {\n                    that._addRangeSelectionRows(book, exporter, exportData, includeHeaders);\n                }\n                exportData = selectedSingleItems.length ? that._mapSelectionToData(selectedSingleItems, visibleColumns, isExcelExportableColumn) : [];\n                if (exportData.length) {\n                    if (hasLockedCols) {\n                        exportData = exportData.sort(sortHandler);\n                    }\n                    that._addSingleSelectionRows(book, exporter, exportData, includeHeaders);\n                }\n                if (book.sheets[0].rows.length) {\n                    var workbook = new kendo.ooxml.Workbook(book);\n                    if (!workbook.options) {\n                        workbook.options = {};\n                    }\n                    workbook.options.skipCustomHeight = true;\n                    workbook.toDataURLAsync().then(function (dataURI) {\n                        kendo.saveAs({\n                            dataURI: dataURI,\n                            fileName: book.fileName || excel.fileName,\n                            proxyURL: excel.proxyURL,\n                            forceProxy: excel.forceProxy\n                        });\n                    });\n                }\n            },\n            _addSingleSelectionRows: function (book, exporter, data, includeHeaders) {\n                var idx = 0;\n                var visibleColumns = visibleLeafColumns(this.columns);\n                var item;\n                for (idx = 0; idx < data.length; idx++) {\n                    item = data[idx];\n                    exporter.data = [item];\n                    this._setExporterColumns(exporter, visibleColumns, item);\n                    this._createExportRows(book, exporter, includeHeaders);\n                }\n            },\n            _addRangeSelectionRows: function (book, exporter, data, includeHeaders) {\n                var visibleColumns = visibleLeafColumns(this.columns);\n                exporter.data = data;\n                this._setExporterColumns(exporter, visibleColumns, data[0]);\n                this._createExportRows(book, exporter, includeHeaders);\n            },\n            _createExportRows: function (book, exporter, includeHeaders) {\n                book.sheets[0].rows = book.sheets[0].rows.concat(includeHeaders ? exporter._rows() : exporter._dataRows(exporter.data, 0));\n            },\n            _setExporterColumns: function (exporter, columns, item) {\n                exporter.columns = exporter.options.columns = $.map(columns.filter(function (col) {\n                    return Object.keys(item).indexOf(col.field) >= 0;\n                }), exporter._prepareColumn);\n            },\n            _mapSelectionToData: function (elements, visibleColumns, columnsFilter) {\n                var that = this;\n                var elementType = elements[0][0].nodeName;\n                var isRowSelection = elementType === 'TR';\n                var dataItem;\n                var result = {};\n                var element;\n                var curr;\n                var field;\n                var columnMapHandler = function (col) {\n                    var result = {};\n                    if (!col.field || columnsFilter && !columnsFilter(col)) {\n                        return;\n                    }\n                    result[col.field] = dataItem[col.field];\n                    return result;\n                };\n                var hasLockedCols = that._isLocked() && lockedColumns(that.columns).length;\n                var column;\n                for (var i = 0; i < elements.length; i++) {\n                    element = elements[i];\n                    dataItem = that.dataItem(isRowSelection ? element : element.parent());\n                    if (isRowSelection) {\n                        result[dataItem.uid] = $.extend.apply(null, visibleColumns.map(columnMapHandler));\n                    } else {\n                        field = that._getCellField(element, hasLockedCols);\n                        if (!field) {\n                            continue;\n                        }\n                        curr = result[dataItem.uid];\n                        if (!curr) {\n                            curr = result[dataItem.uid] = {};\n                        }\n                        column = findColumnByField(visibleColumns, field);\n                        if (!column || columnsFilter && !columnsFilter(column)) {\n                            continue;\n                        }\n                        curr[field] = dataItem[field];\n                    }\n                }\n                return Object.keys(result).map(function (id) {\n                    result[id].uid = id;\n                    return result[id];\n                });\n            },\n            _getCellField: function (cell, hasLockedCols) {\n                var grid = this;\n                var inLockedArea = hasLockedCols && $.contains(grid.lockedTable[0], cell[0]);\n                var fieldAttr = kendo.attr('field');\n                if (hasLockedCols) {\n                    return grid.element.find('.k-grid-header-' + (inLockedArea ? 'locked' : 'wrap') + ' th').eq(cell.index()).attr(fieldAttr);\n                } else {\n                    return grid.thead.find('th').eq(cell.index()).attr(fieldAttr);\n                }\n            },\n            _relatedRow: function (row) {\n                var lockedTable = this.lockedTable;\n                row = $(row);\n                if (!lockedTable) {\n                    return row;\n                }\n                var table = row.closest(this.table.add(this.lockedTable));\n                var index = table.find('>tbody>tr').index(row);\n                table = table[0] === this.table[0] ? lockedTable : this.table;\n                return table.find('>tbody>tr').eq(index);\n            },\n            _relatedCell: function (cell) {\n                var lockedTable = this.lockedTable;\n                cell = $(cell);\n                if (!lockedTable) {\n                    return cell;\n                }\n                var table = cell.closest(this.table.add(this.lockedTable));\n                var index = table.find('>tbody>tr>td').index(cell);\n                table = table[0] === this.table[0] ? lockedTable : this.table;\n                return table.find('>tbody>tr>td').index(index);\n            },\n            clearSelection: function () {\n                var that = this;\n                if (that.selectable && !that._checkBoxSelection) {\n                    that.selectable.clear();\n                }\n                if (that._checkBoxSelection) {\n                    that._deselectCheckRows(that.select());\n                    return;\n                }\n                if (that.options.persistSelection) {\n                    that._persistSelectedRows();\n                } else {\n                    that._selectedIds = {};\n                }\n                that.trigger(CHANGE);\n            },\n            select: function (items) {\n                var that = this, selectable = that.selectable, selectableoptions = kendo.ui.Selectable.parseOptions(this.options.selectable), cell = selectableoptions.cell;\n                items = that.table.add(that.lockedTable).find(items);\n                if (items.length) {\n                    if (selectable && !selectable.options.multiple) {\n                        selectable.clear();\n                        items = items.first();\n                    }\n                    if (that._isLocked()) {\n                        items = items.add(items.map(function () {\n                            if (cell) {\n                                return that._relatedCell(this);\n                            } else {\n                                return that._relatedRow(this);\n                            }\n                        }));\n                    }\n                    if (selectable && !that._checkBoxSelection) {\n                        selectable.value(items);\n                    } else {\n                        that._checkRows(items);\n                        if (that.select().length === that.items().length) {\n                            that._toggleHeaderCheckState(true);\n                        }\n                        if (!cell) {\n                            that._persistSelectedRows();\n                        }\n                        that.trigger(CHANGE);\n                    }\n                    return;\n                }\n                return selectable ? selectable.value() : that.items().filter('.' + SELECTED);\n            },\n            _toggleHeaderCheckState: function (checked) {\n                var that = this;\n                if (checked) {\n                    that.thead.add(that.lockedHeader).find('tr ' + CHECKBOXINPUT).prop('checked', true).attr('aria-checked', true).attr('aria-label', 'Deselect all rows');\n                } else {\n                    that.thead.add(that.lockedHeader).find('tr ' + CHECKBOXINPUT).prop('checked', false).attr('aria-checked', false).attr('aria-label', 'Select all rows');\n                }\n            },\n            _uncheckCheckBoxes: function () {\n                var that = this;\n                var tables = that.table.add(that.lockedTable);\n                tables.find('tbody ' + CHECKBOXINPUT).attr('aria-checked', false).prop('checked', false).attr('aria-label', 'Select row');\n            },\n            _deselectCheckRows: function (items) {\n                var that = this;\n                items = that.table.add(that.lockedTable).find(items);\n                if (that._isLocked()) {\n                    items = items.add(items.map(function () {\n                        return that._relatedRow(this);\n                    }));\n                }\n                items.each(function () {\n                    $(this).removeClass(SELECTED).find(CHECKBOXINPUT).attr('aria-checked', false).prop('checked', false).attr('aria-label', 'Select row');\n                });\n                that._toggleHeaderCheckState(false);\n                that._persistSelectedRows();\n                that.trigger(CHANGE);\n            },\n            _checkRows: function (items) {\n                items.each(function () {\n                    $(this).addClass(SELECTED).find(CHECKBOXINPUT).prop('checked', true).attr('aria-label', 'Deselect row').attr('aria-checked', true);\n                });\n            },\n            _persistSelectedRows: function () {\n                var that = this, key, dataItem, allRows = that.items(), dataSourceOptions = that.dataSource.options, schema = dataSourceOptions.schema, modelId, selectedViewIds = {};\n                if (!schema || !schema.model || !that._data) {\n                    return;\n                }\n                modelId = isFunction(schema.model) ? schema.model.fn.idField : schema.model.id;\n                if (!modelId) {\n                    return;\n                }\n                that.select().each(function () {\n                    dataItem = that.dataItem(this);\n                    selectedViewIds[dataItem[modelId]] = true;\n                });\n                for (var i = 0; i < allRows.length; i++) {\n                    dataItem = that.dataItem(allRows[i]);\n                    key = dataItem[modelId];\n                    if (selectedViewIds[key]) {\n                        that._selectedIds[key] = true;\n                    } else {\n                        delete that._selectedIds[key];\n                    }\n                }\n            },\n            selectedKeyNames: function () {\n                var that = this, ids = [];\n                for (var property in that._selectedIds) {\n                    ids.push(property);\n                }\n                ids.sort();\n                return ids;\n            },\n            _updateCurrentAttr: function (current, next) {\n                var headerId = $(current).data('headerId');\n                var nextId;\n                var descId;\n                $(current).removeClass(FOCUSED).closest('table').removeAttr('aria-activedescendant');\n                if (headerId) {\n                    headerId = headerId.replace(this._cellId, '');\n                    $(current).attr('id', headerId);\n                } else {\n                    $(current).removeAttr('id');\n                }\n                nextId = next.attr('id');\n                if (nextId != this._cellId) {\n                    next.data('headerId', nextId);\n                }\n                if (next.is('th')) {\n                    descId = nextId;\n                } else {\n                    next.attr('id', this._cellId);\n                }\n                next.addClass(FOCUSED).closest('table').attr('aria-activedescendant', descId || this._cellId);\n                this._current = next;\n            },\n            _scrollCurrent: function () {\n                var current = this._current;\n                var scrollable = this.options.scrollable;\n                if (!current || !scrollable) {\n                    return;\n                }\n                var row = current.parent();\n                var tableContainer = row.closest('table').parent();\n                var isInLockedContainer = tableContainer.is('.k-grid-content-locked,.k-grid-header-locked');\n                var isInContent = tableContainer.is('.k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap');\n                var scrollableContainer = $(this.content).find('>.k-virtual-scrollable-wrap').addBack().last()[0];\n                if (isInContent) {\n                    if (this.virtualScroll) {\n                        var rowIndex = Math.max(inArray(row[0], this._items(row.parent())), 0);\n                        if (this.virtualScroll.rows) {\n                            this._rowVirtualIndex = this.virtualScrollable.itemIndex(rowIndex);\n                            this.virtualScrollable.scrollIntoView(row);\n                        } else {\n                            this._rowVirtualIndex = rowIndex;\n                            this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                        }\n                    } else {\n                        this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                    }\n                }\n                if (this.lockedContent) {\n                    this.lockedContent[0].scrollTop = scrollableContainer.scrollTop;\n                }\n                if (!isInLockedContainer) {\n                    this._scrollTo(current[0], scrollableContainer);\n                }\n            },\n            current: function (next) {\n                return this._setCurrent(next, true);\n            },\n            _setCurrent: function (next, preventTrigger, preventScroll) {\n                var current = this._current;\n                next = $(next);\n                if (next.length) {\n                    if (!current || current[0] !== next[0]) {\n                        var parent = next.parent();\n                        var siblings = parent.children(DATA_CELL);\n                        var colspan = parseInt(parent.children().first().attr('colspan'), 10);\n                        if (this._hasVirtualColumns()) {\n                            this._virtualCellIndex = (colspan > 1 ? colspan : 0) + siblings.index(next);\n                        }\n                        this._updateCurrentAttr(current, next);\n                        if (!preventScroll) {\n                            this._scrollCurrent();\n                        }\n                        if (!preventTrigger) {\n                            this.trigger(NAVIGATE, { element: next });\n                        }\n                    }\n                }\n                if (next && next.length) {\n                    this._lastCellIndex = next.parent().children(DATA_CELL).index(next);\n                }\n                return this._current;\n            },\n            _removeCurrent: function () {\n                if (this._current) {\n                    this._current.removeClass(FOCUSED);\n                    this._current = null;\n                }\n            },\n            _scrollTo: function (element, container) {\n                var elementToLowercase = element.tagName.toLowerCase();\n                var isHorizontal = elementToLowercase === 'td' || elementToLowercase === 'th';\n                var table = $(element).closest('table')[0];\n                var elementOffsetDir = element[isHorizontal ? 'offsetWidth' : 'offsetHeight'];\n                var containerScroll = container[isHorizontal ? 'scrollLeft' : 'scrollTop'];\n                var containerOffsetDir = container[isHorizontal ? 'clientWidth' : 'clientHeight'];\n                var elementOffset = $(element).css('position') === 'relative' && isRtl && isHorizontal ? Math.abs(table.offsetLeft - element.offsetLeft) : element[isHorizontal ? 'offsetLeft' : 'offsetTop'];\n                var bottomDistance = elementOffset + elementOffsetDir;\n                var result = 0;\n                var ieCorrection = 0;\n                var firefoxCorrection = 0;\n                if (isRtl && isHorizontal) {\n                    if (browser.msie || browser.edge) {\n                        ieCorrection = table.offsetLeft;\n                    } else if (browser.mozilla || browser.webkit && browser.version > 85) {\n                        firefoxCorrection = table.offsetLeft - kendo.support.scrollbar();\n                    }\n                }\n                containerScroll = Math.abs(containerScroll + ieCorrection - firefoxCorrection);\n                if (containerScroll > elementOffset) {\n                    result = elementOffset;\n                } else if (bottomDistance > containerScroll + containerOffsetDir) {\n                    if (elementOffsetDir <= containerOffsetDir) {\n                        result = bottomDistance - containerOffsetDir;\n                    } else {\n                        result = elementOffset;\n                    }\n                } else {\n                    result = containerScroll;\n                }\n                result = Math.abs(result + ieCorrection) + firefoxCorrection;\n                container[isHorizontal ? 'scrollLeft' : 'scrollTop'] = result;\n            },\n            _navigatable: function () {\n                var that = this;\n                if (!that.options.navigatable) {\n                    return;\n                }\n                var dataTables = that.table.add(that.lockedTable);\n                var headerTables = that.thead.parent().add($('>table', that.lockedHeader));\n                var tables = dataTables;\n                if (that.options.scrollable) {\n                    tables = tables.add(headerTables);\n                    headerTables.attr(TABINDEX, -1);\n                }\n                this._navigatableTables = tables;\n                this._headertables = headerTables;\n                tables.off('mousedown' + NS + ' focus' + NS + ' focusout' + NS + ' keydown' + NS);\n                headerTables.on('keydown' + NS, proxy(that._openHeaderMenu, that)).find('a.k-link').attr('tabIndex', -1);\n                dataTables.attr(TABINDEX, math.max(dataTables.attr(TABINDEX) || 0, 0)).on('keydown' + NS, '.k-detail-cell', function (e) {\n                    if (e.target !== e.currentTarget) {\n                        e.stopImmediatePropagation();\n                    }\n                });\n                tables.on(kendo.support.touch ? 'touchstart' + NS : 'mousedown' + NS, NAVROW + '>' + NAVCELL, proxy(tableClick, that)).on('focus' + NS, proxy(that._tableFocus, that)).on('focusout' + NS, proxy(that._tableBlur, that)).on('keydown' + NS, that, proxy(that._tableKeyDown, that));\n            },\n            _openHeaderMenu: function (e) {\n                if (e.altKey && e.keyCode == keys.DOWN) {\n                    this.current().find('.k-grid-filter, .k-header-column-menu').click();\n                    e.stopImmediatePropagation();\n                }\n            },\n            _setTabIndex: function (table) {\n                this._navigatableTables.attr(TABINDEX, -1);\n                table.attr(TABINDEX, 0);\n            },\n            _tableFocus: function (e) {\n                var current = this.current();\n                var table = $(e.currentTarget);\n                if (current && current.is(':visible')) {\n                    current.addClass(FOCUSED);\n                } else {\n                    if (this._virtualColScroll) {\n                        this._setCurrent(table.find(FIRSTNAVITEM), true, true);\n                    } else {\n                        this._setCurrent(table.find(FIRSTNAVITEM));\n                    }\n                }\n                this._setTabIndex(table);\n            },\n            _tableBlur: function () {\n                var current = this.current();\n                if (current) {\n                    current.removeClass(FOCUSED);\n                }\n            },\n            _findCellIndex: function (columns, startIndex, reversed) {\n                var cellIndex;\n                var i;\n                if (reversed) {\n                    for (i = startIndex; i >= 0; i--) {\n                        cellIndex = i;\n                        if (!columns[i].hidden) {\n                            break;\n                        }\n                    }\n                } else {\n                    for (i = startIndex; i < columns.length; i++) {\n                        cellIndex = i;\n                        if (!columns[i].hidden) {\n                            break;\n                        }\n                    }\n                }\n                return cellIndex;\n            },\n            _scrollToColumn: function (key, e) {\n                if (this._virtualCellIndex === undefined) {\n                    return false;\n                }\n                var that = this;\n                var cellIndex = that._virtualCellIndex;\n                var leafsCols = leafColumns(nonLockedColumns(that.columns));\n                var scrollWidth = 0;\n                if (key == (isRtl ? keys.LEFT : keys.RIGHT) && cellIndex !== leafsCols.length - 1) {\n                    cellIndex = that._findCellIndex(leafsCols, cellIndex + 1);\n                } else if (key == (isRtl ? keys.RIGHT : keys.LEFT) && cellIndex) {\n                    cellIndex = that._findCellIndex(leafsCols, cellIndex - 1, true);\n                } else if (key == keys.HOME) {\n                    cellIndex = that._findCellIndex(leafsCols, 0);\n                } else if (key == keys.END) {\n                    cellIndex = that._findCellIndex(leafsCols, leafsCols.length - 1, true);\n                }\n                for (var i = 0; i < cellIndex; i++) {\n                    scrollWidth += leafsCols[i].width;\n                }\n                that._virtualCellIndex = cellIndex;\n                if (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                kendo.scrollLeft(that.content, scrollWidth);\n                return true;\n            },\n            _tableKeyDown: function (e) {\n                var current = this.current();\n                var virtualScroll = this.virtualScroll || {};\n                var requestInProgress = this.virtualScrollable && this.virtualScrollable.fetching();\n                var target = $(e.target);\n                var canHandle = !e.isDefaultPrevented() && !target.is(':button,a,:input,a>.k-icon');\n                if (requestInProgress) {\n                    e.preventDefault();\n                    return;\n                }\n                if (virtualScroll.columns && (!current || !document.body.contains(current[0])) && this._scrollToColumn(e.keyCode, e)) {\n                    return;\n                }\n                if (!current) {\n                    current = $(this.lockedTable).add(this.options.scrollable ? this.table : this.tbody).find(FIRSTNAVITEM);\n                }\n                if (!current.length) {\n                    return;\n                }\n                var handled = false;\n                if (canHandle && e.keyCode == keys.UP) {\n                    handled = this._moveUp(current, e.shiftKey);\n                }\n                if (canHandle && e.keyCode == keys.DOWN) {\n                    handled = this._moveDown(current, e.shiftKey);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT)) {\n                    handled = this._moveRight(current, e.altKey, e.shiftKey, e.ctrlKey, e.currentTarget);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT)) {\n                    handled = this._moveLeft(current, e.altKey, e.shiftKey, e.ctrlKey, e.currentTarget);\n                }\n                if (canHandle && e.keyCode == keys.PAGEDOWN) {\n                    handled = this._handlePageDown();\n                }\n                if (canHandle && e.keyCode == keys.PAGEUP) {\n                    handled = this._handlePageUp();\n                }\n                if (canHandle && e.keyCode == keys.HOME) {\n                    handled = this._handleHome(current, e.ctrlKey);\n                }\n                if (canHandle && e.keyCode == keys.END) {\n                    handled = this._handleEnd(current, e.ctrlKey);\n                }\n                if (canHandle && e.keyCode == keys.SPACEBAR) {\n                    handled = this._handleSpaceKey(current, e.ctrlKey);\n                }\n                if (e.keyCode == keys.ENTER || e.keyCode == keys.F2) {\n                    handled = this._handleEnterKey(current, e.currentTarget, target);\n                }\n                if (e.keyCode == keys.ESC) {\n                    handled = this._handleEscKey(current, e.currentTarget);\n                }\n                if (e.keyCode == keys.TAB) {\n                    handled = this._handleTabKey(current, e.currentTarget, e.shiftKey, target);\n                }\n                if (handled) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            },\n            _moveLeft: function (current, altKey, shiftKey, ctrlKey, currentTable) {\n                var next, index;\n                var row = current.parent();\n                var container = row.parent();\n                if (altKey) {\n                    this.collapseRow(row);\n                } else if (ctrlKey && current.is('.k-header') && this.options.reorderable) {\n                    this._moveColumn(current, true);\n                } else {\n                    index = container.find(NAVROW).index(row);\n                    next = this._prevHorizontalCell(container, current, index);\n                    if (!next[0]) {\n                        if (shiftKey) {\n                            if (this.lockedTable) {\n                                next = this._relatedRow(row);\n                                if ($.contains(this.lockedTable[0], row[0])) {\n                                    next = next.prevAll(ITEMROW + ':first');\n                                }\n                                next = next.children(DATA_CELL + ':last');\n                            } else {\n                                next = this._tabNext(current, currentTable, true);\n                            }\n                        } else {\n                            container = this._horizontalContainer(container);\n                            next = this._prevHorizontalCell(container, current, index);\n                            if (next[0] !== current[0]) {\n                                focusTable(container.parent(), true);\n                            }\n                        }\n                    }\n                    this._setCurrent(next);\n                }\n                return true;\n            },\n            _moveRight: function (current, altKey, shiftKey, ctrlKey, currentTable) {\n                var next, index;\n                var row = current.parent();\n                var container = row.parent();\n                if (altKey) {\n                    this.expandRow(row);\n                } else if (ctrlKey && current.is('.k-header') && this.options.reorderable) {\n                    this._moveColumn(current, false);\n                } else {\n                    index = container.find(NAVROW).index(row);\n                    next = this._nextHorizontalCell(container, current, index);\n                    if (!next[0]) {\n                        if (shiftKey) {\n                            if (this.lockedTable) {\n                                next = this._relatedRow(row);\n                                if ($.contains(this.table[0], row[0])) {\n                                    next = next.nextAll(ITEMROW + ':first');\n                                }\n                                next = next.children(DATA_CELL + ':first');\n                            } else {\n                                next = this._tabNext(current, currentTable, false);\n                            }\n                        } else {\n                            container = this._horizontalContainer(container, true);\n                            next = this._nextHorizontalCell(container, current, index);\n                            if (next[0] !== current[0]) {\n                                focusTable(container.parent(), true);\n                            }\n                        }\n                    }\n                    this._setCurrent(next);\n                }\n                return true;\n            },\n            _moveUp: function (current, shiftKey) {\n                var container = current.parent().parent();\n                var next;\n                if (shiftKey) {\n                    next = current.parent();\n                    next = next.prevAll(ITEMROW + ':first');\n                    next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL + ':last');\n                } else {\n                    next = this._prevVerticalCell(container, current);\n                    if (!next[0]) {\n                        this._lastCellIndex = 0;\n                        container = this._verticalContainer(container, true);\n                        next = this._prevVerticalCell(container, current);\n                        if (next[0]) {\n                            focusTable(container.parent(), true);\n                        }\n                    }\n                }\n                var tmp = this._lastCellIndex || 0;\n                this._setCurrent(next);\n                this._lastCellIndex = tmp;\n                return true;\n            },\n            _moveDown: function (current, shiftKey) {\n                var container = current.parent().parent();\n                var next;\n                if (shiftKey) {\n                    next = current.parent();\n                    next = next.nextAll(ITEMROW + ':first');\n                    next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL + ':first');\n                } else {\n                    next = this._nextVerticalCell(container, current);\n                    if (!next[0]) {\n                        this._lastCellIndex = 0;\n                        container = this._verticalContainer(container);\n                        next = this._nextVerticalCell(container, current);\n                        if (next[0]) {\n                            focusTable(container.parent(), true);\n                        }\n                    }\n                }\n                var tmp = this._lastCellIndex || 0;\n                this._setCurrent(next);\n                this._lastCellIndex = tmp;\n                return true;\n            },\n            _moveColumn: function (current, isLeft) {\n                var elements = this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter + ':visible');\n                var columns = visibleColumns(flatColumnsInDomOrder(this.columns));\n                var oldIndex = elements.index($(current));\n                var offset = isLeft ? -1 : 1;\n                var column = columns[oldIndex];\n                var newIndex = targetParentContainerIndex(columns, this.columns, oldIndex, oldIndex + offset);\n                if (newIndex >= 0) {\n                    this.reorderColumn(newIndex, column, isLeft);\n                    this.trigger(COLUMNREORDER, {\n                        newIndex: newIndex,\n                        oldIndex: oldIndex,\n                        column: column\n                    });\n                }\n            },\n            _handleHome: function (current, ctrl) {\n                var row = current.parent();\n                var rowContainer = row.parent();\n                var isInLockedTable = this.lockedTable && this.lockedTable.children('tbody')[0] === rowContainer[0];\n                var isInBody = rowContainer[0] === this.tbody[0];\n                var prev;\n                if (this._hasVirtualColumns()) {\n                    this._scrollToColumn(kendo.keys.HOME);\n                    return true;\n                }\n                if (ctrl) {\n                    if (this.lockedTable) {\n                        prev = this.lockedTable.find(FIRSTITEMROW + '>' + NAVCELL + ':first');\n                    } else {\n                        prev = this.table.find(FIRSTITEMROW + '>' + NAVCELL + ':first');\n                    }\n                } else if (isInBody || isInLockedTable) {\n                    if (isInBody && this.lockedTable) {\n                        row = this._relatedRow(row);\n                    }\n                    prev = row.children(DATA_CELL + ':first');\n                }\n                if (prev && prev.length) {\n                    this._setCurrent(prev);\n                    return true;\n                }\n            },\n            _handleEnd: function (current, ctrl) {\n                var row = current.parent();\n                var rowContainer = row.parent();\n                var isInLockedTable = this.lockedTable && this.lockedTable.children('tbody')[0] === rowContainer[0];\n                var isInBody = rowContainer[0] === this.tbody[0];\n                var next;\n                if (this._hasVirtualColumns()) {\n                    this._scrollToColumn(kendo.keys.END);\n                    return true;\n                }\n                if (ctrl) {\n                    next = this.table.find(LASTITEMROW + '>' + NAVCELL + ':last');\n                } else if (isInBody || isInLockedTable) {\n                    if (!isInBody && this.lockedTable) {\n                        row = this._relatedRow(row);\n                    }\n                    next = row.children(DATA_CELL + ':last');\n                }\n                if (next && next.length) {\n                    this._setCurrent(next);\n                    return true;\n                }\n            },\n            _handlePageDown: function () {\n                if (!this.options.pageable) {\n                    return false;\n                }\n                this.dataSource.page(this.dataSource.page() + 1);\n                return true;\n            },\n            _handlePageUp: function () {\n                if (!this.options.pageable) {\n                    return false;\n                }\n                this.dataSource.page(this.dataSource.page() - 1);\n                return true;\n            },\n            _handleTabKey: function (current, currentTable, shiftKey, target) {\n                var isInCell = this.options.editable && this._editMode() == 'incell';\n                var cell;\n                if (!isInCell || current.is('th') || (this.options.scrollable ? this._headertables.filter(currentTable).length : this.thead.filter(target).length)) {\n                    return false;\n                }\n                cell = $(activeElement()).closest('.k-edit-cell');\n                if (cell[0] && cell[0] !== current[0]) {\n                    current = cell;\n                }\n                cell = this._tabNext(current, currentTable, shiftKey);\n                if (cell[0] === current[0]) {\n                    return false;\n                }\n                if (cell.length) {\n                    this._handleEditing(current, cell, cell.closest('table'));\n                    return true;\n                }\n                return false;\n            },\n            _handleEscKey: function (current, currentTable) {\n                var active = activeElement();\n                var isInCell = this._editMode() == 'incell';\n                if (!isInEdit(current)) {\n                    if (current.has(active).length) {\n                        focusTable(currentTable, true);\n                        return true;\n                    }\n                    return false;\n                }\n                if (isInCell) {\n                    this.closeCell(true);\n                } else {\n                    var currentIndex = $(current).parent().index();\n                    if (active) {\n                        active.blur();\n                    }\n                    this.cancelRow(true);\n                    if (currentIndex >= 0) {\n                        this._setCurrent(this.items().eq(currentIndex).children(NAVCELL).first());\n                    }\n                }\n                focusTable(currentTable, true);\n                return true;\n            },\n            _toggleCurrent: function (current, editable, hasDetails) {\n                var row = current.parent();\n                if (row.is('.k-grouping-row')) {\n                    row.find('.k-icon:first').click();\n                    return true;\n                }\n                if (!editable && hasDetails) {\n                    row.find('.k-icon:first').click();\n                    return true;\n                }\n                return false;\n            },\n            _handleSpaceKey: function (current, ctrlKey) {\n                var that = this;\n                if (!ctrlKey || !that.groupable || !current.hasClass('k-header')) {\n                    return;\n                }\n                var descriptors = that.groupable.descriptors();\n                var field = current.attr(kendo.attr('field'));\n                var aggregates = that.groupable.aggregates();\n                var label = current.attr(kendo.attr('title')) || field;\n                if (that.groupable._canDrag(current)) {\n                    descriptors.push({\n                        field: field,\n                        dir: 'asc',\n                        aggregates: aggregates || []\n                    });\n                    label += ' ' + that.options.messages.ungroupHeader;\n                } else {\n                    descriptors = $.grep(descriptors, function (item) {\n                        return item.field !== field;\n                    });\n                    label += ' ' + that.options.messages.groupHeader;\n                }\n                current.attr('aria-label', label);\n                that.dataSource.group(descriptors);\n                return true;\n            },\n            _handleEnterKey: function (current, currentTable, target) {\n                var editable = this.options.editable && this.options.editable.update !== false;\n                var container = target.closest('[role=gridcell]');\n                var hasDetails = this._hasDetails();\n                var link;\n                if (!target.is('table') && !$.contains(current[0], target[0])) {\n                    current = container;\n                }\n                if (current.is('th')) {\n                    link = current.find('.k-link');\n                    if (link.length) {\n                        link.click();\n                    } else {\n                        current.find(CHECKBOXINPUT).focus();\n                    }\n                    return true;\n                }\n                if (this._toggleCurrent(current, editable, hasDetails)) {\n                    return true;\n                }\n                var focusable = current.find(':kendoFocusable:first');\n                if (focusable[0] && !current.hasClass('k-edit-cell') && current.hasClass('k-state-focused')) {\n                    focusable.focus();\n                    return true;\n                }\n                if (editable && !target.is(':button,.k-button,textarea')) {\n                    if (!container[0]) {\n                        container = current;\n                    }\n                    this._handleEditing(container, false, currentTable);\n                    return true;\n                }\n                return false;\n            },\n            _nextHorizontalCell: function (table, current, originalIndex) {\n                var cells = current.nextAll(DATA_CELL);\n                if (!cells.length) {\n                    var rows = table.find(NAVROW);\n                    var rowIndex = rows.index(current.parent());\n                    if (rowIndex == -1) {\n                        if (current.hasClass('k-header')) {\n                            var headerRows = [];\n                            mapColumnToCellRows([lockedColumns(this.columns)[0]], childColumnsCells(rows.eq(0).children(':visible').first()), headerRows, 0, 0);\n                            if (headerRows[originalIndex]) {\n                                return headerRows[originalIndex][0];\n                            }\n                            return current;\n                        }\n                        if (current.parent().hasClass('k-filter-row')) {\n                            return rows.last().children(DATA_CELL).first();\n                        }\n                        return rows.eq(originalIndex).children(DATA_CELL).first();\n                    }\n                }\n                return cells.first();\n            },\n            _prevHorizontalCell: function (table, current, originalIndex) {\n                var cells = current.prevAll(DATA_CELL);\n                if (!cells.length) {\n                    var rows = table.find(NAVROW);\n                    var rowIndex = rows.index(current.parent());\n                    if (rowIndex == -1) {\n                        if (current.hasClass('k-header')) {\n                            var headerRows = [];\n                            var columns = lockedColumns(this.columns);\n                            mapColumnToCellRows([columns[columns.length - 1]], childColumnsCells(rows.eq(0).children().last()), headerRows, 0, 0);\n                            if (headerRows[originalIndex]) {\n                                return headerRows[originalIndex][0];\n                            }\n                            return current;\n                        }\n                        if (current.parent().hasClass('k-filter-row')) {\n                            return rows.last().children(DATA_CELL).last();\n                        }\n                        return rows.eq(originalIndex).children(DATA_CELL).last();\n                    }\n                }\n                return cells.first();\n            },\n            _currentDataIndex: function (table, current) {\n                var index = current.attr('data-index');\n                if (!index) {\n                    return undefined;\n                }\n                var lockedColumnsCount = lockedColumns(this.columns).length;\n                if (lockedColumnsCount && !table.closest('div').hasClass('k-grid-content-locked')[0]) {\n                    return index - lockedColumnsCount;\n                }\n                return index;\n            },\n            _prevVerticalCell: function (container, current) {\n                var cells;\n                var row = current.parent();\n                var rows = container.children(NAVROW);\n                var rowIndex = rows.index(row);\n                var index = this._currentDataIndex(container, current);\n                if (index || current.hasClass('k-header')) {\n                    cells = parentColumnsCells(current);\n                    return cells.eq(cells.length - 2);\n                }\n                index = Math.max(row.children(DATA_CELL).index(current), this._lastCellIndex || 0);\n                if (row.hasClass('k-filter-row')) {\n                    return leafDataCells(container).filter(isCellVisible).eq(index);\n                }\n                if (rowIndex == -1) {\n                    if (this._hasVirtualColumns()) {\n                        index = this._virtualCellIndex;\n                    }\n                    row = container.find('tr.k-filter-row:visible');\n                    if (!row[0]) {\n                        if ((this._hasDetails() || current.parent().find('.k-hierarchy-cell').length) && index) {\n                            index--;\n                        }\n                        return leafDataCells(container).filter(isCellVisible).eq(index);\n                    }\n                } else {\n                    row = rowIndex === 0 ? $() : rows.eq(rowIndex - 1);\n                }\n                cells = row.children(DATA_CELL);\n                if (cells.length > index) {\n                    return cells.eq(index);\n                }\n                return cells.eq(0);\n            },\n            _nextVerticalCell: function (container, current) {\n                var cells;\n                var row = current.parent();\n                var rows = container.children(NAVROW);\n                var rowIndex = rows.index(row);\n                var index = this._currentDataIndex(container, current);\n                var virtualScroll = this.virtualScroll || {};\n                var colspan;\n                if (rowIndex != -1 && index === undefined && current.hasClass('k-header')) {\n                    return childColumnsCells(current).eq(1);\n                }\n                index = index ? parseInt(index, 10) : row.children(DATA_CELL).index(current);\n                index = Math.max(index, this._lastCellIndex || 0);\n                if (rowIndex == -1) {\n                    row = rows.eq(0);\n                    if (virtualScroll.columns) {\n                        colspan = parseInt(row.children().first().attr('colspan'), 10);\n                        index = this._virtualCellIndex - (colspan > 1 ? colspan : 0);\n                    }\n                    if (this._hasDetails() || row.find('.k-hierarchy-cell').length) {\n                        index++;\n                    }\n                } else {\n                    row = rows.eq(rowIndex + current[0].rowSpan);\n                }\n                var tmpIndex = index;\n                if (this._currentDataIndex(container, current) !== undefined) {\n                    var currentRowCells = row.children(':not(.k-group-cell):not(.k-hierarchy-cell)');\n                    var hiddenColumns = currentRowCells.filter(':hidden');\n                    for (var idx = 0, length = hiddenColumns.length; idx < length; idx++) {\n                        if (currentRowCells.index(hiddenColumns[idx]) < index) {\n                            tmpIndex--;\n                        }\n                    }\n                }\n                index = tmpIndex;\n                cells = row.children(DATA_CELL);\n                if (cells.length > index) {\n                    return cells.eq(index);\n                }\n                return cells.eq(0);\n            },\n            _verticalContainer: function (container, up) {\n                var table = container.parent();\n                var length = this._navigatableTables.length;\n                var step = Math.floor(length / 2);\n                var index = inArray(table[0], this._navigatableTables);\n                if (up) {\n                    step *= -1;\n                }\n                index += step;\n                if (index >= 0 || index < length) {\n                    table = this._navigatableTables.eq(index);\n                }\n                return table.find(up ? '>thead' : '>tbody');\n            },\n            _horizontalContainer: function (container, right) {\n                var length = this._navigatableTables.length;\n                if (length <= 2) {\n                    return container;\n                }\n                var table = container.parent();\n                var index = inArray(table[0], this._navigatableTables);\n                index += right ? 1 : -1;\n                if (right && (index == 2 || index == length)) {\n                    return container;\n                }\n                if (!right && (index == 1 || index < 0)) {\n                    return container;\n                }\n                return this._navigatableTables.eq(index).find('thead, tbody');\n            },\n            _tabNext: function (current, currentTable, back) {\n                var switchRow = true;\n                var next = back ? current.prevAll(DATA_CELL + ':first') : current.nextAll(':visible:first');\n                if (!next.length) {\n                    next = current.parent();\n                    if (this.lockedTable) {\n                        switchRow = back && currentTable == this.lockedTable[0] || !back && currentTable == this.table[0];\n                        next = this._relatedRow(next);\n                    }\n                    if (switchRow) {\n                        if (this._hasVirtualColumns()) {\n                            return current;\n                        }\n                        next = next[back ? 'prevAll' : 'nextAll']('tr:not(.k-grouping-row):not(.k-detail-row):visible:first');\n                    }\n                    next = next.children(DATA_CELL + (back ? ':last' : ':first'));\n                }\n                return next;\n            },\n            _handleEditing: function (current, next, table) {\n                var that = this, active = $(activeElement()), mode = that._editMode(), isIE = browser.msie, editContainer = that._editContainer, focusable, editable = that.options.editable && that.options.editable.update !== false, isEdited;\n                table = $(table);\n                if (mode == 'incell') {\n                    isEdited = current.hasClass('k-edit-cell');\n                } else {\n                    isEdited = current.parent().hasClass('k-grid-edit-row');\n                }\n                if (that.editable) {\n                    if ($.contains(editContainer[0], active[0])) {\n                        active.blur();\n                        if (isIE) {\n                            active.blur();\n                        }\n                    }\n                    if (!that.editable) {\n                        focusTable(table);\n                        return;\n                    }\n                    if (that.editable.end()) {\n                        if (mode == 'incell') {\n                            that.closeCell();\n                        } else {\n                            that.saveRow();\n                            isEdited = true;\n                        }\n                    } else {\n                        if (mode == 'incell') {\n                            that._setCurrent(editContainer);\n                        } else {\n                            that._setCurrent(editContainer.children().filter(DATA_CELL).first());\n                        }\n                        focusable = editContainer.find(':kendoFocusable:first')[0];\n                        if (focusable) {\n                            focusable.focus();\n                        }\n                        return;\n                    }\n                }\n                if (next) {\n                    that._setCurrent(next);\n                }\n                focusTable(table, true);\n                if (!editable) {\n                    return;\n                }\n                if (!isEdited && !next || next) {\n                    if (mode === INCELL) {\n                        if (!$(that.current()).hasClass(HIERARCHY_CELL_CLASS)) {\n                            that.editCell(that.current());\n                        }\n                    } else {\n                        that.editRow(that.current().parent());\n                    }\n                }\n            },\n            _wrapper: function () {\n                var that = this, table = that.table, height = that.options.height, width = that.options.width, wrapper = that.element;\n                if (!wrapper.is('div')) {\n                    wrapper = wrapper.wrap('<div/>').parent();\n                }\n                that.wrapper = wrapper.addClass('k-grid k-widget k-grid-display-block');\n                if (height) {\n                    that.wrapper.css(HEIGHT, height);\n                    table.css(HEIGHT, 'auto');\n                }\n                if (width) {\n                    that.wrapper.css('width', width);\n                }\n                that._initMobile();\n            },\n            _initMobile: function () {\n                var options = this.options;\n                var that = this;\n                this._isMobile = options.mobile === true && kendo.support.mobileOS || options.mobile === 'phone' || options.mobile === 'tablet';\n                if (this._isMobile) {\n                    var html = this.wrapper.addClass('k-grid-mobile').wrap('<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" ' + 'data-' + kendo.ns + 'init-widgets=\"false\"></div>').parent();\n                    this.pane = this._createPane(html);\n                    this.view = this.pane.view();\n                    if (options.height) {\n                        this.pane.element.parent().css(HEIGHT, options.height);\n                    } else {\n                        this.pane.element.parent().css(HEIGHT, this.wrapper[0].style.height);\n                    }\n                    this._editAnimation = 'slide';\n                    that.wrapper.on('transitionend' + NS, function (e) {\n                        e.stopPropagation();\n                    });\n                    that.wrapper.on('contextmenu' + NS, 'th a', function (e) {\n                        e.preventDefault();\n                        return false;\n                    });\n                    this.view.bind('showStart', function () {\n                        if (that._isLocked()) {\n                            that._updateTablesWidth();\n                            that._applyLockedContainersWidth();\n                            that._syncLockedContentHeight();\n                            that._syncLockedHeaderHeight();\n                            that._syncLockedFooterHeight();\n                        }\n                    });\n                }\n            },\n            _createPane: function (html) {\n                var pane = kendo.Pane.wrap(html, {\n                    viewEngine: {\n                        viewOptions: {\n                            renderOnInit: true,\n                            wrap: false,\n                            wrapInSections: true,\n                            detachOnHide: false,\n                            detachOnDestroy: false\n                        }\n                    }\n                });\n                return pane;\n            },\n            _tbody: function () {\n                var that = this, table = that.table, tbody;\n                tbody = table.find('>tbody');\n                if (!tbody.length) {\n                    tbody = $('<tbody/>').appendTo(table);\n                }\n                that.tbody = tbody.attr('role', 'rowgroup');\n            },\n            _scrollable: function () {\n                var that = this, header, table, options = that.options, scrollable = options.scrollable, hasVirtualScroll = scrollable !== true && scrollable.virtual, virtualScroll = hasVirtualScroll ? parseVirtualSettings(scrollable.virtual) : null, scrollbar = !kendo.support.kineticScrollNeeded || virtualScroll && virtualScroll.rows ? kendo.support.scrollbar() : 0, headerWrap;\n                if (scrollable) {\n                    header = that.wrapper.children('.k-grid-header');\n                    if (!header[0]) {\n                        header = $('<div class=\"k-grid-header\" />').insertBefore(that.table);\n                    }\n                    header.css(isRtl ? 'padding-left' : 'padding-right', scrollable.virtual ? scrollbar + 1 : scrollbar);\n                    table = $('<table role=\"grid\" />');\n                    table.width(that.table[0].style.width);\n                    table.append(that.thead);\n                    header.empty().append($('<div class=\"k-grid-header-wrap k-auto-scrollable\" />').append(table));\n                    that.content = that.table.parent();\n                    that.virtualScroll = virtualScroll;\n                    if (that.content.is('.k-virtual-scrollable-wrap, ' + DOT + classNames.scrollContainer)) {\n                        that.content = that.content.parent();\n                    }\n                    if (!that.content.is('.k-grid-content, .k-virtual-scrollable-wrap')) {\n                        that.content = that.table.wrap('<div class=\"k-grid-content k-auto-scrollable\" />').parent();\n                    }\n                    if (virtualScroll && virtualScroll.rows && !that.virtualScrollable) {\n                        that._createVirtualScrollable();\n                    }\n                    if (virtualScroll && virtualScroll.columns) {\n                        that.table.css({ width: sumWidths(visibleLeafColumns(visibleNonLockedColumns(that.columns))) });\n                    }\n                    headerWrap = header.children('.k-grid-header-wrap');\n                    that.scrollables = headerWrap.add(that.content);\n                    var footer = that.wrapper.find('.k-grid-footer');\n                    if (footer.length) {\n                        that.scrollables = that.scrollables.add(footer.children('.k-grid-footer-wrap'));\n                    }\n                    headerWrap.unbind('scroll' + NS).bind('scroll' + NS, function (e) {\n                        if (that._scrollLeft !== this.scrollLeft) {\n                            kendo.scrollLeft(that.scrollables.not(e.currentTarget), this.scrollLeft);\n                        }\n                    });\n                    if (virtualScroll && virtualScroll.rows) {\n                        that.content.find('>.k-virtual-scrollable-wrap').unbind('scroll' + NS).bind('scroll' + NS, function () {\n                            var isScrollingLeft = this.scrollLeft != that._scrollLeft;\n                            that._scrollLeft = this.scrollLeft;\n                            kendo.scrollLeft(that.scrollables, this.scrollLeft);\n                            if (that.lockedContent) {\n                                that.lockedContent[0].scrollTop = this.scrollTop;\n                            }\n                            if (virtualScroll.columns && isScrollingLeft) {\n                                that.refresh();\n                            }\n                        });\n                    } else {\n                        var endless = scrollable.endless;\n                        var originalPageSize = that.dataSource.options.pageSize;\n                        if (endless) {\n                            that._endlessPageSize = originalPageSize;\n                        }\n                        that.content.unbind('scroll' + NS).bind('scroll' + NS, function (e) {\n                            var isScrollingLeft = this.scrollLeft != that._scrollLeft;\n                            that._scrollLeft = this.scrollLeft;\n                            kendo.scrollLeft(that.scrollables.not(e.currentTarget), that._scrollLeft);\n                            if (that.lockedContent && e.currentTarget == that.content[0]) {\n                                that.lockedContent[0].scrollTop = this.scrollTop;\n                            }\n                            if (endless) {\n                                if (this.scrollTop + this.clientHeight - this.scrollHeight >= -10 && !that._endlessFetchInProgress && that._endlessPageSize < that.dataSource.total()) {\n                                    that._skipRerenderItemsCount = that._endlessPageSize;\n                                    that._endlessPageSize = that._endlessPageSize + originalPageSize;\n                                    that.dataSource.options.endless = true;\n                                    that._endlessFetchInProgress = true;\n                                    that.dataSource.pageSize(that._endlessPageSize);\n                                }\n                            }\n                            if (virtualScroll && virtualScroll.columns && isScrollingLeft) {\n                                that._virtualColScroll = true;\n                                that._cacheEditableState();\n                                that.refresh();\n                                that._restoreEditableState();\n                                that._virtualColScroll = false;\n                            }\n                        });\n                        var touchScroller = that.content.data('kendoTouchScroller');\n                        if (touchScroller) {\n                            touchScroller.destroy();\n                        }\n                        touchScroller = kendo.touchScroller(that.content);\n                        if (touchScroller && touchScroller.movable) {\n                            that.touchScroller = touchScroller;\n                            touchScroller.movable.bind('change', function (e) {\n                                kendo.scrollLeft(that.scrollables, -e.sender.x);\n                                if (that.lockedContent) {\n                                    that.lockedContent.scrollTop(-e.sender.y);\n                                }\n                            });\n                            that.one(DATABOUND, function (e) {\n                                e.sender.wrapper.addClass('k-grid-backface');\n                            });\n                        }\n                    }\n                }\n            },\n            _createVirtualScrollable: function () {\n                var that = this;\n                if (that.virtualScrollable) {\n                    that.virtualScrollable.destroy();\n                }\n                that.virtualScrollable = new VirtualScrollable(that.content, {\n                    dataSource: that.dataSource,\n                    itemHeight: function () {\n                        return that._averageRowHeight();\n                    },\n                    page: function () {\n                        that._restoreEditableState();\n                    },\n                    scroll: function () {\n                        that._focusEditable();\n                    },\n                    loadStart: function () {\n                        that._progress(true);\n                    },\n                    loadEnd: function () {\n                        that._progress(false);\n                    }\n                });\n                that.virtualScrollable.bind(PAGING, proxy(that._onVirtualPaging, that));\n            },\n            _onVirtualPaging: function () {\n                var that = this;\n                that._cacheEditableState();\n                if (that._isVirtualIncellEditable()) {\n                    that._shouldClearEditableState = false;\n                    that.closeCell();\n                    that._shouldClearEditableState = true;\n                }\n            },\n            _isVirtualEditable: function () {\n                return this._isVirtualIncellEditable() || this._isVirtualInlineEditable() || this._isVirtualPopupEditable();\n            },\n            _isVirtualInlineEditable: function () {\n                return this.virtualScrollable && this._editMode() === INLINE;\n            },\n            _isVirtualIncellEditable: function () {\n                return this.virtualScrollable && this._editMode() === INCELL;\n            },\n            _isVirtualPopupEditable: function () {\n                return this.virtualScrollable && this._editMode() === 'popup';\n            },\n            _hasVirtualColumns: function () {\n                return (this.virtualScroll || {}).columns ? true : false;\n            },\n            _scrollVirtualWrapper: function () {\n                var that = this;\n                var scrollable = that.virtualScrollable;\n                if (that._isVirtualInlineEditable() || that._isVirtualIncellEditable()) {\n                    if (scrollable._isScrolledToBottom()) {\n                        scrollable._scrollWrapperToBottom();\n                    } else if (scrollable._isScrolledToTop()) {\n                        scrollable._scrollWrapperToTop();\n                    }\n                }\n            },\n            _scrollVirtualWrapperOnColumnResize: function () {\n                var virtualScrollable = this.virtualScrollable;\n                if (virtualScrollable) {\n                    virtualScrollable._scrollWrapperOnColumnResize();\n                }\n            },\n            _restoreEditableState: function () {\n                var that = this;\n                var editableState = that._editableState || {};\n                var editedModel = editableState.model;\n                var dataSource = that.dataSource;\n                var inlineMode = that._isVirtualInlineEditable();\n                var incellMode = that._isVirtualIncellEditable();\n                var virtualColumns = that._hasVirtualColumns();\n                var row;\n                var cell;\n                if ((inlineMode || incellMode || virtualColumns) && editedModel && dataSource._getByUid(editedModel.uid, dataSource.view())) {\n                    if (that._editMode() === INLINE) {\n                        that._shouldClearEditableState = false;\n                        that.editRow(editedModel);\n                        if (!virtualColumns) {\n                            that._focusEditable();\n                        }\n                    } else if (that._editMode() === INCELL) {\n                        row = that.tbody.children(attrEquals(UNIQUE_ID, editedModel.uid));\n                        cell = $(row).children(attrEquals(FIELD, editableState.field));\n                        if (cell[0]) {\n                            that._shouldClearEditableState = false;\n                            that.editCell(cell);\n                            if (!virtualColumns) {\n                                that._focusEditable();\n                            }\n                        }\n                    }\n                }\n                that._shouldClearEditableState = true;\n            },\n            _focusEditable: function () {\n                var that = this;\n                var editedField = (that._editableState || {}).field;\n                var editContainer = that._editContainer;\n                if (editContainer && editContainer.length && !contains(editContainer[0], activeElement()) && that._canFocusEditable()) {\n                    if (that._isVirtualInlineEditable() || that._hasVirtualColumns()) {\n                        editContainer.find(attrEquals(CONTAINER_FOR, editedField)).find(FOCUSABLE).eq(0).focus();\n                    } else if (that._isVirtualIncellEditable() || that._hasVirtualColumns()) {\n                        editContainer.find(FOCUSABLE).eq(0).focus();\n                    }\n                }\n            },\n            _canFocusEditable: function () {\n                var that = this;\n                var result = (that._isVirtualIncellEditable() || that._isVirtualInlineEditable() || that._hasVirtualColumns()) && (isElementVisibleInWrapper((that.virtualScrollable || {}).wrapper, that._editContainer) || isElementVisibleInWrapper(that.content, that._editContainer));\n                return result;\n            },\n            _cacheEditableState: function () {\n                var that = this;\n                var editContainer = that._editContainer;\n                var editedModel = editContainer ? that._modelForContainer(editContainer) : null;\n                var inlineMode = that._isVirtualInlineEditable();\n                var incellMode = that._isVirtualIncellEditable();\n                var virtualColumns = that._hasVirtualColumns();\n                var active;\n                var widget;\n                if ((inlineMode || incellMode || virtualColumns) && editedModel) {\n                    that._clearEditableState();\n                    active = $(activeElement());\n                    if (editContainer && active[0] && contains(editContainer[0], active[0])) {\n                        active.change();\n                        widget = kendo.widgetInstance(active, kendo.ui);\n                        if (widget && isFunction(widget.value) && active.is(INPUT)) {\n                            widget.value(active.val());\n                            widget.trigger(CHANGE);\n                        }\n                    }\n                    if (that._editMode() === INLINE) {\n                        that._editableState = {\n                            model: editedModel,\n                            field: active.closest('[' + kendo.attr(CONTAINER_FOR) + ']').attr(kendo.attr(CONTAINER_FOR))\n                        };\n                    } else if (that._editMode() === INCELL) {\n                        that._editableState = {\n                            model: editedModel,\n                            field: editContainer.attr(kendo.attr(FIELD))\n                        };\n                    }\n                }\n            },\n            _clearSortClasses: function () {\n                var that = this;\n                if (that.content) {\n                    that.content.find('col:not(.k-group-col):not(.k-hierarchy-col)').removeClass('k-sorted');\n                }\n                if (that.lockedContent) {\n                    that.lockedContent.find('col:not(.k-group-col):not(.k-hierarchy-col)').removeClass('k-sorted');\n                }\n            },\n            _clearEditableState: function () {\n                var that = this;\n                if (that.virtualScrollable || that.virtualScroll && that._hasVirtualColumns()) {\n                    that._editableState = null;\n                }\n            },\n            _destroyVirtualScrollable: function () {\n                var that = this;\n                that._clearEditableState();\n                if (that.virtualScrollable && that.virtualScrollable.element) {\n                    that.virtualScrollable.destroy();\n                }\n                that.virtualScrollable = null;\n            },\n            _renderNoRecordsContent: function () {\n                var that = this;\n                if (that.options.noRecords) {\n                    var noRecordsElement = that.table.parent().children('.' + NORECORDSCLASS);\n                    if (noRecordsElement.length) {\n                        that.angular('cleanup', function () {\n                            return { elements: noRecordsElement.get() };\n                        });\n                        noRecordsElement.remove();\n                    }\n                    if (!that.dataSource || !that.dataSource.view().length) {\n                        noRecordsElement = $(that.noRecordsTemplate({})).insertAfter(that.table);\n                        that.angular('compile', function () {\n                            return {\n                                elements: noRecordsElement.get(),\n                                data: [{}]\n                            };\n                        });\n                    }\n                }\n            },\n            _setContentWidth: function (scrollLeft) {\n                var that = this, hiddenDivClass = 'k-grid-content-expander', hiddenDiv = '<div class=\"' + hiddenDivClass + '\"></div>', resizable = that.resizable, expander;\n                if (that.options.scrollable && that.wrapper.is(':visible')) {\n                    expander = that.table.parent().children('.' + hiddenDivClass);\n                    that._setContentWidthHandler = proxy(that._setContentWidth, that);\n                    if (!that.dataSource || !that.dataSource.view().length) {\n                        if (!expander[0]) {\n                            expander = $(hiddenDiv).appendTo(that.table.parent());\n                            if (resizable) {\n                                resizable.bind('resize', that._setContentWidthHandler);\n                            }\n                        }\n                        if (that.thead) {\n                            expander.width(that.thead.width());\n                            if (!isNaN(parseFloat(scrollLeft, 10))) {\n                                kendo.scrollLeft(that.content, scrollLeft);\n                            }\n                        }\n                    } else if (expander[0]) {\n                        expander.remove();\n                        if (resizable) {\n                            resizable.unbind('resize', that._setContentWidthHandler);\n                        }\n                    }\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    if (that.lockedHeader && that.table[0].clientWidth === 0) {\n                        that.table[0].style.width = '1px';\n                    }\n                }\n            },\n            _applyLockedContainersWidth: function () {\n                if (this.options.scrollable && this.lockedHeader) {\n                    var headerTable = this.thead.parent(), headerWrap = headerTable.parent(), contentWidth = this.wrapper[0].clientWidth, groups = this._groups(), scrollbar = kendo.support.scrollbar(), cols = this.lockedHeader.find('>table>colgroup>col:not(.k-group-col, .k-hierarchy-col)'), nonLockedCols = headerTable.find('>colgroup>col:not(.k-group-col, .k-hierarchy-col)'), width = columnsWidth(cols), nonLockedColsWidth = columnsWidth(nonLockedCols), footerWrap;\n                    if (groups > 0) {\n                        width += outerWidth(this.lockedHeader.find('.k-group-cell:first')) * groups;\n                    }\n                    if (width >= contentWidth) {\n                        width = contentWidth - 3 * scrollbar;\n                    }\n                    this.lockedHeader.add(this.lockedContent).width(width);\n                    headerWrap[0].style.width = headerWrap.parent().width() - width - 2 + 'px';\n                    headerTable.add(this.table).width(nonLockedColsWidth);\n                    if (this.virtualScrollable && !isIE11) {\n                        contentWidth -= scrollbar;\n                    }\n                    this.content[0].style.width = contentWidth - width - 1 + 'px';\n                    if (this.lockedFooter && this.lockedFooter.length) {\n                        this.lockedFooter.width(width);\n                        footerWrap = this.footer.find('.k-grid-footer-wrap');\n                        footerWrap[0].style.width = headerWrap[0].clientWidth + 'px';\n                        footerWrap.children().first().width(nonLockedColsWidth);\n                    }\n                }\n            },\n            _setContentHeight: function () {\n                var that = this, options = that.options, height, header = that.wrapper.children('.k-grid-header'), scrollbar = kendo.support.scrollbar();\n                var scrollableHeight = (options.scrollable || {}).height;\n                if (options.scrollable && that.wrapper.is(':visible')) {\n                    if (scrollableHeight && that.content[0].style.height === '') {\n                        that.content[0].style.height = scrollableHeight;\n                    }\n                    height = that.wrapper.innerHeight();\n                    height -= outerHeight(header);\n                    if (that.pager && that.pager.element.is(':visible')) {\n                        height -= outerHeight(that.pager.element);\n                    }\n                    if (options.groupable) {\n                        height -= outerHeight(that.wrapper.children('.k-grouping-header'));\n                    }\n                    if (options.toolbar) {\n                        height -= outerHeight(that.wrapper.children('.k-grid-toolbar'));\n                    }\n                    if (that.footerTemplate) {\n                        height -= outerHeight(that.wrapper.children('.k-grid-footer'));\n                    }\n                    var isGridHeightSet = function (el) {\n                        var initialHeight, newHeight;\n                        if (el[0].style.height) {\n                            return true;\n                        } else {\n                            initialHeight = el.height();\n                        }\n                        el.height('auto');\n                        newHeight = el.height();\n                        if (initialHeight != newHeight) {\n                            el.height('');\n                            return true;\n                        }\n                        el.height('');\n                        return false;\n                    };\n                    if (isGridHeightSet(that.wrapper)) {\n                        if (height > scrollbar * 2) {\n                            if (that.lockedContent) {\n                                scrollbar = that.table[0].offsetWidth > that.table.parent()[0].clientWidth ? scrollbar : 0;\n                                that.lockedContent.height(height - scrollbar);\n                            }\n                            that.content.height(height);\n                        } else {\n                            that.content.height(scrollbar * 2 + 1);\n                        }\n                    }\n                }\n            },\n            _averageRowHeight: function () {\n                var that = this, itemsCount = that._items(that.tbody, true).length, rowHeight = that._rowHeight;\n                if (itemsCount === 0) {\n                    return rowHeight;\n                }\n                if (!that._rowHeight) {\n                    that._rowHeight = rowHeight = outerHeight(that.table) / itemsCount;\n                    that._sum = rowHeight;\n                    that._measures = 1;\n                }\n                var currentRowHeight = outerHeight(that.table) / itemsCount;\n                if (rowHeight !== currentRowHeight) {\n                    that._measures++;\n                    that._sum += currentRowHeight;\n                    that._rowHeight = that._sum / that._measures;\n                }\n                return rowHeight;\n            },\n            _dataSource: function () {\n                var that = this, options = that.options, pageable, dataSource = options.dataSource;\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (isPlainObject(dataSource)) {\n                    extend(dataSource, {\n                        table: that.table,\n                        fields: that.columns\n                    });\n                    pageable = options.pageable;\n                    if (isPlainObject(pageable) && pageable.pageSize !== undefined) {\n                        dataSource.pageSize = pageable.pageSize;\n                    }\n                }\n                if (that.dataSource && that._refreshHandler) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(PROGRESS, that._progressHandler).unbind(ERROR, that._errorHandler).unbind(SORT, that._sortHandler);\n                } else {\n                    that._refreshHandler = proxy(that.refresh, that);\n                    that._progressHandler = proxy(that._requestStart, that);\n                    that._errorHandler = proxy(that._error, that);\n                    that._sortHandler = proxy(that._clearSortClasses, that);\n                }\n                that.dataSource = DataSource.create(dataSource).bind(CHANGE, that._refreshHandler).bind(PROGRESS, that._progressHandler).bind(ERROR, that._errorHandler).bind(SORT, that._sortHandler);\n            },\n            _error: function () {\n                this._progress(false);\n            },\n            _requestStart: function () {\n                this._progress(true);\n            },\n            _modelChange: function (e) {\n                var that = this, tbody = that.tbody, model = e.model, row = that.tbody.find('tr[' + kendo.attr('uid') + '=' + model.uid + ']'), relatedRow, cell, column, isAlt = row.hasClass('k-alt'), tmp, idx = that._items(tbody).index(row), isLocked = that.lockedContent, selectable, selectableRow, childCells, originalCells, length;\n                if (isLocked) {\n                    relatedRow = that._relatedRow(row);\n                }\n                if (row.add(relatedRow).children('.k-edit-cell').length && !that.options.rowTemplate) {\n                    row.add(relatedRow).children(':not(.k-group-cell,.k-hierarchy-cell)').each(function () {\n                        cell = $(this);\n                        column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n                        if (column.field === e.field) {\n                            if (!cell.hasClass('k-edit-cell')) {\n                                that._displayCell(cell, column, model);\n                            } else {\n                                cell.addClass('k-dirty-cell');\n                            }\n                        }\n                    });\n                } else if (!row.hasClass('k-grid-edit-row')) {\n                    selectableRow = $().add(row);\n                    if (isLocked) {\n                        tmp = (isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model);\n                        selectableRow = selectableRow.add(relatedRow);\n                        relatedRow.replaceWith(tmp);\n                    }\n                    that.angular('cleanup', function () {\n                        return { elements: selectableRow.get() };\n                    });\n                    tmp = (isAlt ? that.altRowTemplate : that.rowTemplate)(model);\n                    row.replaceWith(tmp);\n                    tmp = that._items(tbody).eq(idx);\n                    var angularData = [{ dataItem: model }];\n                    if (isLocked) {\n                        row = row.add(relatedRow);\n                        relatedRow = that._relatedRow(tmp)[0];\n                        adjustRowHeight(tmp[0], relatedRow);\n                        tmp = tmp.add(relatedRow);\n                        angularData.push({ dataItem: model });\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: tmp.get(),\n                            data: angularData\n                        };\n                    });\n                    selectable = that.options.selectable;\n                    if ((selectable || that._checkBoxSelection) && row.hasClass('k-state-selected')) {\n                        that.select(tmp);\n                    }\n                    originalCells = selectableRow.children(':not(.k-group-cell,.k-hierarchy-cell)');\n                    childCells = tmp.children(':not(.k-group-cell,.k-hierarchy-cell)');\n                    for (idx = 0, length = that.columns.length; idx < length; idx++) {\n                        column = that.columns[idx];\n                        cell = childCells.eq(idx);\n                        if (selectable && originalCells.eq(idx).hasClass('k-state-selected')) {\n                            cell.addClass('k-state-selected');\n                        }\n                    }\n                    that.trigger('itemChange', {\n                        item: tmp,\n                        data: model,\n                        ns: ui\n                    });\n                }\n            },\n            _pageable: function () {\n                var that = this, pagerWrap, pageable = that.options.pageable;\n                if (pageable) {\n                    pagerWrap = that.wrapper.children('div.k-grid-pager');\n                    if (!pagerWrap.length) {\n                        pagerWrap = $('<div class=\"k-pager-wrap k-grid-pager\"/>');\n                    }\n                    if (pageable.position === 'top') {\n                        pagerWrap.prependTo(that.wrapper).addClass('k-grid-pager-top');\n                    } else {\n                        pagerWrap.appendTo(that.wrapper);\n                    }\n                    if (that.pager) {\n                        that.pager.destroy();\n                    }\n                    if (typeof pageable === 'object' && pageable instanceof kendo.ui.Pager) {\n                        that.pager = pageable;\n                    } else {\n                        if (that.dataSource._groupPaging) {\n                            that.pager = new GroupsPager(pagerWrap, extend({}, pageable, { dataSource: that.dataSource }));\n                        } else {\n                            that.pager = new kendo.ui.Pager(pagerWrap, extend({}, pageable, { dataSource: that.dataSource }));\n                        }\n                    }\n                    that.pager.bind('pageChange', function (e) {\n                        if (that.trigger('page', { page: e.index })) {\n                            e.preventDefault();\n                        }\n                    });\n                    that._togglePagerVisibility();\n                }\n            },\n            _footer: function () {\n                var that = this, aggregates = that.dataSource.aggregates(), html = '', footerTemplate = that.footerTemplate, options = that.options, footerWrap, footer = that.footer || that.wrapper.find('.k-grid-footer');\n                if (footerTemplate) {\n                    html = $(that._wrapFooter(footerTemplate(aggregates)));\n                    if (footer.length) {\n                        var tmp = html;\n                        that.angular('cleanup', function () {\n                            return { elements: footer.get() };\n                        });\n                        footer.replaceWith(tmp);\n                        footer = that.footer = tmp;\n                    } else {\n                        if (options.scrollable) {\n                            footer = that.footer = options.pageable && options.pageable.position !== 'top' ? html.insertBefore(that.wrapper.children('div.k-grid-pager')) : html.appendTo(that.wrapper);\n                        } else {\n                            footer = that.footer = html.insertBefore(that.tbody);\n                        }\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: footer.find('td:not(.k-group-cell, .k-hierarchy-cell)').get(),\n                            data: map(that.columns, function (col) {\n                                return {\n                                    column: col,\n                                    aggregate: aggregates[col.field]\n                                };\n                            })\n                        };\n                    });\n                } else if (footer && !that.footer) {\n                    that.footer = footer;\n                }\n                if (footer.length) {\n                    if (options.scrollable) {\n                        footerWrap = footer.attr('tabindex', -1).children('.k-grid-footer-wrap');\n                        that.scrollables = $(that.scrollables.filter(function () {\n                            return !$(this).is('.k-grid-footer-wrap');\n                        }).toArray()).add(footerWrap);\n                    }\n                    if (that._footerWidth) {\n                        footer.find('table').css('width', that._footerWidth);\n                    }\n                    if (footerWrap) {\n                        var offset = kendo.scrollLeft(that.content);\n                        if (options.scrollable !== true && that.virtualScroll && that.virtualScroll.rows) {\n                            offset = kendo.scrollLeft(that.wrapper.find('.k-virtual-scrollable-wrap'));\n                        }\n                        kendo.scrollLeft(footerWrap, offset);\n                    }\n                }\n                if (that.lockedContent) {\n                    that._appendLockedColumnFooter();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedFooterHeight();\n                }\n            },\n            _wrapFooter: function (footerRow) {\n                var that = this, html = '', scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n                if (that.options.scrollable) {\n                    html = $('<div class=\"k-grid-footer\"><div class=\"k-grid-footer-wrap\"><table><tbody>' + footerRow + '</tbody></table></div></div>');\n                    that._appendCols(html.find('table'));\n                    html.css(isRtl ? 'padding-left' : 'padding-right', scrollbar);\n                    return html;\n                }\n                return '<tfoot class=\"k-grid-footer\">' + footerRow + '</tfoot>';\n            },\n            _columnMenu: function () {\n                var that = this, menu, columns = leafColumns(that.columns), column, options = that.options, columnMenu = options.columnMenu, menuOptions, sortable, filterable, cells, hasMultiColumnHeaders = grep(that.columns, function (item) {\n                        return item.columns !== undefined;\n                    }).length > 0, hasLockableColumns = grep(that.columns, function (item) {\n                        return item.lockable !== false;\n                    }).length > 0, hasStickableColumns = grep(that.columns, function (item) {\n                        return item.stickable === true;\n                    }).length > 0, isMobile = this._isMobile, initCallback = function (e) {\n                        that.trigger(COLUMNMENUINIT, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, openCallback = function (e) {\n                        that.trigger(COLUMNMENUOPEN, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, closeCallback = function (element) {\n                        focusTable(element.closest('table'), true);\n                    }, stickCallback = function (e) {\n                        that.trigger(COLUMNSTICK, { column: e.column });\n                    }, unstickCallback = function (e) {\n                        that.trigger(COLUMNUNSTICK, { column: e.column });\n                    }, sortHandler = function (e) {\n                        if (that.trigger('sort', { sort: e.sort })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    }, filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    }, $angular = options.$angular;\n                if (columnMenu) {\n                    if (typeof columnMenu == 'boolean') {\n                        columnMenu = {};\n                    }\n                    that._setColumnsMediaVisibility(columns);\n                    cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        column = columns[idx];\n                        var cell = cells.eq(idx);\n                        if (!column.command && (column.field || cell.attr('data-' + kendo.ns + 'field'))) {\n                            menu = cell.data('kendoColumnMenu');\n                            if (menu) {\n                                menu.destroy();\n                            }\n                            sortable = column.sortable !== false && columnMenu.sortable !== false && options.sortable !== false ? extend({}, options.sortable, { compare: (column.sortable || {}).compare }) : false;\n                            filterable = options.filterable && column.filterable !== false && columnMenu.filterable !== false ? extend({ pane: that.pane }, options.filterable, column.filterable) : false;\n                            if (column.filterable && column.filterable.dataSource) {\n                                filterable.forceUnique = false;\n                                filterable.checkSource = column.filterable.dataSource;\n                            }\n                            if (filterable) {\n                                filterable.format = column.format;\n                            }\n                            menuOptions = {\n                                dataSource: that.dataSource,\n                                values: column.values,\n                                columns: columnMenu.columns,\n                                sortable: sortable,\n                                filterable: filterable,\n                                messages: columnMenu.messages,\n                                owner: that,\n                                closeCallback: closeCallback,\n                                init: initCallback,\n                                open: openCallback,\n                                stick: stickCallback,\n                                unstick: unstickCallback,\n                                pane: that.pane,\n                                sort: sortHandler,\n                                filtering: filterHandler,\n                                filter: isMobile ? ':not(.k-column-active)' : '',\n                                hasLockableColumns: lockedColumns(columns).length > 0 && hasLockableColumns && !hasMultiColumnHeaders,\n                                hasStickableColumns: hasStickableColumns && !hasMultiColumnHeaders,\n                                encodeTitles: that.options.encodeTitles,\n                                componentType: columnMenu.componentType\n                            };\n                            if ($angular) {\n                                menuOptions.$angular = $angular;\n                            }\n                            cell.kendoColumnMenu(menuOptions);\n                        }\n                    }\n                }\n            },\n            _headerCells: function () {\n                return $(this.thead).find('th').filter(function () {\n                    var th = $(this);\n                    return !th.hasClass('k-group-cell') && !th.hasClass('k-hierarchy-cell');\n                });\n            },\n            _filterable: function () {\n                var that = this, columns = leafColumns(that.columns), filterMenu, cells, cell, filterInit = function (e) {\n                        that.trigger(FILTERMENUINIT, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, closeCallback = function (element) {\n                        focusTable(element.closest('table'), true);\n                    }, filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    }, filterOpen = function (e) {\n                        that.trigger(FILTERMENUOPEN, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, filterable = that.options.filterable;\n                if (filterable && typeof filterable.mode == STRING && filterable.mode.indexOf('menu') == -1) {\n                    filterable = false;\n                }\n                if (filterable && !that.options.columnMenu) {\n                    cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        cell = cells.eq(idx);\n                        if (columns[idx].filterable !== false && !columns[idx].command && (columns[idx].field || cell.attr('data-' + kendo.ns + 'field'))) {\n                            filterMenu = cell.data('kendoFilterMenu');\n                            if (filterMenu) {\n                                filterMenu.destroy();\n                            }\n                            filterMenu = cell.data('kendoFilterMultiCheck');\n                            if (filterMenu) {\n                                filterMenu.destroy();\n                            }\n                            var columnFilterable = columns[idx].filterable;\n                            var options = extend({}, filterable, columnFilterable, {\n                                dataSource: that.dataSource,\n                                values: columns[idx].values,\n                                format: columns[idx].format,\n                                closeCallback: closeCallback,\n                                title: columns[idx].title || columns[idx].field,\n                                init: filterInit,\n                                open: filterOpen,\n                                pane: that.pane,\n                                change: filterHandler\n                            });\n                            if (columnFilterable && columnFilterable.messages) {\n                                options.messages = extend(true, {}, filterable.messages, columnFilterable.messages);\n                            }\n                            if (columnFilterable && columnFilterable.dataSource) {\n                                options.forceUnique = false;\n                                options.checkSource = columnFilterable.dataSource;\n                            }\n                            if (columnFilterable && columnFilterable.multi) {\n                                cell.kendoFilterMultiCheck(options);\n                            } else {\n                                cell.kendoFilterMenu(options);\n                            }\n                        }\n                    }\n                }\n            },\n            _filterRow: function () {\n                var that = this;\n                if (!that._hasFilterRow()) {\n                    return;\n                }\n                var settings;\n                var $angular = that.options.$angular;\n                var columns = leafColumns(that.columns), filterable = that.options.filterable, rowheader = that.thead.find('.k-filter-row'), filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    };\n                this._updateHeader(this.dataSource.group().length);\n                for (var i = 0; i < columns.length; i++) {\n                    var suggestDataSource, col = columns[i], operators = that.options.filterable.operators, customDataSource = false, th = $('<th/>'), field = col.field;\n                    if (col.hidden) {\n                        th.hide();\n                    }\n                    rowheader.append(th);\n                    if (field && col.filterable !== false) {\n                        var cellOptions = col.filterable && col.filterable.cell || {};\n                        suggestDataSource = that.options.dataSource;\n                        if (suggestDataSource instanceof DataSource) {\n                            suggestDataSource = that.options.dataSource.options;\n                        }\n                        var messages = extend(true, {}, filterable.messages);\n                        if (col.filterable) {\n                            extend(true, messages, col.filterable.messages);\n                        }\n                        if (cellOptions.enabled === false) {\n                            th.html('&nbsp;');\n                            continue;\n                        }\n                        if (cellOptions.dataSource) {\n                            suggestDataSource = cellOptions.dataSource;\n                            customDataSource = true;\n                        }\n                        if (col.filterable && col.filterable.operators) {\n                            operators = col.filterable.operators;\n                        }\n                        settings = {\n                            column: col,\n                            dataSource: that.dataSource,\n                            suggestDataSource: suggestDataSource,\n                            customDataSource: customDataSource,\n                            field: field,\n                            messages: messages,\n                            values: col.values,\n                            template: cellOptions.template,\n                            delay: cellOptions.delay,\n                            inputWidth: cellOptions.inputWidth,\n                            suggestionOperator: cellOptions.suggestionOperator,\n                            minLength: cellOptions.minLength,\n                            dataTextField: cellOptions.dataTextField,\n                            operator: cellOptions.operator,\n                            operators: operators,\n                            showOperators: cellOptions.showOperators,\n                            change: filterHandler\n                        };\n                        if ($angular) {\n                            settings.$angular = $angular;\n                        }\n                        $('<span/>').attr(kendo.attr('field'), field).appendTo(th).kendoFilterCell(settings);\n                    } else {\n                        th.html('&nbsp;');\n                    }\n                }\n            },\n            _sortable: function () {\n                var that = this, columns = leafColumns(that.columns), column, sorterInstance, cell, sortable = that.options.sortable, sortHandler = function (e) {\n                        if (that.trigger('sort', { sort: e.sort })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                        }\n                    };\n                if (sortable) {\n                    var cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.sortable !== false && !column.command && column.field) {\n                            cell = cells.eq(idx);\n                            sorterInstance = cell.data('kendoColumnSorter');\n                            if (sorterInstance) {\n                                sorterInstance.destroy();\n                            }\n                            cell.attr('data-' + kendo.ns + 'field', column.field).kendoColumnSorter(extend({}, sortable, column.sortable, {\n                                dataSource: that.dataSource,\n                                aria: true,\n                                filter: ':not(.k-column-active)',\n                                change: sortHandler\n                            }));\n                        }\n                    }\n                    cells = null;\n                }\n            },\n            _columns: function (columns) {\n                var that = this, table = that.table, encoded, cols = table.find('col'), lockedCols, headerRows = that.element.find('thead tr'), dataSource = that.options.dataSource;\n                columns = columns.length ? columns : map(table.find('th:not(.k-group-cell):not(.k-hierarchy-cell)'), function (th, idx) {\n                    th = $(th);\n                    var sortable = th.attr(kendo.attr('sortable')), filterable = th.attr(kendo.attr('filterable')), type = th.attr(kendo.attr('type')), groupable = th.attr(kendo.attr('groupable')), field = th.attr(kendo.attr('field')), title = th.attr(kendo.attr('title')), menu = th.attr(kendo.attr('menu'));\n                    if (!field) {\n                        field = th.text().replace(/\\s|[^A-z0-9]/g, '');\n                    }\n                    return {\n                        field: field,\n                        type: type,\n                        title: title,\n                        sortable: sortable !== 'false',\n                        filterable: filterable !== 'false',\n                        groupable: groupable !== 'false',\n                        menu: menu,\n                        template: th.attr(kendo.attr('template')),\n                        width: cols.eq(idx).css('width')\n                    };\n                });\n                encoded = !(that.table.find('tbody tr').length > 0 && (!dataSource || !dataSource.transport));\n                if (that.options.scrollable) {\n                    var initialColumns = columns;\n                    lockedCols = lockedColumns(columns);\n                    columns = nonLockedColumns(columns);\n                    if (lockedCols.length > 0 && columns.length === 0) {\n                        throw new Error('There should be at least one non locked column');\n                    }\n                    normalizeHeaderCells(that.element.find('tr:has(th):first'), initialColumns);\n                    columns = lockedCols.concat(columns);\n                }\n                if (headerRows.length && columns.length) {\n                    that._updateColumnIDs(columns, headerRows.first());\n                }\n                that.columns = normalizeColumns(columns, encoded);\n                if ($.grep(leafColumns(that.columns), function (col) {\n                        return col.selectable;\n                    }).length) {\n                    that._selectedIds = {};\n                    that._checkBoxSelection = true;\n                    that.wrapper.on(CLICK + NS, 'tbody > tr ' + CHECKBOXINPUT, proxy(that._checkboxClick, that));\n                    that.wrapper.on(CLICK + NS, 'thead > tr ' + CHECKBOXINPUT, proxy(that._headerCheckboxClick, that));\n                }\n                that._foreignKeyBindings(that.columns);\n            },\n            _foreignKeyBindings: function (columns) {\n                var that = this;\n                var length = columns.length;\n                var column;\n                for (var i = 0; i < length; i++) {\n                    column = columns[i];\n                    if (column.dataSource) {\n                        that._fetchForeignKeyValues(column);\n                    }\n                }\n            },\n            _fetchForeignKeyValues: function (column) {\n                var that = this;\n                var promise = $.Deferred();\n                that._hasBoundForeignKey = true;\n                column.dataSource = DataSource.create(column.dataSource);\n                if (!that._foreignKeyPromises) {\n                    that._foreignKeyPromises = [];\n                }\n                that._foreignKeyPromises.push(promise);\n                column.dataSource.fetch().then(function () {\n                    var data = column.dataSource.data();\n                    column.values = data.map(function (item) {\n                        return {\n                            value: item[column.dataValueField],\n                            text: item[column.dataTextField]\n                        };\n                    });\n                    promise.resolve();\n                });\n            },\n            _updateColumnIDs: function (columns, tr) {\n                if (!columns.length) {\n                    return;\n                }\n                var ths = tr.find('th:not(.k-group-cell):not(.k-hierarchy-cell)');\n                var id;\n                for (var i = 0; i < columns.length; i++) {\n                    id = ths.eq(i).attr('id');\n                    if (id) {\n                        columns[i].headerAttributes = extend(columns[i].headerAttributes, { id: id });\n                    }\n                }\n                this._updateColumnIDs(childColumns(columns), tr.next());\n            },\n            _headerCheckboxClick: function (e) {\n                var that = this, checkBox = $(e.target), checked = checkBox.prop('checked'), parentGrid = checkBox.closest('.k-grid.k-widget').getKendoGrid();\n                if (that !== parentGrid) {\n                    return;\n                }\n                if (checked) {\n                    that.select(parentGrid.items());\n                } else {\n                    that.clearSelection();\n                }\n            },\n            _checkboxClick: function (e) {\n                var that = this, row = $(e.target).closest('tr'), isSelecting = !row.hasClass(SELECTED);\n                if (that !== row.closest('.k-grid.k-widget').getKendoGrid()) {\n                    return;\n                }\n                if (isSelecting) {\n                    that.select(row);\n                } else {\n                    that._deselectCheckRows(row);\n                }\n            },\n            _groups: function () {\n                var group = this.dataSource.group();\n                return group ? group.length : 0;\n            },\n            _tmpl: function (rowTemplate, columns, alt, skipGroupCells) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, idx, length = columns.length, template, state = {\n                        storage: {},\n                        count: 0\n                    }, column, type, hasDetails = that._hasDetails(), className = [], groups = that._groups(), navigatable = that.options.navigatable;\n                var fieldAttr = kendo.attr('field');\n                var field;\n                var dirtyCellTemplate = '';\n                if (!rowTemplate) {\n                    rowTemplate = '<tr';\n                    if (alt) {\n                        className.push('k-alt');\n                    }\n                    className.push('k-master-row');\n                    if (className.length) {\n                        rowTemplate += ' class=\"' + className.join(' ') + '\"';\n                    }\n                    if (length) {\n                        rowTemplate += ' ' + kendo.attr('uid') + '=\"#=' + kendo.expr('uid', settings.paramName) + '#\"';\n                    }\n                    rowTemplate += ' role=\\'row\\'>';\n                    if (groups > 0 && !skipGroupCells) {\n                        rowTemplate += groupCells(groups);\n                    }\n                    if (hasDetails) {\n                        rowTemplate += '<td class=\"k-hierarchy-cell\" aria-expanded=\"false\"><a class=\"k-icon k-i-expand\" href=\"\\\\#\" ' + ARIALABEL + '=\"' + EXPAND + '\" tabindex=\"-1\"></a></td>';\n                    }\n                    for (idx = 0; idx < length; idx++) {\n                        column = columns[idx];\n                        template = column.template;\n                        type = typeof template;\n                        field = column.field;\n                        if (that._editMode() === INCELL && field) {\n                            column.attributes = column.attributes || {};\n                            if (that.virtualScroll) {\n                                column.attributes[fieldAttr] = field;\n                            }\n                            dirtyCellTemplate = that._dirtyCellTemplate(field, paramName);\n                            column.attributes['class'] = column.attributes['class'] || '';\n                            if (column.attributes['class'].indexOf(dirtyCellTemplate) < 0) {\n                                column.attributes['class'] += dirtyCellTemplate;\n                            }\n                        }\n                        if (column.colSpan && column.colSpan > 0 && hasHiddenStyle(column.attributes)) {\n                            column.attributes = removeHiddenStyle(column.attributes);\n                        } else if (!column.colSpan && column.hidden) {\n                            column.attributes = addHiddenStyle(column.attributes);\n                        }\n                        if (column.command) {\n                            column.attributes = column.attributes || {};\n                            if (typeof column.attributes['class'] !== 'undefined') {\n                                column.attributes['class'] += ' k-command-cell';\n                            } else {\n                                column.attributes['class'] = 'k-command-cell';\n                            }\n                        }\n                        rowTemplate += '<td' + stringifyAttributes(column.attributes);\n                        if (navigatable) {\n                            rowTemplate += ' aria-describedby=\\'' + column.headerAttributes.id + '\\'';\n                        }\n                        if (column.colSpan) {\n                            if (column.colSpan > 1) {\n                                rowTemplate += ' ' + kendo.attr('virtual');\n                            }\n                            rowTemplate += ' colSpan=\\'' + column.colSpan + '\\'';\n                        }\n                        rowTemplate += ' role=\\'gridcell\\'>';\n                        rowTemplate += that._cellTmpl(column, state);\n                        rowTemplate += '</td>';\n                    }\n                    rowTemplate += '</tr>';\n                }\n                rowTemplate = kendo.template(rowTemplate, settings);\n                if (state.count > 0) {\n                    return proxy(rowTemplate, state.storage);\n                }\n                return rowTemplate;\n            },\n            _dirtyCellTemplate: function (field, paramName) {\n                var dirtyField;\n                if (field && paramName) {\n                    dirtyField = field.charAt(0) === '[' ? kendo.expr(field, paramName + '.dirtyFields') : paramName + '.dirtyFields[\\'' + field + '\\']';\n                    return '#= ' + paramName + ' && ' + paramName + '.dirty && ' + paramName + '.dirtyFields && ' + dirtyField + ' ? \\' k-dirty-cell\\' : \\'\\' #';\n                }\n                return '';\n            },\n            _headerCellText: function (column) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), template = column.headerTemplate, type = typeof template, text = column.title && (that.options.encodeTitles ? htmlEncode(column.title) : column.title) || column.field || '';\n                if (type === FUNCTION) {\n                    text = kendo.template(template, settings)({});\n                } else if (type === STRING) {\n                    text = template;\n                }\n                return text;\n            },\n            _cellTmpl: function (column, state) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), template = column.template, paramName = settings.paramName, field = column.field, html = '', idx, length, format = column.format, type = typeof template, columnValues = column.values;\n                if (column.command) {\n                    if (isArray(column.command)) {\n                        for (idx = 0, length = column.command.length; idx < length; idx++) {\n                            if (column.command[idx].visible) {\n                                html += kendo.format('#= {0}(data)? \\'{1}\\':\\'\\' #', column.command[idx].visible, that._createButton(column.command[idx]).replace(templateHashRegExp, '\\\\#').replace(/'/gi, '\\\\\\''));\n                            } else {\n                                html += that._createButton(column.command[idx]).replace(templateHashRegExp, '\\\\#');\n                            }\n                        }\n                        return html;\n                    }\n                    return that._createButton(column.command).replace(templateHashRegExp, '\\\\#');\n                }\n                if (column.selectable) {\n                    return SELECTCOLUMNTMPL;\n                }\n                html += that._dirtyIndicatorTemplate(field, paramName);\n                if (type === FUNCTION) {\n                    state.storage['tmpl' + state.count] = template;\n                    html += '#=this.tmpl' + state.count + '(' + paramName + ')#';\n                    state.count++;\n                } else if (type === STRING) {\n                    html += template;\n                } else if (columnValues && columnValues.length && isPlainObject(columnValues[0]) && 'value' in columnValues[0] && field) {\n                    html += '#var v =' + kendo.stringify(convertToObject(columnValues)).replace(templateHashRegExp, '\\\\#') + '#';\n                    html += '#var f = v[';\n                    if (!settings.useWithBlock) {\n                        html += paramName + '.';\n                    }\n                    html += field + ']#';\n                    html += '${f != null ? f : \\'\\'}';\n                } else {\n                    html += column.encoded ? '#:' : '#=';\n                    if (format) {\n                        html += 'kendo.format(\"' + format.replace(formatRegExp, '\\\\$1') + '\",';\n                    }\n                    if (field) {\n                        field = kendo.expr(field, paramName);\n                        html += field + '==null?\\'\\':' + field;\n                    } else {\n                        html += '\\'\\'';\n                    }\n                    if (format) {\n                        html += ')';\n                    }\n                    html += '#';\n                }\n                return html;\n            },\n            _dirtyIndicatorTemplate: function (field, paramName) {\n                var dirtyField;\n                if (field && paramName) {\n                    dirtyField = field.charAt(0) === '[' ? kendo.expr(field, paramName + '.dirtyFields') : paramName + '.dirtyFields[\\'' + field + '\\']';\n                    return '#= ' + paramName + ' && ' + paramName + '.dirty && ' + paramName + '.dirtyFields && ' + dirtyField + ' ? \\'<span class=\"k-dirty\"></span>\\' : \\'\\' #';\n                }\n                return '';\n            },\n            _virtualCols: function (columns) {\n                var that = this;\n                var widths = $.map(columns, function (c) {\n                    return c.hidden ? 0 : parseInt(c.width, 10);\n                });\n                var scrollLeft = that.virtualScrollable ? kendo.scrollLeft(that.content.find('>.k-virtual-scrollable-wrap')) : kendo.scrollLeft(that.content);\n                var tableWidth = outerWidth(that.content);\n                var sumOfWidths = sumWidths(columns);\n                var colsToRender = [];\n                var firstColspan = 0;\n                var lastColspan = 0;\n                var hiddenColumns = 0;\n                var idx = 0;\n                var widthOfHiddenColumns = 0;\n                var considerNext;\n                for (idx = 0; idx < columns.length; idx++) {\n                    considerNext = idx < widths.length - 1 ? widths[idx + 1] : 0;\n                    if (widthOfHiddenColumns + widths[idx] + 2 * considerNext < scrollLeft) {\n                        if (widths[idx]) {\n                            hiddenColumns++;\n                        }\n                        widthOfHiddenColumns += widths[idx];\n                    } else {\n                        firstColspan = 1 + hiddenColumns;\n                        break;\n                    }\n                }\n                hiddenColumns = 0;\n                widthOfHiddenColumns = 0;\n                for (var i = columns.length - 1; i >= 0; i--) {\n                    if (widthOfHiddenColumns + 3 * widths[i] < sumOfWidths - tableWidth - scrollLeft) {\n                        if (widths[i]) {\n                            hiddenColumns++;\n                        }\n                        widthOfHiddenColumns += widths[i];\n                    } else {\n                        lastColspan = 1 + hiddenColumns;\n                        for (var j = idx; j <= i; j++) {\n                            if (columns[j].locked) {\n                                continue;\n                            }\n                            colsToRender.push(columns[j]);\n                            if (columns[j].colSpan) {\n                                delete columns[j].colSpan;\n                            }\n                        }\n                        colsToRender[0].colSpan = firstColspan;\n                        colsToRender[colsToRender.length - 1].colSpan = lastColspan;\n                        break;\n                    }\n                }\n                if (colsToRender[0].hidden) {\n                    colsToRender[0].colSpan--;\n                }\n                that.virtualCols = colsToRender;\n                return colsToRender;\n            },\n            _templates: function () {\n                var that = this, options = that.options, dataSource = that.dataSource, groups = dataSource.group(), footer = that.footer || that.wrapper.find('.k-grid-footer'), aggregates = dataSource.aggregate(), columnLeafs = leafColumns(that.columns), columnsLocked = leafColumns(lockedColumns(that.columns)), leafsCols = options.scrollable ? leafColumns(nonLockedColumns(that.columns)) : columnLeafs, columns = (that.virtualScroll || {}).columns ? that._virtualCols(leafsCols) : leafsCols, groupHeaderColumnTemplateLockedColumns = grep(visibleColumns(columnsLocked), function (column, index) {\n                        return column.groupHeaderColumnTemplate && index !== 0;\n                    }), groupHeaderColumnTemplateNonLockedColumns = grep(visibleColumns(columns), function (column) {\n                        return column.groupHeaderColumnTemplate;\n                    });\n                if (options.scrollable && columnsLocked.length) {\n                    if (options.rowTemplate || options.altRowTemplate) {\n                        throw new Error('Having both row template and locked columns is not supported');\n                    }\n                    that.rowTemplate = that._tmpl(options.rowTemplate, columns, false, true);\n                    that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true, true);\n                    that.lockedRowTemplate = that._tmpl(options.rowTemplate, columnsLocked);\n                    that.lockedAltRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columnsLocked, true);\n                } else {\n                    that.rowTemplate = that._tmpl(options.rowTemplate, columns);\n                    that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true);\n                }\n                if (that._hasDetails()) {\n                    that.detailTemplate = that._detailTmpl(options.detailTemplate || '');\n                }\n                if (that._group && !isEmptyObject(aggregates) || !isEmptyObject(aggregates) && !footer.length || grep(columnLeafs, function (column) {\n                        return column.footerTemplate;\n                    }).length) {\n                    that.footerTemplate = that._footerTmpl(columnLeafs, aggregates, 'footerTemplate', 'k-footer-template');\n                }\n                if (groups && grep(columnLeafs, function (column) {\n                        return column.groupFooterTemplate;\n                    }).length) {\n                    aggregates = $.map(groups, function (g) {\n                        return g.aggregates;\n                    });\n                    that.groupFooterTemplate = that._footerTmpl(columns, aggregates, 'groupFooterTemplate', 'k-group-footer', columnsLocked.length);\n                    if (options.scrollable && columnsLocked.length) {\n                        that.lockedGroupFooterTemplate = that._footerTmpl(columnsLocked, aggregates, 'groupFooterTemplate', 'k-group-footer');\n                    }\n                }\n                if (groups && (groupHeaderColumnTemplateLockedColumns.length || groupHeaderColumnTemplateNonLockedColumns.length)) {\n                    aggregates = $.map(groups, function (g) {\n                        return g.aggregates;\n                    });\n                    that.groupHeaderColumnTemplate = that._groupHeaderTmpl(visibleColumns(columns), aggregates, 'groupHeaderColumnTemplate', 'k-grouping-row', columnsLocked.length, groupHeaderColumnTemplateNonLockedColumns);\n                    if (options.scrollable && columnsLocked.length) {\n                        that.lockedGroupHeaderColumnTemplate = that._groupHeaderTmpl(visibleColumns(columnsLocked), aggregates, 'groupHeaderColumnTemplate', 'k-grouping-row', 0, groupHeaderColumnTemplateLockedColumns);\n                    }\n                } else {\n                    that.groupHeaderColumnTemplate = null;\n                    that.lockedGroupHeaderColumnTemplate = null;\n                }\n                if (that.options.noRecords) {\n                    that.noRecordsTemplate = that._noRecordsTmpl();\n                }\n            },\n            _noRecordsTmpl: function () {\n                var wrapper = '<div class=\"{0}\">{1}</div>';\n                var defaultTemplate = '<div class=\"k-grid-norecords-template\"{1}>{0}</div>';\n                var scrollableNoGridHeightStyles = this.options.scrollable && !this.wrapper[0].style.height ? ' style=\"margin:0 auto;position:static;\"' : '';\n                var state = {\n                    storage: {},\n                    count: 0\n                };\n                var settings = $.extend({}, kendo.Template, this.options.templateSettings);\n                var paramName = settings.paramName;\n                var template;\n                var html = '';\n                var type;\n                var tmpl;\n                if (this.options.noRecords.template) {\n                    template = this.options.noRecords.template;\n                } else {\n                    template = kendo.format(defaultTemplate, this.options.messages.noRecords, scrollableNoGridHeightStyles);\n                }\n                type = typeof template;\n                if (type === 'function') {\n                    state.storage['tmpl' + state.count] = template;\n                    html += '#=this.tmpl' + state.count + '(' + paramName + ')#';\n                    state.count++;\n                } else if (type === 'string') {\n                    html += template;\n                }\n                tmpl = kendo.template(kendo.format(wrapper, NORECORDSCLASS, html), settings);\n                if (state.count > 0) {\n                    tmpl = $.proxy(tmpl, state.storage);\n                }\n                return tmpl;\n            },\n            _footerTmpl: function (columns, aggregates, templateName, rowClass, skipGroupCells) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, html = '', idx, length, template, type, storage = {}, count = 0, scope = {}, groups = that._groups(), fieldsMap = that.dataSource._emptyAggregates(aggregates), column;\n                html += '<tr class=\"' + rowClass + '\">';\n                if (groups > 0 && !skipGroupCells) {\n                    html += groupCells(groups);\n                }\n                if (that._hasDetails()) {\n                    html += '<td class=\"k-hierarchy-cell\">&nbsp;</td>';\n                }\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    template = column[templateName];\n                    type = typeof template;\n                    html += '<td' + stringifyAttributes(column.footerAttributes) + '>';\n                    if (template) {\n                        if (type !== FUNCTION) {\n                            scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + '[\\'' + column.field + '\\']' }) : {};\n                            template = kendo.template(template, scope);\n                        }\n                        storage['tmpl' + count] = template;\n                        html += '#=this.tmpl' + count + '(' + paramName + ')#';\n                        count++;\n                    } else {\n                        html += '&nbsp;';\n                    }\n                    html += '</td>';\n                }\n                html += '</tr>';\n                html = kendo.template(html, settings);\n                if (count > 0) {\n                    return proxy(html, storage);\n                }\n                return html;\n            },\n            _groupHeaderTmpl: function (columns, aggregates, templateName, rowClass, skipGroupCells, groupHeaderColumnTemplateColumns) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, html = '', idx, length, template, type, storage = {}, count = 0, scope = {}, fieldsMap = that.dataSource._emptyAggregates(aggregates), column, headerTemplateIndex = groupHeaderColumnTemplateColumns.length ? inArray(groupHeaderColumnTemplateColumns[0], columns) : -1, groupHeaderColumnTemplateClass;\n                html += '<tr role=\"row\" class=\"' + rowClass + '\">';\n                if (!skipGroupCells) {\n                    html += '# for (var i = 0; i < data.groupCells; i++) { #' + '<td class=\"k-group-cell\">' + '&nbsp;' + '</td>' + '# } #';\n                }\n                if (that._hasDetails()) {\n                    html += '<td class=\"k-hierarchy-cell\">&nbsp;</td>';\n                }\n                if (headerTemplateIndex < 0) {\n                    html += !skipGroupCells ? groupCellBuilder(columns.length) : '';\n                    return;\n                }\n                if (headerTemplateIndex < MINCOLSPANVALUE && groupHeaderColumnTemplateColumns.length <= 1 && !skipGroupCells) {\n                    html += !skipGroupCells ? groupCellBuilder(columns.length) : '';\n                    return kendo.template(html, settings);\n                }\n                if (headerTemplateIndex < MINCOLSPANVALUE) {\n                    headerTemplateIndex = !skipGroupCells ? 1 : 0;\n                    html += !skipGroupCells ? groupCellBuilder(headerTemplateIndex) : '';\n                } else {\n                    html += !skipGroupCells ? groupCellBuilder(headerTemplateIndex) : groupCellLockedContentBuilder(headerTemplateIndex);\n                }\n                for (idx = headerTemplateIndex, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    template = column[templateName];\n                    type = typeof template;\n                    if (column.sticky) {\n                        groupHeaderColumnTemplateClass = column.groupHeaderColumnTemplateClass || '';\n                        if (!groupHeaderColumnTemplateClass) {\n                            groupHeaderColumnTemplateClass = column.groupHeaderColumnTemplateClass = 'group-header-column-template-' + kendo.guid();\n                        }\n                        html += '<td class=\\'' + STICKY_CELL_CLASS + ' ' + groupHeaderColumnTemplateClass + '\\' style=\\'' + (column.stickyStyle || '') + '\\'>';\n                    } else {\n                        html += '<td>';\n                    }\n                    if (template) {\n                        if (type !== FUNCTION) {\n                            scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + '[\\'' + column.field + '\\']' }) : {};\n                            template = kendo.template(template, scope);\n                        }\n                        storage['tmpl' + count] = template;\n                        html += '#=this.tmpl' + count + '(' + paramName + ')#';\n                        count++;\n                    } else {\n                        html += '&nbsp;';\n                    }\n                    html += '</td>';\n                }\n                html += '</tr>';\n                html = kendo.template(html, settings);\n                if (count > 0) {\n                    return proxy(html, storage);\n                }\n                return html;\n            },\n            _detailTmpl: function (template) {\n                var that = this, html = '', settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, templateFunctionStorage = {}, templateFunctionCount = 0, groups = that._groups(), colspan = visibleColumns(leafColumns(that.columns)).length, type = typeof template;\n                html += '<tr class=\"k-detail-row\">';\n                if (groups > 0) {\n                    html += groupCells(groups);\n                }\n                html += '<td class=\"k-hierarchy-cell\"></td><td class=\"k-detail-cell\"' + (colspan ? ' colspan=\"' + colspan + '\"' : '') + '>';\n                if (type === FUNCTION) {\n                    templateFunctionStorage['tmpl' + templateFunctionCount] = template;\n                    html += '#=this.tmpl' + templateFunctionCount + '(' + paramName + ')#';\n                    templateFunctionCount++;\n                } else {\n                    html += template;\n                }\n                html += '</td></tr>';\n                html = kendo.template(html, settings);\n                if (templateFunctionCount > 0) {\n                    return proxy(html, templateFunctionStorage);\n                }\n                return html;\n            },\n            _hasDetails: function () {\n                var that = this;\n                return that.options.detailTemplate !== null || (that._events[DETAILINIT] || []).length;\n            },\n            _hasFilterRow: function () {\n                var filterable = this.options.filterable;\n                var hasFiltering = filterable && typeof filterable.mode == STRING && filterable.mode.indexOf('row') != -1;\n                var columns = this.columns;\n                var columnsWithoutFiltering = $.grep(columns, function (col) {\n                    return col.filterable === false;\n                });\n                if (columns.length && columnsWithoutFiltering.length == columns.length) {\n                    hasFiltering = false;\n                }\n                return hasFiltering;\n            },\n            _details: function () {\n                var that = this;\n                if (that.options.scrollable && that._hasDetails() && lockedColumns(that.columns).length) {\n                    throw new Error('Having both detail template and locked columns is not supported');\n                }\n                that.table.on(CLICK + NS, '.k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse', function (e) {\n                    var button = $(this);\n                    that._toggleDetails(button);\n                    e.preventDefault();\n                    return false;\n                });\n            },\n            _toggleDetails: function (button, omitAnimation) {\n                var that = this, cell = button.closest('td.k-hierarchy-cell'), expanding = button.hasClass('k-i-expand'), masterRow = button.closest('tr.k-master-row'), detailRow, detailTemplate = that.detailTemplate, data, hasDetails = that._hasDetails(), ariaLabelText = expanding ? COLLAPSE : EXPAND, ariaExpandText = expanding ? true : false;\n                button.toggleClass('k-i-expand', !expanding).toggleClass('k-i-collapse', expanding).attr(ARIALABEL, ariaLabelText);\n                cell.attr('aria-expanded', ariaExpandText);\n                detailRow = masterRow.next();\n                if (hasDetails && !detailRow.hasClass('k-detail-row')) {\n                    data = that.dataItem(masterRow);\n                    detailRow = $(detailTemplate(data)).addClass(masterRow.hasClass('k-alt') ? 'k-alt' : '').insertAfter(masterRow);\n                    that.angular('compile', function () {\n                        return {\n                            elements: detailRow.get(),\n                            data: [{ dataItem: data }]\n                        };\n                    });\n                    that.trigger(DETAILINIT, {\n                        masterRow: masterRow,\n                        detailRow: detailRow,\n                        data: data,\n                        detailCell: detailRow.find('.k-detail-cell')\n                    });\n                }\n                that.trigger(expanding ? DETAILEXPAND : DETAILCOLLAPSE, {\n                    masterRow: masterRow,\n                    detailRow: detailRow\n                });\n                if (omitAnimation) {\n                    toggleRow(detailRow, expanding);\n                } else {\n                    detailRow.toggle(expanding);\n                }\n            },\n            dataItem: function (tr) {\n                tr = $(tr)[0];\n                if (!tr) {\n                    return null;\n                }\n                var rows = this.tbody.children(), classesRegEx = /k-grouping-row|k-detail-row|k-group-footer/, idx = tr.sectionRowIndex, j, correctIdx;\n                correctIdx = idx;\n                for (j = 0; j < idx; j++) {\n                    if (classesRegEx.test(rows[j].className)) {\n                        correctIdx--;\n                    }\n                }\n                return this._data[correctIdx];\n            },\n            expandRow: function (tr, omitAnimation) {\n                var button = $(tr).find('> td .k-i-expand');\n                if (button.length) {\n                    this._toggleDetails(button, omitAnimation);\n                }\n            },\n            collapseRow: function (tr, omitAnimation) {\n                var button = $(tr).find('> td .k-i-collapse');\n                if (button.length) {\n                    this._toggleDetails(button, omitAnimation);\n                }\n            },\n            _createHeaderCells: function (columns, rowSpan) {\n                var that = this, idx, th, text, html = '', length, title, messages = that.options.messages, leafs = leafColumns(that.columns), groups = that.dataSource.group(), field;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    th = columns[idx].column || columns[idx];\n                    text = that._headerCellText(th);\n                    field = '';\n                    var index = inArray(th, leafs);\n                    if (th.selectable) {\n                        html += '<th scope=\\'col\\'' + stringifyAttributes(th.headerAttributes);\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        text = th.headerTemplate ? text : kendo.template(SELECTCOLUMNHEADERTMPL)({});\n                        html += '>' + text + '</th>';\n                    } else if (th.command) {\n                        html += '<th scope=\\'col\\'' + stringifyAttributes(th.headerAttributes);\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        html += '>' + text + '</th>';\n                    } else {\n                        if (th.field) {\n                            field = kendo.attr('field') + '=\\'' + th.field + '\\' ';\n                        }\n                        html += '<th scope=\\'col\\' role=\\'columnheader\\' ' + field;\n                        html += ' aria-haspopup=\\'true\\'';\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (columns[idx].colSpan > 1) {\n                            html += 'colspan=\"' + (columns[idx].colSpan - hiddenLeafColumnsCount(th.columns)) + '\" ';\n                            html += kendo.attr('colspan') + '=\\'' + columns[idx].colSpan + '\\'';\n                        } else if (columns[idx].colSpan === 1) {\n                            html += kendo.attr('colspan') + '=\\'' + columns[idx].colSpan + '\\'';\n                        }\n                        if (th.title) {\n                            title = th.title && (that.options.encodeTitles ? htmlEncode(th.title, true) : th.title);\n                            html += kendo.attr('title') + '=\"' + title + '\" ';\n                        }\n                        if (th.groupable !== undefined) {\n                            html += kendo.attr('groupable') + '=\\'' + th.groupable + '\\' ';\n                        }\n                        if (isColumnGroupable(that, th)) {\n                            html += 'aria-label=\\'' + (title || th.field) + ' ';\n                            html += isGroupedBy(groups, th.field) ? messages.ungroupHeader : messages.groupHeader;\n                            html += '\\' ';\n                        }\n                        if (th.aggregates && th.aggregates.length) {\n                            html += kendo.attr('aggregates') + '=\\'' + th.aggregates + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        html += stringifyAttributes(th.headerAttributes);\n                        html += '>' + text + '</th>';\n                    }\n                }\n                return html;\n            },\n            _appendLockedColumnContent: function () {\n                var columns = this.columns, idx, colgroup = this.table.find('colgroup'), cols = colgroup.find('col:not(.k-group-col,.k-hierarchy-col)'), length, lockedCols = $(), skipHiddenCount = 0, container, colSpan, spanIdx, colOffset = 0;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    if (columns[idx].locked) {\n                        if (isVisible(columns[idx])) {\n                            colSpan = 1;\n                            if (columns[idx].columns) {\n                                colSpan = leafColumns(columns[idx].columns).length - hiddenLeafColumnsCount(columns[idx].columns);\n                            }\n                            colSpan = colSpan || 1;\n                            for (spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                                lockedCols = lockedCols.add(cols.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                            }\n                            colOffset += colSpan - 1;\n                        } else {\n                            skipHiddenCount++;\n                        }\n                    }\n                }\n                container = $('<div class=\"k-grid-content-locked\"><table><colgroup></colgroup><tbody></tbody></table></div>');\n                colgroup.detach();\n                container.find('colgroup').append(lockedCols);\n                colgroup.insertBefore(this.table.find('tbody'));\n                this.lockedContent = container.insertBefore(this.content);\n                this.lockedTable = container.children('table');\n            },\n            _appendLockedColumnFooter: function () {\n                var that = this;\n                var footer = that.footer;\n                var cells = footer.find('.k-footer-template>td');\n                var cols = footer.find('.k-grid-footer-wrap>table>colgroup>col');\n                var html = $('<div class=\"k-grid-footer-locked\"><table><colgroup></colgroup><tbody><tr class=\"k-footer-template\"></tr></tbody></table></div>');\n                var idx, length;\n                var groups = that._groups();\n                var lockedCells = $(), lockedCols = $();\n                lockedCells = lockedCells.add(cells.filter('.k-group-cell'));\n                for (idx = 0, length = leafColumns(lockedColumns(that.columns)).length; idx < length; idx++) {\n                    lockedCells = lockedCells.add(cells.eq(idx + groups));\n                }\n                lockedCols = lockedCols.add(cols.filter('.k-group-col'));\n                for (idx = 0, length = visibleColumns(leafColumns(visibleLockedColumns(that.columns))).length; idx < length; idx++) {\n                    lockedCols = lockedCols.add(cols.eq(idx + groups));\n                }\n                lockedCells.appendTo(html.find('tr'));\n                lockedCols.appendTo(html.find('colgroup'));\n                that.lockedFooter = html.prependTo(footer);\n            },\n            _appendLockedColumnHeader: function (container) {\n                var that = this, columns = this.columns, idx, html, length, colgroup, tr, trFilter, table, header, filtercellCells, rows = [], skipHiddenCount = 0, cols = $(), hasFilterRow = that._hasFilterRow(), filterCellOffset = 0, filterCells = $(), cell, leafColumnsCount = 0, cells = $();\n                colgroup = that.thead.prev().find('col:not(.k-group-col,.k-hierarchy-col)');\n                header = that.thead.find('tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                filtercellCells = that.thead.find('.k-filter-row').find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var colOffset = 0;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    if (columns[idx].locked) {\n                        cell = header.eq(idx);\n                        leafColumnsCount = leafColumns(columns[idx].columns || []).length;\n                        if (isVisible(columns[idx])) {\n                            var colSpan = null;\n                            if (columns[idx].columns) {\n                                colSpan = leafColumnsCount - hiddenLeafColumnsCount(columns[idx].columns);\n                            }\n                            colSpan = colSpan || 1;\n                            for (var spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                                cols = cols.add(colgroup.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                            }\n                            colOffset += colSpan - 1;\n                        }\n                        mapColumnToCellRows([columns[idx]], childColumnsCells(cell), rows, 0, 0);\n                        leafColumnsCount = leafColumnsCount || 1;\n                        for (var j = 0; j < leafColumnsCount; j++) {\n                            filterCells = filterCells.add(filtercellCells.eq(filterCellOffset + j));\n                        }\n                        filterCellOffset += leafColumnsCount;\n                    }\n                    if (columns[idx].columns) {\n                        skipHiddenCount += hiddenLeafColumnsCount(columns[idx].columns);\n                    }\n                    if (!isVisible(columns[idx])) {\n                        skipHiddenCount++;\n                    }\n                }\n                if (rows.length) {\n                    html = '<div class=\"k-grid-header-locked\" style=\"width:1px\"><table><colgroup></colgroup><thead>';\n                    html += new Array(rows.length + 1).join('<tr></tr>');\n                    html += (hasFilterRow ? '<tr class=\"k-filter-row\"></tr>' : '') + '</thead></table></div>';\n                    table = $(html);\n                    colgroup = table.find('colgroup');\n                    colgroup.append(that.thead.prev().find('col.k-group-col').add(cols));\n                    tr = table.find('thead tr:not(.k-filter-row)');\n                    for (idx = 0, length = rows.length; idx < length; idx++) {\n                        cells = toJQuery(rows[idx]);\n                        tr.eq(idx).append(that.thead.find('tr:eq(' + idx + ') .k-group-cell').add(cells));\n                    }\n                    var count = removeEmptyRows(this.thead);\n                    if (rows.length < count) {\n                        removeRowSpanValue(table, count - rows.length);\n                    }\n                    trFilter = table.find('.k-filter-row');\n                    trFilter.append(that.thead.find('.k-filter-row .k-group-cell').add(filterCells));\n                    this.lockedHeader = table.prependTo(container);\n                    this.thead.find('.k-group-cell').remove();\n                    return true;\n                }\n                return false;\n            },\n            _removeLockedContainers: function () {\n                var elements = this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);\n                kendo.destroy(elements);\n                elements.off(NS).remove();\n                this.lockedHeader = this.lockedContent = this.lockedFooter = null;\n                this.selectable = null;\n            },\n            _thead: function () {\n                var that = this, columns = that.columns, hasDetails = that._hasDetails() && columns.length, hasFilterRow = that._hasFilterRow(), idx, html = '', thead = that.table.find('>thead'), hasTHead = that.element.find('thead:first').length > 0, headerContent = that.options.messages.expandCollapseColumnHeader, tr;\n                if (!thead.length) {\n                    thead = $('<thead/>').insertBefore(that.tbody);\n                }\n                if (that.lockedHeader && that.thead) {\n                    tr = that.thead.find('tr:has(th):not(.k-filter-row)').html('');\n                    tr.remove();\n                    tr = $();\n                    that._removeLockedContainers();\n                } else if (hasTHead) {\n                    tr = that.element.find('thead:first tr:has(th):not(.k-filter-row)');\n                } else {\n                    tr = that.element.find('tr:has(th):first');\n                }\n                if (!tr.length) {\n                    tr = thead.children().first();\n                    if (!tr.length) {\n                        var rows = [{\n                                rowSpan: 1,\n                                cells: [],\n                                index: 0\n                            }];\n                        that._prepareColumns(rows, columns);\n                        for (idx = 0; idx < rows.length; idx++) {\n                            html += '<tr>';\n                            if (hasDetails) {\n                                html += '<th class=\"k-hierarchy-cell\" scope=\"col\">' + headerContent + '</th>';\n                            }\n                            html += that._createHeaderCells(rows[idx].cells, rows[idx].rowSpan);\n                            html += '</tr>';\n                        }\n                        tr = $(html);\n                    }\n                } else {\n                    for (idx = 0; idx < columns.length; idx++) {\n                        var columnIndex = inArray(columns[idx], leafColumns(columns));\n                        var cell = leafDataCells(tr.parent()).filter('th:not(.k-group-cell):not(.k-hierarchy-cell)').eq(columnIndex);\n                        if (columns[idx].hidden && columnIndex >= 0) {\n                            cell[0].style.display = 'none';\n                        }\n                    }\n                    that._updateHeadersAttr(childColumns(columns));\n                }\n                if (hasFilterRow) {\n                    var filterRow = $('<tr/>');\n                    filterRow.addClass('k-filter-row');\n                    if (hasDetails || tr.find('.k-hierarchy-cell').length) {\n                        filterRow.prepend('<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>');\n                    }\n                    var existingFilterRow = (that.thead || thead).find('.k-filter-row');\n                    if (existingFilterRow.length) {\n                        kendo.destroy(existingFilterRow);\n                        existingFilterRow.remove();\n                    }\n                    thead.append(filterRow);\n                }\n                if (!tr.children().length) {\n                    html = '';\n                    if (hasDetails) {\n                        html += '<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>';\n                    }\n                    html += that._createHeaderCells(columns);\n                    tr.html(html);\n                } else if (hasDetails && !tr.find('.k-hierarchy-cell')[0]) {\n                    tr.prepend('<th class=\"k-hierarchy-cell\" scope=\"col\">' + (headerContent ? headerContent : '&nbsp;') + '</th>');\n                }\n                tr.attr('role', 'row').find('th').addClass('k-header');\n                if (!that.options.scrollable) {\n                    thead.addClass('k-grid-header');\n                }\n                tr.find('script').remove().end().prependTo(thead);\n                if (that.thead) {\n                    that._destroyColumnAttachments();\n                }\n                this.angular('cleanup', function () {\n                    return { elements: thead.find('th' + NAVCELL).get() };\n                });\n                this.angular('compile', function () {\n                    return {\n                        elements: thead.find(HEADERCELLS).get(),\n                        data: map(columns, function (col) {\n                            return { column: col };\n                        })\n                    };\n                });\n                that.thead = thead.attr('role', 'rowgroup');\n                that._sortable();\n                that._filterable();\n                that._filterRow();\n                that._scrollable();\n                that._columnMenu();\n                var syncHeight;\n                var hasLockedColumns = this.options.scrollable && lockedColumns(this.columns).length;\n                if (hasLockedColumns) {\n                    syncHeight = that._appendLockedColumnHeader(that.thead.closest('.k-grid-header'));\n                    that._appendLockedColumnContent();\n                    that.lockedContent.bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(that._wheelScroll, that));\n                    if (kendo.support.touch) {\n                        that._lockedContentUserEvents = new kendo.UserEvents(that.lockedContent, {\n                            move: function (e) {\n                                that.content.scrollTop(that.content.scrollTop() + -e.y.delta);\n                                e.preventDefault();\n                            }\n                        });\n                    }\n                    that._updateLockedCols();\n                }\n                that._updateCols();\n                that._updateColumnCellIndex();\n                that._updateFirstColumnClass();\n                that._resizable();\n                that._draggable();\n                that._reorderable();\n                that._updateHeader(that._groups());\n                that._updateStickyColumns();\n                if (hasLockedColumns) {\n                    if (syncHeight) {\n                        that._syncLockedHeaderHeight();\n                    }\n                    that._applyLockedContainersWidth();\n                }\n                if (that.groupable) {\n                    that._attachGroupable();\n                }\n            },\n            _retrieveFirstColumn: function (columns, rows) {\n                var result = $();\n                if (rows.length && columns[0]) {\n                    var column = columns[0];\n                    while (column.columns && column.columns.length) {\n                        column = column.columns[0];\n                        rows = rows.filter(':not(:first())');\n                    }\n                    result = result.add(rows);\n                }\n                return result;\n            },\n            _updateFirstColumnClass: function () {\n                var that = this, columns = that.columns || [], hasDetails = that._hasDetails() && columns.length;\n                if (!hasDetails && !that._groups()) {\n                    var tr = that.thead.find('>tr:not(.k-filter-row):not(:first)');\n                    columns = nonLockedColumns(columns);\n                    var rows = that._retrieveFirstColumn(columns, tr);\n                    if (that._isLocked()) {\n                        tr = that.lockedHeader.find('thead>tr:not(.k-filter-row):not(:first)');\n                        columns = lockedColumns(that.columns);\n                        rows = rows.add(that._retrieveFirstColumn(columns, tr));\n                    }\n                    rows.each(function () {\n                        var ths = $(this).find('th');\n                        ths.removeClass('k-first');\n                        ths.eq(0).addClass('k-first');\n                    });\n                }\n            },\n            _prepareColumns: function (rows, columns, parentCell, parentRow) {\n                var row = parentRow || rows[rows.length - 1];\n                var childRow = rows[row.index + 1];\n                var totalColSpan = 0;\n                for (var idx = 0; idx < columns.length; idx++) {\n                    var cell = {\n                        column: columns[idx],\n                        colSpan: 0\n                    };\n                    row.cells.push(cell);\n                    if (columns[idx].columns && columns[idx].columns.length) {\n                        if (!childRow) {\n                            childRow = {\n                                rowSpan: 0,\n                                cells: [],\n                                index: rows.length\n                            };\n                            rows.push(childRow);\n                        }\n                        cell.colSpan = columns[idx].columns.length;\n                        this._prepareColumns(rows, columns[idx].columns, cell, childRow);\n                        totalColSpan += cell.colSpan - 1;\n                        row.rowSpan = rows.length - row.index;\n                    }\n                }\n                if (parentCell) {\n                    parentCell.colSpan += totalColSpan;\n                }\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var content = this.content;\n                if (this.virtualScroll && this.virtualScroll.rows) {\n                    content = this.virtualScrollable.verticalScrollbar;\n                }\n                var scrollTop = content.scrollTop(), delta = kendo.wheelDeltaY(e);\n                if (delta) {\n                    if (content[0].scrollHeight > content[0].clientHeight && (content[0].scrollTop < content[0].scrollHeight - content[0].clientHeight && delta < 0 || content[0].scrollTop > 0 && delta > 0)) {\n                        e.preventDefault();\n                    }\n                    content.scrollTop(scrollTop + -delta);\n                }\n            },\n            _isLocked: function () {\n                return this.lockedHeader != null;\n            },\n            _updateHeaderCols: function () {\n                var table = this.thead.parent().add(this.table);\n                if (this._isLocked()) {\n                    normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n                } else {\n                    normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), 0);\n                }\n            },\n            _updateColumnSorters: function () {\n                var that = this;\n                var cells = leafDataCells(that.thead);\n                var columns = leafColumns(that.columns);\n                var column;\n                var cell;\n                var sorterInstance;\n                if (!that.options.sortable) {\n                    return;\n                }\n                for (var idx = 0, length = cells.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (column.sortable !== false && !column.command && column.field) {\n                        cell = cells.eq(idx);\n                        sorterInstance = cell.data('kendoColumnSorter');\n                        if (sorterInstance) {\n                            sorterInstance.refresh();\n                        }\n                    }\n                }\n            },\n            _updateHeadersAttr: function (columns) {\n                if (!columns.length) {\n                    return;\n                }\n                var that = this;\n                for (var i = 0; i < columns.length; i++) {\n                    if (columns[i].headerAttributes) {\n                        var th = that.element.find('[id=\\'' + columns[i].headerAttributes.id + '\\']');\n                        th.attr('headers', columns[i].headerAttributes.headers);\n                    }\n                }\n                that._updateHeadersAttr(childColumns(columns));\n            },\n            _updateCols: function (table) {\n                table = table || this.thead.parent().add(this.table);\n                this._appendCols(table, this._isLocked());\n            },\n            _updateLockedCols: function (table) {\n                if (this._isLocked()) {\n                    table = table || this.lockedHeader.find('table').add(this.lockedTable);\n                    normalizeCols(table, visibleLeafColumns(visibleLockedColumns(this.columns)), this._hasDetails(), this._groups());\n                }\n            },\n            _appendCols: function (table, locked) {\n                if (locked) {\n                    normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n                } else {\n                    normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), this._groups());\n                }\n            },\n            _autoColumns: function (schema) {\n                if (schema && schema.toJSON) {\n                    var that = this, field, encoded;\n                    schema = schema.toJSON();\n                    encoded = !(that.table.find('tbody tr').length > 0 && (!that.dataSource || !that.dataSource.transport));\n                    for (field in schema) {\n                        that.columns.push({\n                            field: field,\n                            encoded: encoded,\n                            headerAttributes: { id: kendo.guid() }\n                        });\n                    }\n                    that._thead();\n                    that._templates();\n                }\n            },\n            _rowsHtml: function (data, templates) {\n                var that = this, html = '', idx, rowTemplate = templates.rowTemplate, altRowTemplate = templates.altRowTemplate, length;\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    if (that._skipRerenderItemsCount > 0) {\n                        that._skipRerenderItemsCount--;\n                    } else {\n                        if (idx % 2) {\n                            html += altRowTemplate(data[idx]);\n                        } else {\n                            html += rowTemplate(data[idx]);\n                        }\n                    }\n                    that._data.push(data[idx]);\n                }\n                return html;\n            },\n            _groupData: function (group, skipFooter, firstColumn) {\n                var that = this, footerDefaults = that._groupAggregatesDefaultObject || {}, groupItems = group.items, aggregates = extend({}, footerDefaults, group.aggregates), headerData = extend({}, {\n                        field: group.field,\n                        value: group.value,\n                        items: groupItems,\n                        aggregates: aggregates\n                    }, group.aggregates[firstColumn ? firstColumn.field : group.field]), footerData = {};\n                if (!skipFooter) {\n                    for (var aggregate in aggregates) {\n                        footerData[aggregate] = extend({}, aggregates[aggregate], {\n                            group: {\n                                field: group.field,\n                                value: group.value,\n                                items: groupItems\n                            }\n                        });\n                    }\n                }\n                return extend({}, footerData, headerData);\n            },\n            _removeGroupIfEmpty: function (row) {\n                var that = this, itemsCount, subgroupsCount, length = that.dataSource._group.length;\n                for (var i = 0; i < length; i++) {\n                    row = row.prev();\n                    itemsCount = +row.attr('data-group-item-count');\n                    subgroupsCount = +row.attr('data-sub-group-count');\n                    if (itemsCount == 1 || subgroupsCount == 1) {\n                        row.hide();\n                    }\n                }\n            },\n            _groupRowHtml: function (group, colspan, level, groupHeaderBuilder, templates, skipColspan, skipLastGroup) {\n                var that = this, html = '', idx, length, field = group.field, column = grep(leafColumns(that.columns), function (column) {\n                        return column.field == field;\n                    })[0] || {}, firstColumn = visibleColumns(that.columns)[0], firstVisibleColumnGroupHeaderTemplate = firstColumn ? firstColumn.groupHeaderColumnTemplate : null, template = column.groupHeaderTemplate ? column.groupHeaderTemplate : firstVisibleColumnGroupHeaderTemplate, text = (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || field) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded), groupItems = group.currentItems || group.items, groups = that._groups(), groupFooterTemplate = templates.groupFooterTemplate, groupHeaderColumnTemplate = templates.groupHeaderColumnTemplate, groupData, expanded = that.dataSource._isGroupPaged() ? that.dataSource._groupsState[group.uid] : true;\n                if (that.options.editable && group.items && group.items[0] && group.items[0].isNew && group.items[0].isNew()) {\n                    expanded = true;\n                }\n                if (templates.groupFooterTemplate || templates.groupHeaderColumnTemplate || column.groupHeaderTemplate) {\n                    groupData = that._groupData(group, false, !column.groupHeaderTemplate && visibleColumns(that.columns)[0].groupHeaderColumnTemplate ? visibleColumns(that.columns)[0] : false);\n                }\n                if (template && !skipColspan) {\n                    text = typeof template === FUNCTION ? template(groupData) : kendo.template(template)(groupData);\n                }\n                if (!that._skipRerenderItemsCount) {\n                    if (groupHeaderColumnTemplate) {\n                        if (!group.excludeHeader) {\n                            html += groupHeaderColumnTemplate(extend({}, groupData, {\n                                groupCells: level,\n                                colspan: groups - level,\n                                text: text\n                            }));\n                        } else {\n                            group.excludeHeader = false;\n                        }\n                    } else {\n                        if (!group.excludeHeader) {\n                            html += groupHeaderBuilder(colspan, level, text, expanded, group.uid, that.dataSource._isGroupPaged());\n                        } else {\n                            group.excludeHeader = false;\n                        }\n                    }\n                } else {\n                    groupHeaderBuilder(colspan, level, text, expanded, group.uid, that.dataSource._isGroupPaged());\n                }\n                if (expanded) {\n                    if (group.hasSubgroups) {\n                        for (idx = 0, length = groupItems.length; idx < length; idx++) {\n                            html += that._groupRowHtml(groupItems[idx], skipColspan ? colspan : colspan - 1, level + 1, groupHeaderBuilder, templates, skipColspan, skipLastGroup && idx === groupItems.length - 1);\n                        }\n                    } else {\n                        html += that._rowsHtml(groupItems, templates);\n                    }\n                }\n                if (groupFooterTemplate) {\n                    if (skipLastGroup) {\n                        if (!inArray(group.value, that._skippedGroups)) {\n                            that._skippedGroups.push(group.value);\n                        }\n                    } else {\n                        if (that._skippedGroups.length && that._skippedGroups[0] === group.value) {\n                            that._skippedGroups.shift();\n                        }\n                        if (!that._skipRerenderItemsCount) {\n                            html += groupFooterTemplate(groupData);\n                        }\n                    }\n                }\n                return html;\n            },\n            collapseGroup: function (group) {\n                var level, that = this, groupToCollapse = group, groupable = this.options.groupable, showFooter = groupable.showFooter, footerCount = showFooter ? 0 : 1, offset, relatedGroup = $(), idx, length, tr;\n                group = $(group);\n                level = group.find('.k-group-cell').length;\n                if (this.dataSource._isGroupPaged()) {\n                    var groupUid = group.attr('data-group-uid');\n                    var groupObject = that.dataSource._getGroupByUid(groupUid);\n                    var currentGroupCount = that.dataSource._calculateGroupsTotal([groupObject], true);\n                    var groupCountAfterCollapse;\n                    that.dataSource._groupsState[groupUid] = false;\n                    groupCountAfterCollapse = that.dataSource._calculateGroupsTotal([groupObject], true);\n                    that.dataSource._serverGroupsTotal -= currentGroupCount - groupCountAfterCollapse;\n                    that._progress(true);\n                    that.dataSource.range(that.dataSource._currentRangeStart, that.dataSource.take(), function () {\n                        that._progress(false);\n                    }, 'collapseGroup');\n                    return;\n                }\n                if (this._isLocked()) {\n                    if (!group.closest('div').hasClass('k-grid-content-locked')) {\n                        relatedGroup = group.nextAll('tr');\n                        group = this.lockedTable.find('>tbody>tr:eq(' + group.index() + ')');\n                    } else {\n                        relatedGroup = this.tbody.children('tr:eq(' + group.index() + ')').nextAll('tr');\n                    }\n                }\n                group.find('.k-i-collapse').addClass('k-i-expand').removeClass('k-i-collapse');\n                group.find('td[aria-expanded=\\'true\\']:first').attr('aria-expanded', false).find('a').attr(ARIALABEL, EXPAND);\n                group = group.nextAll('tr');\n                var toHide = [];\n                for (idx = 0, length = group.length; idx < length; idx++) {\n                    tr = group.eq(idx);\n                    offset = tr.find('.k-group-cell').length;\n                    if (tr.hasClass('k-grouping-row')) {\n                        footerCount++;\n                    } else if (tr.hasClass('k-group-footer')) {\n                        footerCount--;\n                    }\n                    if (offset <= level || tr.hasClass('k-group-footer') && footerCount < 0) {\n                        break;\n                    }\n                    if (relatedGroup.length) {\n                        toHide.push(relatedGroup[idx]);\n                    }\n                    toHide.push(tr[0]);\n                }\n                $(toHide).hide();\n                if (this.options.scrollable.endless && this.content) {\n                    clearTimeout(that._collapseGroupsTimeOut);\n                    that._collapseGroupsTimeOut = setTimeout(function () {\n                        that.content.scroll();\n                        that._groupToCollapse = groupToCollapse;\n                    });\n                }\n            },\n            expandGroup: function (group) {\n                group = $(group);\n                var that = this, showFooter = that.options.groupable.showFooter, level, tr, offset, relatedGroup = $(), idx, length, footersVisibility = [], groupsCount = 1;\n                level = group.find('.k-group-cell').length;\n                if (this.dataSource._isGroupPaged()) {\n                    var groupUid = group.attr('data-group-uid');\n                    var groupObject = that.dataSource._getGroupByUid(groupUid);\n                    var groupCount = that.dataSource._calculateGroupsTotal([groupObject], true);\n                    var groupCountAfterExpand;\n                    that.dataSource._groupsState[groupUid] = true;\n                    if (groupObject.items && groupObject.items.length) {\n                        groupCountAfterExpand = that.dataSource._calculateGroupsTotal([groupObject], true);\n                        that.dataSource._serverGroupsTotal += groupCountAfterExpand - groupCount;\n                    }\n                    that._progress(true);\n                    that.dataSource.range(that.dataSource._currentRangeStart, that.dataSource.take(), function () {\n                        that._progress(false);\n                    }, 'expandGroup');\n                    return;\n                }\n                if (this._isLocked()) {\n                    if (!group.closest('div').hasClass('k-grid-content-locked')) {\n                        relatedGroup = group.nextAll('tr');\n                        group = this.lockedTable.find('>tbody>tr:eq(' + group.index() + ')');\n                    } else {\n                        relatedGroup = this.tbody.children('tr:eq(' + group.index() + ')').nextAll('tr');\n                    }\n                }\n                group.find('.k-i-expand').addClass('k-i-collapse').removeClass('k-i-expand');\n                group.find('td[aria-expanded=\\'false\\']:first').attr('aria-expanded', true).find('a').attr(ARIALABEL, COLLAPSE);\n                group = group.nextAll('tr');\n                for (idx = 0, length = group.length; idx < length; idx++) {\n                    tr = group.eq(idx);\n                    offset = tr.find('.k-group-cell').length;\n                    if (offset <= level) {\n                        break;\n                    }\n                    if (offset == level + 1 && !tr.hasClass('k-detail-row')) {\n                        tr.show();\n                        relatedGroup.eq(idx).show();\n                        if (tr.hasClass('k-grouping-row') && tr.find('.k-icon').hasClass('k-i-collapse')) {\n                            that.expandGroup(tr);\n                        }\n                        if (tr.hasClass('k-master-row') && tr.find('.k-icon').hasClass('k-i-collapse')) {\n                            tr.next().show();\n                            relatedGroup.eq(idx + 1).show();\n                        }\n                    }\n                    if (tr.hasClass('k-grouping-row')) {\n                        if (showFooter) {\n                            footersVisibility.push(tr.is(':visible'));\n                        }\n                        groupsCount++;\n                    }\n                    if (tr.hasClass('k-group-footer')) {\n                        if (showFooter) {\n                            var toggleVisibility = footersVisibility.pop();\n                            tr.toggle(toggleVisibility);\n                            relatedGroup.eq(idx).toggle(toggleVisibility);\n                        }\n                        if (groupsCount == 1) {\n                            tr.show();\n                            relatedGroup.eq(idx).show();\n                        } else {\n                            groupsCount--;\n                        }\n                    }\n                }\n                if (level === 0 && that.options.scrollable.endless && this._isLocked()) {\n                    that._syncLockedContentHeight();\n                }\n            },\n            _updateHeader: function (groups) {\n                var that = this, container = that._isLocked() ? that.lockedHeader.find('thead') : that.thead, filterCells = container.find('tr.k-filter-row').find('th.k-group-cell').length, length = container.find('tr:first').find('th.k-group-cell').length, rows = container.children('tr:not(:first)').filter(function () {\n                        return !$(this).children(':visible').length;\n                    });\n                if (groups > length) {\n                    $(new Array(groups - length + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">' + that.options.messages.expandCollapseColumnHeader + '</th>')).prependTo(container.children('tr:not(.k-filter-row)'));\n                    if (that.element.is(':visible')) {\n                        rows.find('th.k-group-cell').hide();\n                    }\n                } else if (groups < length) {\n                    container.find('tr').each(function () {\n                        $(this).find('th.k-group-cell').filter(':eq(' + groups + '),' + ':gt(' + groups + ')').remove();\n                    });\n                }\n                if (groups > filterCells) {\n                    $(new Array(groups - filterCells + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>')).prependTo(container.find('.k-filter-row'));\n                }\n            },\n            _firstDataItem: function (data, grouped) {\n                if (data && grouped) {\n                    if (data.hasSubgroups) {\n                        data = this._firstDataItem(data.items[0], grouped);\n                    } else {\n                        data = data.items[0];\n                    }\n                }\n                return data;\n            },\n            _updateTablesWidth: function () {\n                var that = this, tables;\n                if (!that._isLocked()) {\n                    return;\n                }\n                tables = $('>.k-grid-footer>.k-grid-footer-wrap>table', that.wrapper).add(that.thead.parent()).add(that.table);\n                that._footerWidth = tableWidth(tables.eq(0));\n                tables.width(that._footerWidth);\n                tables = $('>.k-grid-footer>.k-grid-footer-locked>table', that.wrapper).add(that.lockedHeader.find('>table')).add(that.lockedTable);\n                tables.width(tableWidth(tables.eq(0)));\n            },\n            hideColumn: function (column) {\n                var that = this, cell, tables, idx, cols, colWidth, position, width = 0, headerCellIndex, length, footer = that.footer || that.wrapper.find('.k-grid-footer'), virtualScroll = that.virtualScroll || {}, columns = that.columns, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, columnIndex, groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function (column) {\n                        return column.groupHeaderColumnTemplate;\n                    });\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n                var setColumnVisibility = that._columnVisibilitySetter(column);\n                if (column.columns && column.columns.length) {\n                    position = columnVisiblePosition(column, columns);\n                    setColumnVisibility(column, false);\n                    setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr:eq(' + position.row + ')>th'), position.cell, false);\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        this.hideColumn(column.columns[idx]);\n                    }\n                    that.trigger(COLUMNHIDE, { column: column });\n                    return;\n                }\n                columnIndex = inArray(column, visibleColumns(leafColumns(columns)));\n                setColumnVisibility(column, false);\n                that._setParentsVisibility(column, false);\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                var container = that.thead;\n                headerCellIndex = columnIndex;\n                if (that.lockedHeader && visibleLocked > columnIndex) {\n                    container = that.lockedHeader.find('>table>thead');\n                } else {\n                    headerCellIndex -= visibleLocked;\n                }\n                cell = leafDataCells(container).filter(isCellVisible).eq(headerCellIndex);\n                cell[0].style.display = 'none';\n                setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr.k-filter-row>th'), columnIndex, false);\n                if (footer[0]) {\n                    that._updateCols(footer.find('>.k-grid-footer-wrap>table'));\n                    that._updateLockedCols(footer.find('>.k-grid-footer-locked>table'));\n                    setCellVisibility(footer.find('.k-footer-template>td'), columnIndex, false);\n                }\n                if (virtualScroll.columns && !column.locked) {\n                    that._updateContentWidth();\n                    that.trigger(COLUMNHIDE, { column: column });\n                    return;\n                }\n                if (that.lockedTable && visibleLocked > columnIndex) {\n                    hideColumnCells(that.lockedTable.find('>tbody>tr'), columnIndex);\n                } else {\n                    hideColumnCells(that.tbody.children(), columnIndex - visibleLocked);\n                }\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                    that._syncLockedFooterHeight();\n                } else {\n                    cols = that.thead.prev().find('col');\n                    for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (cols[idx].className.indexOf('k-hierarchy-col') > -1) {\n                            width += outerWidth(cols[idx]);\n                            continue;\n                        }\n                        if (cols[idx].className.indexOf('k-group-col') > -1) {\n                            width += outerWidth(cols[idx]);\n                            continue;\n                        }\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            width += parseInt(colWidth, 10);\n                        } else {\n                            width = 0;\n                            break;\n                        }\n                    }\n                    tables = $('>.k-grid-header table:first,>.k-grid-footer table:first', that.wrapper).add(that.table);\n                    that._footerWidth = null;\n                    if (width) {\n                        tables.each(function () {\n                            this.style.width = width + 'px';\n                        });\n                        that._footerWidth = width;\n                        that._setContentWidth();\n                    }\n                }\n                that._updateFirstColumnClass();\n                that._updateStickyColumns();\n                if (groupHeaderColumnTemplateColumns.length > 0) {\n                    that._renderGroupRows();\n                }\n                that.trigger(COLUMNHIDE, { column: column });\n            },\n            _setParentsVisibility: function (column, visible) {\n                var that = this;\n                var columns = that.columns;\n                var idx;\n                var parents = [];\n                var parent;\n                var position;\n                var cell;\n                var colSpan;\n                var setColumnVisibility = that._columnVisibilitySetter(column);\n                var predicate = visible ? function (p) {\n                    return visibleColumns(p.columns).length && p.hidden;\n                } : function (p) {\n                    return !visibleColumns(p.columns).length && !p.hidden;\n                };\n                if (columnParents(column, columns, parents) && parents.length) {\n                    for (idx = parents.length - 1; idx >= 0; idx--) {\n                        parent = parents[idx];\n                        position = columnPosition(parent, columns);\n                        cell = elements($('>table>thead', this.lockedHeader), this.thead, '>tr:eq(' + position.row + ')>th:not(.k-group-cell):not(.k-hierarchy-cell)').eq(position.cell);\n                        if (predicate(parent)) {\n                            setColumnVisibility(parent, visible);\n                            cell[0].style.display = visible ? '' : 'none';\n                        }\n                        if (cell.filter('[' + kendo.attr('colspan') + ']').length) {\n                            colSpan = parseInt(cell.attr(kendo.attr('colspan')), 10);\n                            cell[0].colSpan = colSpan - hiddenLeafColumnsCount(parent.columns) || 1;\n                        }\n                    }\n                }\n            },\n            _updateContentWidth: function () {\n                var that = this;\n                var tables = that.table.add(that.thead.parent());\n                tables.css({ width: sumWidths(visibleLeafColumns(visibleNonLockedColumns(that.columns))) });\n                that.refresh();\n            },\n            showColumn: function (column) {\n                var that = this, idx, length, cell, tables, width, headerCellIndex, position, colWidth, cols, columns = that.columns, virtualScroll = that.virtualScroll || {}, footer = that.footer || that.wrapper.find('.k-grid-footer'), lockedColumnsCount = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).length : 0, columnIndex, originalColumn, columnLeafIndex, groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function (column) {\n                        return column.groupHeaderColumnTemplate;\n                    });\n                if (typeof column == 'number') {\n                    columnIndex = column;\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    $.each(flatColumns(columns), function (index, item) {\n                        if (item === column) {\n                            column = item;\n                            columnIndex = index;\n                            return false;\n                        }\n                    });\n                } else {\n                    $.each(flatColumns(columns), function (index, item) {\n                        if (item.field === column) {\n                            column = item;\n                            columnIndex = index;\n                            return false;\n                        }\n                    });\n                }\n                if (!column || isVisible(column)) {\n                    return;\n                }\n                var setColumnVisibility = that._columnVisibilitySetter(column);\n                if (column.columns && column.columns.length) {\n                    position = columnPosition(column, columns);\n                    originalColumn = flatColumns(that.options.columns)[columnIndex];\n                    setColumnVisibility(column, true);\n                    setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr:eq(' + position.row + ')>th'), position.cell, true);\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        if (!originalColumn.columns[idx].hidden) {\n                            this.showColumn(column.columns[idx]);\n                        }\n                    }\n                    that.trigger(COLUMNSHOW, { column: column });\n                    return;\n                }\n                columnLeafIndex = inArray(column, leafColumns(columns));\n                setColumnVisibility(column, true);\n                that._setParentsVisibility(column, true);\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                var container = that.thead;\n                headerCellIndex = columnLeafIndex;\n                if (that.lockedHeader && lockedColumnsCount > columnLeafIndex) {\n                    container = that.lockedHeader.find('>table>thead');\n                } else {\n                    headerCellIndex -= lockedColumnsCount;\n                }\n                cell = leafDataCells(container).eq(headerCellIndex);\n                cell[0].style.display = '';\n                setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr.k-filter-row>th'), columnLeafIndex, true);\n                if (footer[0]) {\n                    that._updateCols(footer.find('>.k-grid-footer-wrap>table'));\n                    that._updateLockedCols(footer.find('>.k-grid-footer-locked>table'));\n                    setCellVisibility(footer.find('.k-footer-template>td'), columnLeafIndex, true);\n                }\n                if (virtualScroll.columns && !column.locked) {\n                    that._updateContentWidth();\n                    that.trigger(COLUMNSHOW, { column: column });\n                    return;\n                }\n                if (that.lockedTable && lockedColumnsCount > columnLeafIndex) {\n                    showColumnCells(that.lockedTable.find('>tbody>tr'), columnLeafIndex);\n                } else {\n                    showColumnCells(that.tbody.children(), columnLeafIndex - lockedColumnsCount);\n                }\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                } else {\n                    tables = $('>.k-grid-header table:first,>.k-grid-footer table:first', that.wrapper).add(that.table);\n                    if (!column.width) {\n                        tables.width('');\n                    } else {\n                        width = 0;\n                        cols = that.thead.prev().find('col');\n                        for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                            colWidth = cols[idx].style.width;\n                            if (cols[idx].className.indexOf('k-hierarchy-col') > -1) {\n                                width += outerWidth(cols[idx]);\n                                continue;\n                            }\n                            if (cols[idx].className.indexOf('k-group-col') > -1) {\n                                width += outerWidth(cols[idx]);\n                                continue;\n                            }\n                            if (colWidth.indexOf('%') > -1) {\n                                width = 0;\n                                break;\n                            }\n                            width += parseInt(colWidth, 10);\n                        }\n                        that._footerWidth = null;\n                        if (width) {\n                            tables.each(function () {\n                                this.style.width = width + 'px';\n                            });\n                            that._footerWidth = width;\n                            that._setContentWidth();\n                        }\n                    }\n                }\n                that._updateFirstColumnClass();\n                that._updateStickyColumns();\n                if (groupHeaderColumnTemplateColumns.length > 0) {\n                    that._renderGroupRows();\n                }\n                that.trigger(COLUMNSHOW, { column: column });\n            },\n            _columnVisibilitySetter: function (column) {\n                var col = column || {};\n                if (isUndefined(col.media)) {\n                    return setColumnVisibility;\n                } else {\n                    return setColumnMediaVisibility;\n                }\n            },\n            _buildSkeleton: function () {\n                var visibleColumns = this.virtualCols ? this.virtualCols : visibleLeafColumns(this.columns);\n                var pageSize = this.dataSource.pageSize() || this.dataSource.total();\n                var loaderHTML = '';\n                var colspan;\n                if (this._hasVirtualColumns()) {\n                    colspan = parseInt(this.content.find('tr:first td:first').attr('colspan'), 10);\n                }\n                for (var i = 0; i < pageSize; i++) {\n                    loaderHTML += '<tr>';\n                    for (var j = 0; j < visibleColumns.length; j++) {\n                        if (colspan && !j) {\n                            loaderHTML += '<td colspan=\\'' + colspan + '\\'><span class=\\'k-skeleton k-skeleton-text k-skeleton-pulse\\'></span></td>';\n                        } else {\n                            loaderHTML += '<td><span class=\\'k-skeleton k-skeleton-text k-skeleton-pulse\\'></span></td>';\n                        }\n                    }\n                    loaderHTML += '</tr>';\n                }\n                return loaderHTML;\n            },\n            _progress: function (toggle) {\n                var element = this.element;\n                var endless = this.options.scrollable && this.options.scrollable.endless;\n                var loaderType = this.options.loaderType;\n                var isVirtualization = this.options.scrollable && this.options.scrollable.virtual;\n                var skeleton;\n                if (isVirtualization) {\n                    element = this.content;\n                } else if (this._editContainer && this._editMode() === 'popup') {\n                    element = this._editContainer;\n                } else if (this.lockedContent || endless) {\n                    element = this.wrapper;\n                } else if (this.element.is('table')) {\n                    element = this.element.parent();\n                } else if (this.content && this.content.length) {\n                    element = this.content;\n                }\n                if (loaderType == 'skeleton') {\n                    if (toggle) {\n                        skeleton = this._buildSkeleton();\n                        element.find('tbody').empty().append(skeleton);\n                    } else {\n                        element.find('.k-skeleton').closest('tbody').empty();\n                    }\n                } else {\n                    if (endless && toggle) {\n                        kendo.ui.progress(element, toggle, {\n                            height: this.content.height(),\n                            top: this.content[0].offsetTop,\n                            opacity: true\n                        });\n                    } else {\n                        kendo.ui.progress(element, toggle);\n                    }\n                }\n            },\n            _resize: function (size, force) {\n                this._syncLockedContentHeight();\n                this._syncLockedHeaderHeight();\n                if (this.content) {\n                    this._setContentWidth();\n                    this._setContentHeight();\n                }\n                if (this.lockedTable) {\n                    this._syncLockedScroll();\n                }\n                if (this.virtualScrollable && (force || this._rowHeight)) {\n                    if (force) {\n                        this._rowHeight = null;\n                    }\n                    this.virtualScrollable.repaintScrollbar();\n                }\n                if (this.pager && this.pager.element) {\n                    this.pager.resize(force);\n                }\n                if (this._anyStickyColumns()) {\n                    this._updateStickyColumns(false);\n                }\n            },\n            _isActiveInTable: function () {\n                var active = activeElement();\n                if (!active) {\n                    return false;\n                }\n                return this.table[0] === active || $.contains(this.table[0], active) || this._isLocked() && (this.lockedTable[0] === active || $.contains(this.lockedTable[0], active));\n            },\n            refresh: function (e) {\n                var that = this, data = that.dataSource.view(), navigatable = that.options.navigatable, virtualScroll = that.virtualScroll || {}, currentIndex, current = $(that.current()), isCurrentInHeader = false, groups = (that.dataSource.group() || []).length, colspan = groups + visibleLeafColumns(visibleColumns(that.columns)).length, contentScrollLeft, cachedItemsToSkip;\n                if (e && e.action === 'itemchange' && (that.editable || that.options.scrollable.endless)) {\n                    if (this._editMode() != 'popup' || this._editMode() === 'popup' && !that._editableIsClosing) {\n                        return;\n                    }\n                }\n                if (virtualScroll.columns) {\n                    that._templates();\n                }\n                if (e && e.action === 'remove' && that.editable && that.editable.options.model && inArray(that.editable.options.model, e.items) > -1) {\n                    that.editable.options.model.unbind(CHANGE, that._modelChangeHandler);\n                }\n                e = e || {};\n                if (that.trigger('dataBinding', {\n                        action: e.action || 'rebind',\n                        index: e.index,\n                        items: e.items\n                    })) {\n                    return;\n                }\n                if (e.action === SYNC && that._isVirtualEditable()) {\n                    that._destroyEditable();\n                    that._clearEditableState();\n                }\n                that._angularItems('cleanup');\n                if (!that._endlessFetchInProgress) {\n                    if (navigatable && (that._isActiveInTable() || that._editContainer && that._editContainer.data('kendoWindow'))) {\n                        isCurrentInHeader = current.is('th');\n                        currentIndex = isCurrentInHeader ? current.parent().children(':not(.k-group-cell)').index(current[0]) : Math.max(that.cellIndex(current), 0);\n                    }\n                    that._destroyEditable();\n                }\n                if (that.options.scrollable && that.options.scrollable.endless) {\n                    clearTimeout(that._progressTimeOut);\n                    that._progressTimeOut = setTimeout(function () {\n                        if (!that._endlessFetchInProgress) {\n                            that._progress(false);\n                        }\n                    }, 100);\n                } else {\n                    that._progress(false);\n                }\n                that._hideResizeHandle();\n                that._data = [];\n                if (!that.columns.length) {\n                    that._autoColumns(that._firstDataItem(data[0], groups));\n                    colspan = groups + that.columns.length;\n                }\n                that._group = groups > 0 || that._group;\n                if (that._group) {\n                    that._templates();\n                    that._updateCols();\n                    that._updateLockedCols();\n                    if (!that._virtualColScroll) {\n                        that._updateHeader(groups);\n                    }\n                    that._group = groups > 0;\n                    that._groupRows = groupRows(data);\n                }\n                if (that.content) {\n                    contentScrollLeft = kendo.scrollLeft(that.content);\n                }\n                cachedItemsToSkip = that._skipRerenderItemsCount;\n                that._renderContent(data, colspan, groups);\n                if (that.options.scrollable && that.options.scrollable.endless && this.lockedContent) {\n                    that._skipRerenderItemsCount = cachedItemsToSkip;\n                }\n                that._renderLockedContent(data, colspan, groups);\n                if (!that._virtualColScroll) {\n                    that._footer();\n                    that._renderNoRecordsContent();\n                    that._togglePagerVisibility();\n                    that._setContentHeight();\n                    that._setContentWidth(that.content && contentScrollLeft);\n                }\n                if (that.lockedTable) {\n                    if (virtualScroll.rows) {\n                        that.content.find('>.k-virtual-scrollable-wrap').trigger('scroll');\n                    } else if (that.touchScroller) {\n                        that.touchScroller.movable.trigger('change');\n                    } else {\n                        that.wrapper.one('scroll', function (e) {\n                            e.stopPropagation();\n                        });\n                        that.content.trigger('scroll');\n                    }\n                }\n                if (!that._endlessFetchInProgress) {\n                    that._restoreCurrent(currentIndex, isCurrentInHeader);\n                }\n                if (that.touchScroller) {\n                    that.touchScroller.contentResized();\n                }\n                if (that.selectable) {\n                    that.selectable.resetTouchEvents();\n                }\n                that._muteAngularRebind(function () {\n                    that._angularItems('compile');\n                });\n                if (that._checkBoxSelection) {\n                    that._toggleHeaderCheckState(false);\n                }\n                if (that.options.persistSelection && (that.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell || that._checkBoxSelection) && (that.items().length || that.dataSource._isGroupPaged())) {\n                    that._restoreSelection();\n                }\n                that.trigger(DATABOUND);\n            },\n            _restoreCurrent: function (currentIndex, isCurrentInHeader) {\n                if (currentIndex === undefined || currentIndex < 0) {\n                    return;\n                }\n                this._removeCurrent();\n                if (isCurrentInHeader) {\n                    this._setCurrent(this.thead.find('th:not(.k-group-cell)').eq(currentIndex));\n                } else {\n                    var rowIndex = 0;\n                    var virtualScroll = this.virtualScroll || {};\n                    if (this._rowVirtualIndex) {\n                        if (virtualScroll.rows) {\n                            rowIndex = this.virtualScrollable.position(this._rowVirtualIndex);\n                        } else {\n                            rowIndex = this._rowVirtualIndex;\n                        }\n                    } else {\n                        currentIndex = 0;\n                    }\n                    var row = $();\n                    var colspan;\n                    if (this.lockedTable) {\n                        row = this.lockedTable.find('>tbody>tr').eq(rowIndex);\n                    }\n                    row = row.add(this.tbody.children().eq(rowIndex));\n                    if (this._hasVirtualColumns()) {\n                        colspan = parseInt(row.find('td:first').attr('colspan'), 10);\n                        currentIndex = this._virtualCellIndex - (colspan > 1 ? colspan - 1 : 0);\n                    }\n                    var td = row.find('>td:not(.k-group-cell):not(.k-hierarchy-cell)').eq(currentIndex);\n                    if (!td.length || currentIndex < 0) {\n                        return;\n                    }\n                    if (this._hasVirtualColumns()) {\n                        this._setCurrent(td, true, true);\n                    } else {\n                        this._setCurrent(td);\n                    }\n                }\n                if (this._current) {\n                    focusTable(this._current.closest('table')[0], true);\n                }\n            },\n            _restoreSelection: function () {\n                var that = this, allRows = that.items(), selectedRows, id = isFunction(that.dataSource.options.schema.model) ? that.dataSource.options.schema.model.fn.idField : that.dataSource.options.schema.model.id;\n                selectedRows = grep(allRows, function (row) {\n                    var dataItemKey = that.dataItem(row)[id];\n                    if (that._selectedIds[dataItemKey]) {\n                        return row;\n                    }\n                });\n                that.select(selectedRows);\n            },\n            _angularItems: function (cmd) {\n                kendo.ui.DataBoundWidget.fn._angularItems.call(this, cmd);\n                if (cmd === 'cleanup' && (!this.dataSource || !this.dataSource.options.endless)) {\n                    this._cleanupDetailItems();\n                }\n                this._angularGroupItems(cmd);\n                this._angularGroupFooterItems(cmd);\n            },\n            _cleanupDetailItems: function () {\n                var that = this;\n                if (that._hasDetails()) {\n                    that.angular('cleanup', function () {\n                        return { elements: that.tbody.children('.k-detail-row') };\n                    });\n                    that.tbody.find('.k-detail-cell').empty();\n                }\n            },\n            _angularGroupItems: function (cmd) {\n                var that = this, container = that.tbody;\n                if (that.lockedContent) {\n                    container = that.lockedTable.find('tbody');\n                }\n                if (that._group) {\n                    that.angular(cmd, function () {\n                        return {\n                            elements: container.children('.k-grouping-row'),\n                            data: $.map(groupRows(that.dataSource.view()), function (dataItem) {\n                                return { dataItem: dataItem };\n                            })\n                        };\n                    });\n                }\n            },\n            _angularGroupFooterItems: function (cmd) {\n                var that = this, container = that.tbody;\n                if (that.lockedContent) {\n                    container = that.element;\n                }\n                if (that._group && that.groupFooterTemplate) {\n                    that.angular(cmd, function () {\n                        return {\n                            elements: container.find('.k-group-footer'),\n                            data: $.map(groupFooters(that.dataSource.view()), function (dataItem) {\n                                return { dataItem: dataItem };\n                            })\n                        };\n                    });\n                }\n            },\n            _renderContent: function (data, colspan, groups) {\n                var that = this, idx, length, html = '', isLocked = that.lockedContent != null, endlessAppend = null, skipLastGroup, flatViewLength, scrollable = that.options.scrollable, templates = {\n                        rowTemplate: that.rowTemplate,\n                        altRowTemplate: that.altRowTemplate,\n                        groupFooterTemplate: that.groupFooterTemplate,\n                        groupHeaderColumnTemplate: that.groupHeaderColumnTemplate\n                    };\n                if (scrollable && scrollable.endless && !that.dataSource.options.endless) {\n                    that._skipRerenderItemsCount = 0;\n                    if (that.content) {\n                        that.content[0].scrollTop = 0;\n                    }\n                }\n                endlessAppend = that._skipRerenderItemsCount > 0;\n                colspan = isLocked ? colspan - visibleLeafColumns(visibleLockedColumns(that.columns)).length : colspan;\n                if (groups > 0) {\n                    colspan = isLocked ? colspan - groups : colspan;\n                    if (that.detailTemplate) {\n                        colspan++;\n                    }\n                    if (that.groupFooterTemplate) {\n                        that._groupAggregatesDefaultObject = that.dataSource.aggregates();\n                    }\n                    if (that.options.scrollable.endless) {\n                        flatViewLength = that.dataSource.flatView().length;\n                    }\n                    for (idx = 0, length = data.length; idx < length; idx++) {\n                        if (!that._skippedGroups) {\n                            that._skippedGroups = [];\n                        }\n                        skipLastGroup = flatViewLength && idx === data.length - 1 && flatViewLength !== that.dataSource.total();\n                        html += that._groupRowHtml(data[idx], colspan, 0, isLocked ? groupRowLockedContentBuilder : groupRowBuilder, templates, isLocked, skipLastGroup);\n                    }\n                } else {\n                    html += that._rowsHtml(data, templates);\n                }\n                if (endlessAppend) {\n                    that.tbody.append(html);\n                    clearTimeout(that._endlessFetchTimeOut);\n                    that._endlessFetchTimeOut = setTimeout(function () {\n                        if (that._groupToCollapse) {\n                            that.collapseGroup(that._groupToCollapse);\n                            that._groupToCollapse = null;\n                        }\n                    });\n                    that._endlessFetchInProgress = null;\n                } else {\n                    that.tbody = appendContent(that.tbody, that.table, html, this.options.$angular);\n                }\n            },\n            _renderGroupRows: function () {\n                var that = this, data = that._groupRows, groupRows = that.wrapper.find('.k-grouping-row'), groups = that._groups(), groupRowBuilderFunc, isLocked = that.lockedContent != null, columns, colspan, group, field, column, template, text, groupHeaderData, tableContainer, isInLockedContainer, prevElement, newGroupRowElement, currentRow, level, groupHeaderColumnTemplate, firstColumnGroupData;\n                groupRows.each(function (index, row) {\n                    currentRow = $(row);\n                    tableContainer = currentRow.closest('table').parent();\n                    isInLockedContainer = tableContainer.is('.' + CONTENTRLOCKEDCONTAINER);\n                    columns = isInLockedContainer ? visibleLeafColumns(visibleColumns(lockedColumns(that.columns))) : visibleLeafColumns(visibleColumns(nonLockedColumns(that.columns)));\n                    level = currentRow.find('.' + GROUPCELLCLASS).length;\n                    if (isLocked) {\n                        groupRowBuilderFunc = isInLockedContainer ? groupRowBuilder : groupRowLockedContentBuilder;\n                        colspan = isInLockedContainer ? columns.length + groups - level : columns.length;\n                    } else {\n                        groupRowBuilderFunc = groupRowBuilder;\n                        colspan = columns.length + groups - level;\n                    }\n                    group = index >= data.length ? data[index - data.length] : data[index];\n                    field = group.field;\n                    column = grep(leafColumns(that.columns), function (column) {\n                        return column.field == field;\n                    })[0] || {};\n                    firstColumnGroupData = !column.groupHeaderTemplate && visibleColumns(that.columns)[0].groupHeaderColumnTemplate ? visibleColumns(that.columns)[0] : false;\n                    template = column.groupHeaderTemplate ? column.groupHeaderTemplate : visibleColumns(that.columns)[0].groupHeaderColumnTemplate;\n                    text = (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || field) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded);\n                    groups = groups;\n                    groupHeaderData = that._groupData(group, false, firstColumnGroupData);\n                    groupHeaderColumnTemplate = isInLockedContainer ? that.lockedGroupHeaderColumnTemplate : that.groupHeaderColumnTemplate;\n                    if (template) {\n                        text = typeof template === FUNCTION ? template(groupHeaderData) : kendo.template(template)(groupHeaderData);\n                    }\n                    prevElement = currentRow.prev().length ? currentRow.prev() : currentRow.parent();\n                    newGroupRowElement = $(groupHeaderColumnTemplate ? groupHeaderColumnTemplate(extend({}, groupHeaderData, {\n                        groupCells: level,\n                        colspan: groups - level,\n                        text: text\n                    })) : groupRowBuilderFunc(colspan, level, text));\n                    if (prevElement.is('tbody')) {\n                        prevElement.prepend(newGroupRowElement);\n                    } else {\n                        prevElement.after(newGroupRowElement);\n                    }\n                    currentRow.remove();\n                });\n            },\n            _renderLockedContent: function (data, colspan, groups) {\n                var html = '', idx, length, endlessAppend = null, templates = {\n                        rowTemplate: this.lockedRowTemplate,\n                        altRowTemplate: this.lockedAltRowTemplate,\n                        groupFooterTemplate: this.lockedGroupFooterTemplate,\n                        groupHeaderColumnTemplate: this.lockedGroupHeaderColumnTemplate\n                    };\n                if (this.lockedContent) {\n                    var table = this.lockedTable;\n                    endlessAppend = this._skipRerenderItemsCount > 0;\n                    if (groups > 0) {\n                        colspan = colspan - visibleColumns(leafColumns(nonLockedColumns(this.columns))).length;\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            html += this._groupRowHtml(data[idx], colspan, 0, groupRowBuilder, templates, false, this.options.scrollable.endless && idx === data.length - 1);\n                        }\n                    } else {\n                        html = this._rowsHtml(data, templates);\n                    }\n                    if (endlessAppend) {\n                        table.children('tbody').append(html);\n                    } else {\n                        appendContent(table.children('tbody'), table, html, this.options.$angular);\n                    }\n                    this._syncLockedContentHeight();\n                }\n            },\n            _togglePagerVisibility: function () {\n                if (this.options.pageable.alwaysVisible === false) {\n                    this.wrapper.find('.k-grid-pager').toggle(this.dataSource.total() >= this.dataSource.pageSize());\n                }\n            },\n            _adjustRowsHeight: function (table1, table2) {\n                var rows = table1[0].rows, length = rows.length, idx, rows2 = table2[0].rows, containers = table1.add(table2), containersLength = containers.length, heights = [];\n                for (idx = 0; idx < length; idx++) {\n                    if (!rows2[idx]) {\n                        break;\n                    }\n                    if (rows[idx].style.height) {\n                        rows[idx].style.height = rows2[idx].style.height = '';\n                    }\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (!rows2[idx]) {\n                        break;\n                    }\n                    var offsetHeight1 = rows[idx].offsetHeight;\n                    var offsetHeight2 = rows2[idx].offsetHeight;\n                    var height = 0;\n                    if (offsetHeight1 > offsetHeight2) {\n                        height = offsetHeight1;\n                    } else if (offsetHeight1 < offsetHeight2) {\n                        height = offsetHeight2;\n                    }\n                    heights.push(height);\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = 'none';\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (heights[idx]) {\n                        rows[idx].style.height = rows2[idx].style.height = heights[idx] + 1 + 'px';\n                    }\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = '';\n                }\n            }\n        });\n        if (kendo.ExcelMixin) {\n            kendo.ExcelMixin.extend(Grid.prototype);\n        }\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Grid.prototype);\n            Grid.prototype._drawPDF_autoPageBreak = function (progress) {\n                var grid = this;\n                var result = new $.Deferred();\n                var dataSource = grid.dataSource;\n                var allPages = grid.options.pdf.allPages;\n                var origBody = grid.wrapper.find('table[role$=\"grid\"] > tbody').first();\n                var cont = $('<div>').css({\n                    position: 'absolute',\n                    left: -10000,\n                    top: -10000\n                });\n                var clone;\n                grid.toggleUnexportableColumns(grid.columns);\n                clone = grid.wrapper.clone().css({\n                    height: 'auto',\n                    width: 'auto'\n                }).appendTo(cont);\n                clone.find('.k-grid-content').css({\n                    height: 'auto',\n                    width: 'auto',\n                    overflow: 'visible'\n                });\n                clone.find('table[role$=\"grid\"], .k-grid-footer table').css({\n                    height: 'auto',\n                    width: '100%',\n                    overflow: 'visible'\n                });\n                clone.find('.k-grid-pager, .k-grid-toolbar, .k-grouping-header').remove();\n                clone.find('.k-grid-header, .k-grid-footer, .k-auto-scrollable').css({ paddingRight: 0 });\n                this._initPDFProgress(progress);\n                var body = clone.find('table[role$=\"grid\"] > tbody').first().empty();\n                var startingPage = dataSource.page();\n                function resolve() {\n                    if (allPages && startingPage !== undefined) {\n                        dataSource.one('change', draw);\n                        dataSource.page(startingPage);\n                    } else {\n                        grid.refresh();\n                        draw();\n                    }\n                }\n                function draw() {\n                    cont.appendTo(document.body);\n                    var options = $.extend({}, grid.options.pdf, {\n                        _destructive: true,\n                        progress: function (p) {\n                            progress.notify({\n                                page: p.page,\n                                pageNumber: p.pageNum,\n                                progress: 0.5 + p.pageNum / p.totalPages / 2,\n                                totalPages: p.totalPages\n                            });\n                        }\n                    });\n                    kendo.drawing.drawDOM(clone, options).always(function () {\n                        cont.remove();\n                    }).then(function (group) {\n                        result.resolve(group);\n                        grid.toggleUnexportableColumns(grid.columns, true);\n                    }).fail(function (err) {\n                        result.reject(err);\n                    });\n                }\n                function renderPage() {\n                    var pageNum = dataSource.page();\n                    var totalPages = allPages ? dataSource.totalPages() : 1;\n                    body.append(origBody.children('tr:not(.k-detail-row)'));\n                    if (pageNum < totalPages) {\n                        dataSource.page(pageNum + 1);\n                    } else {\n                        dataSource.unbind('change', renderPage);\n                        resolve();\n                    }\n                }\n                if (allPages) {\n                    dataSource.bind('change', renderPage);\n                    dataSource.page(1);\n                } else {\n                    renderPage();\n                }\n                return result.promise();\n            };\n            Grid.prototype.toggleUnexportableColumns = function (columns, restore) {\n                var length = columns.length;\n                var column;\n                var exportable;\n                var visibleInExport;\n                var visibleInExportOnly;\n                for (var i = 0; i < length; i++) {\n                    column = columns[i];\n                    exportable = column.exportable;\n                    if (!restore) {\n                        if (typeof column.exportable === 'object') {\n                            exportable = column.exportable.pdf;\n                        }\n                        visibleInExport = !column.hidden && exportable !== false;\n                        visibleInExportOnly = column.hidden && exportable === true;\n                        exportable = visibleInExport || visibleInExportOnly;\n                        if (!exportable && !column.hidden) {\n                            column._toggledDuringExport = true;\n                            this.hideColumn(column);\n                        } else if (exportable && column.hidden) {\n                            column._toggledDuringExport = true;\n                            this.showColumn(column);\n                        } else if (exportable && column.columns) {\n                            this.toggleUnexportableColumns(column.columns);\n                        }\n                    } else {\n                        if (column._toggledDuringExport) {\n                            column._toggledDuringExport = false;\n                            if (column.hidden) {\n                                this.showColumn(column);\n                            } else {\n                                this.hideColumn(column);\n                            }\n                        } else if (column.columns) {\n                            this.toggleUnexportableColumns(column.columns, restore);\n                        }\n                    }\n                }\n            };\n            Grid.prototype._drawPDF = function (progress) {\n                var grid = this;\n                if (grid.options.pdf.paperSize && grid.options.pdf.paperSize != 'auto') {\n                    return grid._drawPDF_autoPageBreak(progress);\n                }\n                var result = new $.Deferred();\n                var dataSource = grid.dataSource;\n                var allPages = grid.options.pdf.allPages;\n                this._initPDFProgress(progress);\n                var doc = new kendo.drawing.Group();\n                var startingPage = dataSource.page();\n                function resolve() {\n                    if (allPages && startingPage !== undefined) {\n                        dataSource.unbind('change', exportPage);\n                        dataSource.one('change', function () {\n                            result.resolve(doc);\n                        });\n                        dataSource.page(startingPage);\n                    } else {\n                        result.resolve(doc);\n                    }\n                }\n                function exportPage() {\n                    grid.toggleUnexportableColumns(grid.columns);\n                    grid._drawPDFShadow({ width: grid.wrapper.width() }, { avoidLinks: grid.options.pdf.avoidLinks }).done(function (group) {\n                        var pageNum = dataSource.page();\n                        var totalPages = allPages ? dataSource.totalPages() : 1;\n                        var args = {\n                            page: group,\n                            pageNumber: pageNum,\n                            progress: pageNum / totalPages,\n                            totalPages: totalPages\n                        };\n                        grid.toggleUnexportableColumns(grid.columns, true);\n                        progress.notify(args);\n                        doc.append(args.page);\n                        if (pageNum < totalPages) {\n                            dataSource.page(pageNum + 1);\n                        } else {\n                            resolve();\n                        }\n                    }).fail(function (err) {\n                        result.reject(err);\n                    });\n                }\n                if (allPages) {\n                    dataSource.bind('change', exportPage);\n                    dataSource.page(1);\n                } else {\n                    exportPage();\n                }\n                return result.promise();\n            };\n            Grid.prototype._initPDFProgress = function (deferred) {\n                var loading = $('<div class=\\'k-loading-pdf-mask\\'><div class=\\'k-loading-color\\'></div></div>');\n                loading.prepend(this.wrapper.clone().css({\n                    position: 'absolute',\n                    top: 0,\n                    left: 0\n                }));\n                this.wrapper.append(loading);\n                var pb = $('<div class=\\'k-loading-pdf-progress\\'>').appendTo(loading).kendoProgressBar({\n                    type: 'chunk',\n                    chunkCount: 10,\n                    min: 0,\n                    max: 1,\n                    value: 0\n                }).data('kendoProgressBar');\n                deferred.progress(function (e) {\n                    pb.value(e.progress);\n                }).always(function () {\n                    kendo.destroy(loading);\n                    loading.remove();\n                });\n            };\n        }\n        function syncTableHeight(table1, table2) {\n            table1 = table1[0];\n            table2 = table2[0];\n            if (table1.rows.length !== table2.rows.length) {\n                var lockedHeigth = table1.offsetHeight;\n                var tableHeigth = table2.offsetHeight;\n                var row;\n                var diff;\n                if (lockedHeigth > tableHeigth) {\n                    row = table2.rows[table2.rows.length - 1];\n                    if (filterRowRegExp.test(row.className)) {\n                        row = table2.rows[table2.rows.length - 2];\n                    }\n                    diff = lockedHeigth - tableHeigth;\n                } else {\n                    row = table1.rows[table1.rows.length - 1];\n                    if (filterRowRegExp.test(row.className)) {\n                        row = table1.rows[table1.rows.length - 2];\n                    }\n                    diff = tableHeigth - lockedHeigth;\n                }\n                row.style.height = row.offsetHeight + diff + 'px';\n            }\n        }\n        function adjustRowHeight(row1, row2) {\n            var height;\n            var offsetHeight1 = row1.offsetHeight;\n            var offsetHeight2 = row2.offsetHeight;\n            if (offsetHeight1 > offsetHeight2) {\n                height = offsetHeight1 + 'px';\n            } else if (offsetHeight1 < offsetHeight2) {\n                height = offsetHeight2 + 'px';\n            }\n            if (height) {\n                row1.style.height = row2.style.height = height;\n            }\n        }\n        function getCommand(commands, name) {\n            var idx, length, command;\n            if (typeof commands === STRING && commands === name) {\n                return commands;\n            }\n            if (isPlainObject(commands) && commands.name === name) {\n                return commands;\n            }\n            if (isArray(commands)) {\n                for (idx = 0, length = commands.length; idx < length; idx++) {\n                    command = commands[idx];\n                    if (typeof command === STRING && command === name || command.name === name) {\n                        return command;\n                    }\n                }\n            }\n            return null;\n        }\n        function focusTable(table, direct) {\n            if (direct === true) {\n                table = $(table);\n                var scrollLeft = kendo.scrollLeft(table.parent());\n                kendo.focusElement(table);\n                kendo.scrollLeft(table.parent(), scrollLeft);\n            } else {\n                $(table).one('focusin', function (e) {\n                    e.preventDefault();\n                }).focus();\n            }\n        }\n        function isColumnGroupable(grid, column) {\n            return grid.options.groupable && (column.groupable || column.groupable === undefined);\n        }\n        function isGroupedBy(groups, field) {\n            return !!$.grep(groups, function (item) {\n                return item.field === field;\n            }).length;\n        }\n        function isColumnEditable(column, model) {\n            if (!column.field || column.selectable) {\n                return false;\n            }\n            if (model.editable && !model.editable(column.field)) {\n                return false;\n            }\n            if (column.editable && !column.editable(model)) {\n                return false;\n            }\n            return true;\n        }\n        function isInputElement(element) {\n            return $(element).is(':button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown');\n        }\n        function tableClick(e) {\n            var currentTarget = $(e.currentTarget), isHeader = currentTarget.is('th'), table = this.table.add(this.lockedTable), headerTable = this.thead.parent().add($('>table', this.lockedHeader)), isInput = isInputElement(e.target), preventScroll = $(e.target).is('.k-checkbox'), target = $(e.target), currentTable = currentTarget.closest('table')[0];\n            if (isInput && currentTarget.find(kendo.roleSelector('filtercell')).length) {\n                this._setCurrent(currentTarget);\n                return;\n            }\n            if (currentTable !== table[0] && currentTable !== table[1] && currentTable !== headerTable[0] && currentTable !== headerTable[1]) {\n                return;\n            }\n            if (target.is('a.k-i-expand, a.k-i-collapse')) {\n                return;\n            }\n            if (this.options.navigatable) {\n                this._setCurrent(currentTarget, false, preventScroll);\n            }\n            if (isHeader || !isInput) {\n                setTimeout(function () {\n                    if ($(kendo._activeElement()).hasClass('k-widget')) {\n                        return;\n                    }\n                    if ($(kendo._activeElement()).is(CHECKBOXINPUT) || !isInputElement(kendo._activeElement()) || !$.contains(currentTable, kendo._activeElement())) {\n                        focusTable(currentTable, true);\n                    }\n                });\n            }\n            if (isHeader && !kendo.support.touch) {\n                e.preventDefault();\n            }\n        }\n        function leftMostPosition(element, rtl) {\n            if (!rtl) {\n                return 0;\n            }\n            var result = 0;\n            if (kendo.support.browser.webkit) {\n                result = element.width();\n            }\n            return result;\n        }\n        function parseVirtualSettings(options) {\n            var asLowerString;\n            if (typeof options === 'string') {\n                asLowerString = options.toLowerCase();\n                if (asLowerString === 'true') {\n                    return { rows: true };\n                } else {\n                    return {\n                        rows: asLowerString.indexOf('rows') > -1,\n                        columns: asLowerString.indexOf('columns') > -1\n                    };\n                }\n            } else if (options === true) {\n                return { rows: true };\n            }\n        }\n        function isElementVisibleInWrapper(wrapper, element) {\n            var offsetTop;\n            var halfHeight;\n            if (!wrapper) {\n                return false;\n            }\n            element = $(element);\n            if (element[0] && contains(wrapper[0], element[0])) {\n                offsetTop = element.offset().top - wrapper.offset().top;\n                halfHeight = element.outerHeight() / 2;\n                if ((offsetTop >= 0 || math.abs(offsetTop) <= halfHeight) && math.floor(offsetTop + halfHeight) <= wrapper.height()) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        function isInEdit(cell) {\n            return cell && (cell.hasClass('k-edit-cell') || cell.parent().hasClass('k-grid-edit-row'));\n        }\n        function groupCellBuilder(headerTemplateIndex) {\n            return '<td colspan=\"#=data.colspan +' + headerTemplateIndex + '#\">' + '<p class=\"k-reset\">' + '<a class=\"k-icon k-i-collapse\" href=\"\\\\#\" tabindex=\"-1\" ' + ARIALABEL + '=\"' + COLLAPSE + '\"></a>#=data.text#' + '</p></td>';\n        }\n        function groupCellLockedContentBuilder(headerTemplateIndex) {\n            return '<td colspan=\"' + headerTemplateIndex + '\">' + '<p class=\"k-reset\">&nbsp;</p></td>';\n        }\n        function groupRowBuilder(colspan, level, text, expanded, uid, includeAdditionalData) {\n            return '<tr role=\"row\"' + (includeAdditionalData ? 'data-group-uid=\"' + uid + '\"' : '') + 'class=\"k-grouping-row\">' + groupCells(level) + '<td colspan=\"' + colspan + '\" aria-expanded=\"' + !!expanded + '\">' + '<p class=\"k-reset\">' + '<a class=\"k-icon ' + (expanded ? 'k-i-collapse' : 'k-i-expand') + '\" href=\"#\" tabindex=\"-1\" ' + ARIALABEL + '=\"' + (expanded ? COLLAPSE : EXPAND) + '\"></a>' + text + '</p></td></tr>';\n        }\n        function groupRowLockedContentBuilder(colspan) {\n            return '<tr role=\"row\" class=\"k-grouping-row\">' + '<td colspan=\"' + colspan + '\" aria-expanded=\"true\">' + '<p class=\"k-reset\">&nbsp;</p></td></tr>';\n        }\n        function toggleRow(row, visible) {\n            row = $(row)[0];\n            if (visible) {\n                row.style.display = '';\n            } else {\n                row.style.display = 'none';\n            }\n        }\n        function htmlEncode(value, backslashEscapeQuotes) {\n            var ampRegExp = /&/g, ltRegExp = /</g, quoteRegExp = /\"/g, aposRegExp = /'/g, gtRegExp = />/g;\n            return ('' + value).replace(ampRegExp, '&amp;').replace(ltRegExp, '&lt;').replace(gtRegExp, '&gt;').replace(quoteRegExp, function (match) {\n                if (backslashEscapeQuotes) {\n                    return '\\\\' + match;\n                }\n                return '&quot;';\n            }).replace(aposRegExp, '&#39;');\n        }\n        function getTitle(field, columns) {\n            return columns.filter(function (col) {\n                return col.field === field;\n            })[0].title || field;\n        }\n        function exportDataSort(a, b) {\n            return this.dataSource.indexOf(this.dataSource.getByUid(a.uid)) - this.dataSource.indexOf(this.dataSource.getByUid(b.uid));\n        }\n        function isExcelExportableColumn(column) {\n            return !(column.exportable === false || column.exportable && column.exportable.excel === false);\n        }\n        ui.plugin(Grid);\n        ui.plugin(VirtualScrollable);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}